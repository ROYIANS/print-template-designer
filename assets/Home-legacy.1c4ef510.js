!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}System.register(["./index-legacy.40ec7c82.js"],(function(t,n){"use strict";var r,i,o=document.createElement("style");return o.innerHTML=".roy-designer-aside__main{height:100%;width:100%;display:flex;background:var(--roy-bg-color-overlay)}.roy-designer-aside__main .roy-designer-aside__menu{height:100%}.roy-designer-aside__main .roy-designer-aside__menu .el-menu-item{overflow:hidden;padding:0}.roy-designer-aside__main .roy-designer-aside__menu .roy-designer-aside__menu__icon{display:grid;top:-7px;position:relative;align-items:center;vertical-align:center;align-content:center}.roy-designer-aside__main .roy-designer-aside__menu .roy-designer-aside__menu__icon i{padding:0;margin:0;font-size:20px}.roy-designer-aside__main .roy-designer-aside__menu .roy-designer-aside__menu__icon span{line-height:14px;visibility:visible;height:auto;width:auto;font-size:8px;top:-14px;position:relative}.roy-designer-aside__main .roy-designer-aside__right_panel{width:calc(100% - 64px);background:var(--roy-bg-color-overlay)}.roy-designer-main__toolbar{display:flex;justify-content:space-between;align-items:center}.roy-designer-main__toolbar .roy-designer-main__toolbar_left{display:flex;justify-content:start}.roy-designer-main__toolbar .roy-designer-main__toolbar_right{display:flex;justify-content:end}.roy-designer-main__toolbar .roy-designer-main__toolbar__item{cursor:pointer;background:var(--roy-bg-color);display:grid;width:18px;height:18px;font-size:10px;line-height:18px;box-shadow:rgba(99,99,99,.2) 0 2px 8px;padding:4px;text-align:center;border-radius:4px}.roy-designer-main__toolbar .roy-designer-main__toolbar__item+.roy-designer-main__toolbar__item{margin-left:5px}.roy-designer-main__toolbar .roy-designer-main__toolbar__item:hover{background:var(--roy-bg-color-page)}.roy-designer-main__toolbar .roy-designer-main__toolbar__item i{padding:0;margin:0;font-size:14px}.roy-ruler-box{width:100%;height:calc(100% - 4px);position:relative}.roy-ruler-box .roy-ruler-outer-box{position:absolute;top:0;left:0;width:16px;height:16px;background:var(--prism-background);box-sizing:border-box}.roy-ruler-box .roy-ruler-horizontal-wrapper{position:absolute;top:0;left:16px;width:calc(100% - 16px);height:16px;overflow:hidden}.roy-ruler-box .roy-ruler-vertical-wrapper{position:absolute;left:0;top:16px;width:16px;height:calc(100% - 16px)}.roy-ruler-box .roy-ruler-inner-box{position:absolute;left:16px;top:16px;width:calc(100% - 16px);height:calc(100% - 16px);overflow:auto}.roy-ruler-box .roy-ruler-inner-box .roy-ruler-inner-box-content{position:absolute;width:fit-content;overflow:auto;left:16px;top:16px;padding:8px}.roy-ruler-box .roy-ruler{width:100%;height:100%}.roy-designer-main__page{height:calc(100% - 50px);padding:0;margin:0;background-color:#fff;background-image:linear-gradient(45deg,rgb(247,247,247) 25%,transparent 25%),linear-gradient(-45deg,rgb(247,247,247) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgb(247,247,247) 75%),linear-gradient(-45deg,transparent 75%,rgb(247,247,247) 75%);background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0px}.roy-designer-main__page #designer-page{margin:auto;padding:15px;background:var(--roy-bg-color);box-shadow:rgba(0,0,0,.12) 0 1px 3px,rgba(0,0,0,.24) 0 1px 2px;width:262.5mm;height:371.25mm}body[theme=dark] .roy-designer-main__page{background-color:#1c1c1c;background-image:linear-gradient(45deg,#212121 25%,transparent 25%),linear-gradient(-45deg,#232323 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#232323 75%),linear-gradient(-45deg,transparent 75%,#232323 75%)}.roy-designer-container{background:var(--prism-background);width:100%;height:100%}.roy-designer-container .roy-designer-header{background:var(--roy-menu-bar-background);width:100%}.roy-designer-container .roy-designer-header .roy-designer-header__text{color:#fff;display:flex;height:100%;align-items:center}.roy-designer-container .roy-designer-aside{margin:10px 5px 10px 10px}.roy-designer-container .roy-designer-main{width:60%;margin:5px;border-radius:2px;overflow:auto;padding:0}\n",document.head.appendChild(o),{setters:[function(e){r=e.n,i=e._}],execute:function(){var o=t("c",{methods:{deepCopy:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===t||"object"!==e(t))return t;var i=Object.prototype.toString.call(t).slice(8,-1);if("RegExp"===i)return new RegExp(t);if("Date"===i)return new Date(t);if("Error"===i)return new Error(t);var o=r.filter((function(e){return e.original===t}))[0];if(o)return o.copy;var a=Array.isArray(t)?[]:{};return r.push({original:t,copy:a}),Object.keys(t).forEach((function(e){a[e]=n.deepCopy(t[e],r)})),a},getUuid:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=[],n=0;n<36;n++)t[n]=e.substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="";var r=t.join("");return r},isBlank:function(e){return null==e||""===e},findParentComponent:function(e,t){for(var n=e.$parent;n;){if((n.$options.componentName||n.$options.name)===t)return n;n=n.$parent}return!1}}}),a=r({name:"DesignerAside",mixins:[o],data:function(){return{menuList:[{name:"组件",code:"component",icon:"ri-pencil-ruler-2-line",component:function(){return i((function(){return n.import("./PageComponent-legacy.a45ab372.js")}),void 0)}},{name:"区块",code:"blocks",icon:"ri-layout-5-line",component:function(){return i((function(){return n.import("./PageBlock-legacy.c5bb7e82.js")}),void 0)}},{name:"页面",code:"page",icon:"ri-stack-line",component:function(){return i((function(){return n.import("./PageSetting-legacy.22c80da2.js")}),void 0)}},{name:"大纲",code:"toc",icon:"ri-pages-line",component:function(){return i((function(){return n.import("./PageToc-legacy.a64986aa.js")}),void 0)}},{name:"工具",code:"tools",icon:"ri-magic-line",component:function(){return i((function(){return n.import("./PageTools-legacy.24d3740b.js")}),void 0)}},{name:"全局",code:"setting",icon:"ri-sound-module-line",component:function(){return i((function(){return n.import("./GlobalSetting-legacy.0ea2f828.js")}),void 0)}}],curActiveComponent:null,curActiveComponentCode:""}},methods:{onMenuSelect:function(e){this.curActiveComponent=this.menuList[e].component,this.curActiveComponentCode=this.menuList[e].code}},mounted:function(){this.$message({message:"欢迎！本系统由ROYIANS设计",type:"success",duration:3e3}),this.curActiveComponent=this.menuList[0].component,this.curActiveComponentCode=this.menuList[0].code}},(function(){var e=this,t=e._self._c;return t("section",{staticClass:"roy-designer-aside__main"},[t("el-menu",{staticClass:"roy-designer-aside__menu",attrs:{collapse:!0,"default-active":"0"},on:{select:e.onMenuSelect}},e._l(e.menuList,(function(n,r){return t("el-menu-item",{key:n.code,attrs:{index:"".concat(r)}},[t("div",{staticClass:"roy-designer-aside__menu__icon"},[t("i",{class:n.icon}),t("span",[e._v(e._s(n.name))])])])})),1),t("keep-alive",[t(e.curActiveComponent,{key:e.curActiveComponentCode,tag:"component",staticClass:"roy-designer-aside__right_panel"})],1)],1)}),[],!1,null,null,null,null).exports,s=r({name:"ToolBar",mixins:[o],components:{},props:{},data:function(){return{toolbarLeftConfig:[{name:"撤销",icon:"ri-arrow-go-back-fill",event:function(){alert("撤销")}},{name:"恢复",icon:"ri-arrow-go-forward-fill",event:function(){}}],toolbarRightConfig:[{name:"预览",icon:"ri-eye-2-fill",event:function(){}},{name:"保存",icon:"ri-save-2-fill",event:function(){}}]}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this,t=e._self._c;return t("el-header",{staticClass:"roy-designer-main__toolbar",attrs:{height:"45px"}},[t("section",{staticClass:"roy-designer-main__toolbar_left"},e._l(e.toolbarLeftConfig,(function(e,n){return t("el-tooltip",{key:n,attrs:{content:e.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[t("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:e.event}},[t("i",{class:e.icon})])])})),1),t("section",{staticClass:"roy-designer-main__toolbar_right"},e._l(e.toolbarRightConfig,(function(e,n){return t("el-tooltip",{key:n,attrs:{content:e.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[t("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:e.event}},[t("i",{class:e.icon})])])})),1)])}),[],!1,null,null,null,null).exports;function u(e,t){return function(n){n&&(e[t]=n)}}var c=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,t){var n=this.keys,r=this.values,i=n.indexOf(e),o=-1===i?n.length:i;n[o]=e,r[o]=t},e}(),l=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,t){this.object[e]=t},e}(),d="function"==typeof Map,f=function(){function e(){}var t=e.prototype;return t.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},t.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},t.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},e}();var p=function(){function e(e,t,n,r,i,o,a,s){this.prevList=e,this.list=t,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=function(e,t){var n=[],r=[];return e.forEach((function(e){var t=e[0],i=e[1],o=new f;n[t]=o,r[i]=o})),n.forEach((function(e,t){e.connect(n[t-1])})),e.filter((function(e,n){return!t[n]})).map((function(e,t){var i=e[0],o=e[1];if(i===o)return[0,0];var a=n[i],s=r[o-1],u=a.getIndex();return a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,n[0]),[u,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),t=this.changed,n=[];this.cacheOrdered=e.filter((function(e,r){var i=e[0],o=e[1],a=t[r],s=a[0],u=a[1];if(i!==o)return n.push([s,u]),!0})),this.cachePureChanged=n},e}();function h(e,t,n){var r=d?Map:n?l:c,i=n||function(e){return e},o=[],a=[],s=[],u=e.map(i),f=t.map(i),h=new r,v=new r,m=[],g=[],y={},_=[],b=0,x=0;return u.forEach((function(e,t){h.set(e,t)})),f.forEach((function(e,t){v.set(e,t)})),u.forEach((function(e,t){var n=v.get(e);void 0===n?(++x,a.push(t)):y[n]=x})),f.forEach((function(e,t){var n=h.get(e);void 0===n?(o.push(t),++b):(s.push([n,t]),x=y[t]||0,m.push([n-x,t-b]),g.push(t===n),n!==t&&_.push([n,t]))})),a.reverse(),new p(e,t,o,a,_,s,m,g)}var v={cm:function(e){return 96*e/2.54},mm:function(e){return 96*e/254},in:function(e){return 96*e},pt:function(e){return 96*e/72},pc:function(e){return 96*e/6},"%":function(e,t){return e*t/100},vw:function(e,t){return void 0===t&&(t=window.innerWidth),e/100*t},vh:function(e,t){return void 0===t&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return void 0===t&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return void 0===t&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};function m(t){return"string"===e(t)}function g(e,t){return void 0===t&&(t="-"),e.replace(/([a-z])([A-Z])/g,(function(e,n,r){return""+n+t+r.toLowerCase()}))}function y(t,n){var r=function(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2];return{prefix:n,unit:t[3],value:parseFloat(r)}}(t),i=r.value,o=r.unit;if(function(t){return t&&"object"===e(t)}(n)){var a=n[o];if(a){if(function(t){return"function"===e(t)}(a))return a(i);if(v[o])return v[o](i,a)}}else if("%"===o)return i*n/100;return v[o]?v[o](i):i}
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation. All rights reserved.
      Licensed under the Apache License, Version 2.0 (the "License"); you may not use
      this file except in compliance with the License. You may obtain a copy of the
      License at http://www.apache.org/licenses/LICENSE-2.0

      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
      WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
      MERCHANTABLITY OR NON-INFRINGEMENT.

      See the Apache Version 2.0 License for specific language governing permissions
      and limitations under the License.
      ***************************************************************************** */var _=function(e,t){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},_(e,t)};function b(e,t){function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},x.apply(this,arguments)};function w(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function C(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function k(e,t){var n=Object.keys(e),r=Object.keys(t),i=h(n,r,(function(e){return e})),o={},a={},s={};return i.added.forEach((function(e){var n=r[e];o[n]=t[n]})),i.removed.forEach((function(t){var r=n[t];a[r]=e[r]})),i.maintained.forEach((function(r){var i=r[0],o=n[i],a=[e[o],t[o]];e[o]!==t[o]&&(s[o]=a)})),{added:o,removed:a,changed:s}}function O(e){e.forEach((function(e){e()}))}function E(e){var t=0;return e.map((function(e){return null==e?"$compat"+ ++t:""+e}))}function P(t,n,r,i){return m(t)||"number"===e(t)?new L("text_"+t,n,r,i,null,{}):new("string"==typeof t.type?$:t.type.prototype.render?H:B)(t.type,n,r,i,t.ref,t.props)}function S(e){var t=[];return e.forEach((function(e){var n;t=t.concat((n=e,Array.isArray(n)?S(e):e))})),t}function j(e){var t=e.className,n=w(e,["className"]);return null!=t&&(n.class=t),delete n.style,delete n.children,n}function M(t,n){if(!n)return t;for(var r in n)"undefined"===e(t[r])&&(t[r]=n[r]);return t}function R(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=t||{},o=i.key,a=i.ref,s=w(i,["key","ref"]);return{type:e,key:o,ref:a,props:x(x({},s),{children:S(n).filter((function(e){return null!=e&&!1!==e}))})}}var z=function(){function e(e,t,n,r,i,o){void 0===o&&(o={}),this.type=e,this.key=t,this.index=n,this.container=r,this.ref=i,this.props=o,this._providers=[]}var t=e.prototype;return t._should=function(e,t){return!0},t._update=function(e,t,n,r){if(this.base&&!m(t)&&!r&&!this._should(t.props,n))return!1;this.original=t,this._setState(n);var i=this.props;return m(t)||(this.props=t.props,this.ref=t.ref),this._render(e,this.base?i:{},n),!0},t._mounted=function(){var e=this.ref;e&&e(this.base)},t._setState=function(e){},t._updated=function(){var e=this.ref;e&&e(this.base)},t._destroy=function(){var e=this.ref;e&&e(null)},e}();function A(e){var t={},n={};for(var r in e)0===r.indexOf("on")?n[r.replace("on","").toLowerCase()]=e[r]:t[r]=e[r];return{attributes:t,events:n}}var L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}b(t,e);var n=t.prototype;return n._render=function(e){var t=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),e.push((function(){n?t._mounted():t._updated()})),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},t}(z),$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events={},t._isSVG=!1,t}b(t,e);var n=t.prototype;return n.addEventListener=function(e,t){var n=this.events;n[e]=function(e){e.nativeEvent=e,t(e)},this.base.addEventListener(e,n[e])},n.removeEventListener=function(e){var t=this.events;this.base.removeEventListener(e,t[e]),delete t[e]},n._should=function(e){return C(this.props,e)},n._render=function(e,t){var n=this,r=!this.base;if(r){var i=this._hasSVG();this._isSVG=i;var o=this.props.portalContainer;if(!o){var a=this.type;o=i?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}this.base=o}G(this,this._providers,this.props.children,e,null);var s=this.base,u=A(t),c=u.attributes,l=u.events,d=A(this.props),f=d.attributes,p=d.events;return function(e,t,n){var r=k(e,t),i=r.added,o=r.removed,a=r.changed;for(var s in i)n.setAttribute(s,i[s]);for(var s in a)n.setAttribute(s,a[s][1]);for(var s in o)n.removeAttribute(s)}(j(c),j(f),s),function(e,t,n){var r=k(e,t),i=r.added,o=r.removed,a=r.changed;for(var s in o)n.removeEventListener(s);for(var s in i)n.addEventListener(s,i[s]);for(var s in a)n.removeEventListener(s),n.addEventListener(s,a[s][1]);for(var s in o)n.removeEventListener(s)}(l,p,this),function(e,t,n){var r=n.style,i=k(e,t),o=i.added,a=i.removed,s=i.changed;for(var u in o){var c=g(u,"-");r.setProperty?r.setProperty(c,o[u]):r[c]=o[u]}for(var u in s)c=g(u,"-"),r.setProperty?r.setProperty(c,s[u][1]):r[c]=s[u][1];for(var u in a)c=g(u,"-"),r.removeProperty?r.removeProperty(c):r[c]=""}(t.style||{},this.props.style||{},s),e.push((function(){r?n._mounted():n._updated()})),!0},n._unmount=function(){var e=this.events,t=this.base;for(var n in e)t.removeEventListener(n,e[n]);this._providers.forEach((function(e){e._unmount()})),this.events={},this.props.portalContainer||t.parentNode.removeChild(t)},n._hasSVG=function(){if(this._isSVG||"svg"===this.type)return!0;var e=T(this.container);return e&&"ownerSVGElement"in e},t}(z);function T(e){if(!e)return null;var t=e.base;return t instanceof Node?t:T(e.container)}function D(e){if(!e)return null;if(e instanceof Node)return e;var t=e.$_provider._providers;return t.length?D(t[0].base):null}var B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}b(t,e);var n=t.prototype;return n._render=function(e){var t=this.type(this.props);return G(this,this._providers,t?[t]:[],e),!0},n._unmount=function(){this._providers.forEach((function(e){e._unmount()}))},t}(z),N=function(e){function t(t){var n=e.call(this,"container","container",0,null)||this;return n.base=t,n}b(t,e);var n=t.prototype;return n._render=function(){return!0},n._unmount=function(){},t}(z),H=function(e){function t(t,n,r,i,o,a){return void 0===a&&(a={}),e.call(this,t,n,r,i,o,M(a,t.defaultProps))||this}b(t,e);var n=t.prototype;return n._should=function(e,t){return this.base.shouldComponentUpdate(M(e,this.type.defaultProps),t||this.base.state)},n._render=function(e,t){var n=this;this.props=M(this.props,this.type.defaultProps);var r=!this.base;r?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var i=this.base,o=i.state,a=i.render();a&&a.props&&!a.props.children.length&&(a.props.children=this.props.children),G(this,this._providers,a?[a]:[],e),e.push((function(){r?(n._mounted(),i.componentDidMount()):(n._updated(),i.componentDidUpdate(t,o))}))},n._setState=function(e){var t=this.base;t&&e&&(t.state=e)},n._unmount=function(){this._providers.forEach((function(e){e._unmount()})),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}(z),U=function(){function e(e){void 0===e&&(e={}),this.props=e,this.state={},this.$_timer=0,this.$_state={}}var t=e.prototype;return t.shouldComponentUpdate=function(e,t){return!0},t.render=function(){return null},t.setState=function(e,t,n){var r=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=x(x({},this.$_state),e),n?this.$_setState(t,n):this.$_timer=setTimeout((function(){r.$_timer=0,r.$_setState(t,n)}))},t.forceUpdate=function(e){this.setState({},e,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(e,t){},t.componentWillUnmount=function(){},t.$_setState=function(e,t){var n=[],r=this.$_provider;G(r.container,[r],[r.original],n,x(x({},this.state),this.$_state),t)&&(e&&n.push(e),O(n))},e}(),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),t.prototype.shouldComponentUpdate=function(e,t){return C(this.props,e)||C(this.state,t)},t}(U),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}b(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.element,n=e.container;this._portalProvider=new N(n),F(t,n,this._portalProvider)},n.componentDidUpdate=function(){var e=this.props;F(e.element,e.container,this._portalProvider)},n.componentWillUnmount=function(){F(null,this.props.container,this._portalProvider),this._portalProvider=null},t}(I);function W(e,t,n){var r=n.map((function(e){return m(e)?null:e.key})),i=h(E(t.map((function(e){return e.key}))),E(r),(function(e){return e}));i.removed.forEach((function(e){t.splice(e,1)[0]._unmount()})),i.ordered.forEach((function(e){var n=e[0],r=e[1],i=t.splice(n,1)[0];t.splice(r,0,i);var o=D(i.base),a=D(t[r+1]&&t[r+1].base);o&&o.parentNode.insertBefore(o,a)})),i.added.forEach((function(i){t.splice(i,0,P(n[i],r[i],i,e))}));var o=i.maintained.filter((function(i){i[0];var o=i[1],a=n[o],s=t[o];return(m(a)?"text_"+a:a.type)!==s.type?(s._unmount(),t.splice(o,1,P(a,r[o],o,e)),!0):(s.index=o,!1)}));return function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(i.added,o.map((function(e){return e[0],e[1]})))}function G(e,t,n,r,i,o){var a=W(e,t,n),s=t.filter((function(e,t){return e._update(r,n[t],i,o)})),u=T(e);return u&&a.reverse().forEach((function(n){var r=t[n],i=D(r.base);if(i&&u!==i&&!i.parentNode){var o=function(e,t){for(var n=e._providers,r=n.length,i=t.index+1;i<r;++i){var o=D(n[i].base);if(o)return o}return null}(e,r);u.insertBefore(i,o)}})),s.length>0}function F(e,t,n){void 0===n&&(n=t.__REACT_COMPAT__);var r=!!n;return n||(n=new N(t)),function(e,t,n){var r=[];G(e,e._providers,t,r,n),O(r)}(n,e?[e]:[]),r||(t.__REACT_COMPAT__=n),n}function Y(e,t,n){var r=t.__REACT_COMPAT__;e&&!r&&(t.innerHTML=""),F(e,t,r),n&&n()}
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation. All rights reserved.
      Licensed under the Apache License, Version 2.0 (the "License"); you may not use
      this file except in compliance with the License. You may obtain a copy of the
      License at http://www.apache.org/licenses/LICENSE-2.0

      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
      WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
      MERCHANTABLITY OR NON-INFRINGEMENT.

      See the Apache Version 2.0 License for specific language governing permissions
      and limitations under the License.
      ***************************************************************************** */var Z=function(e,t){return Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Z(e,t)};var q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t}!function(e,t){function n(){this.constructor=e}Z(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e);var n=t.prototype;return n.render=function(){return R("canvas",{ref:u(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var e=this.canvasElement.getContext("2d");this.canvasContext=e,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(e){this.draw(e)},n.resize=function(){var e=this.canvasElement,t=this.props,n=t.width,r=t.height,i=t.scrollPos;this.width=n||e.offsetWidth,this.height=r||e.offsetHeight,e.width=2*this.width,e.height=2*this.height,this.draw(i)},n.draw=function(e){void 0===e&&(e=this.state.scrollPos);var t=this.props,n=t,r=n.unit,i=n.zoom,o=n.type,a=n.backgroundColor,s=n.lineColor,u=n.textColor,c=n.textBackgroundColor,l=n.direction,d=n.negativeRuler,f=void 0===d||d,p=n.segment,h=void 0===p?10:p,v=n.textFormat,m=n.range,g=void 0===m?[-1/0,1/0]:m,_=n.rangeBackgroundColor,b=this.width,x=this.height;this.state.scrollPos=e;var w=this.canvasContext,C="horizontal"===o,k=!1!==f,O=t.font||"10px sans-serif",E=t.textAlign||"left",P=t.textOffset||[0,0],S=C?x:b,j=y(""+(t.mainLineSize||"100%"),S),M=y(""+(t.longLineSize||10),S),R=y(""+(t.shortLineSize||7),S),z=t.lineOffset||[0,0];switch("transparent"===a?w.clearRect(0,0,2*b,2*x):(w.rect(0,0,2*b,2*x),w.fillStyle=a,w.fill()),w.save(),w.scale(2,2),w.strokeStyle=s,w.lineWidth=1,w.font=O,w.fillStyle=u,l){case"start":w.textBaseline="top";break;case"center":w.textBaseline="middle";break;case"end":w.textBaseline="bottom"}w.translate(.5,0),w.beginPath();var A=C?b:x,L=i*r,$=Math.floor(e*i/L),T=Math.ceil((e*i+A)/L)-$,D=Math.max(["left","center","right"].indexOf(E)-1,-1),B=C?x:b;if("transparent"!==_&&g[0]!==-1/0&&g[1]!==1/0){var N=(g[0]-e)*i,H=(g[1]-g[0])*i;w.save(),w.fillStyle=_,C?w.fillRect(N,0,H,B):w.fillRect(0,N,B,H),w.restore()}for(var U=0;U<=T;++U){var I=U+$;if(k||!(I<0))for(var V=((te=I*r)-e)*i,W=0;W<h;++W){var G=V+W/h*L,F=te+W/h*r;if(!(G<0||G>=A||F<g[0]||F>g[1])){var Y=0===W?j:W%2==0?M:R,Z=0;switch(l){case"start":Z=0;break;case"center":Z=B/2-Y/2;break;case"end":Z=B-Y}var q=C?[G+z[0],Z+z[1]]:[Z+z[0],G+z[1]],J=q[0],K=q[1],Q=C?[J,K+Y]:[J+Y,K],X=Q[0],ee=Q[1];w.moveTo(J+z[0],K+z[1]),w.lineTo(X+z[0],ee+z[1])}}}w.stroke();for(U=0;U<=T;++U){var te;I=U+$;if(k||!(I<0))if(!((V=((te=I*r)-e)*i)<-L||V>=A+r*i||te<g[0]||te>g[1])){Z=0;switch(l){case"start":Z=17;break;case"center":Z=B/2;break;case"end":Z=B-17}var ne=C?[V+-3*D,Z]:[Z,V+3*D],re=ne[0],ie=ne[1],oe=""+te;v&&(oe=v(te)),w.textAlign=E;var ae=0,se=w.measureText(oe).width;switch(E){case"left":ae=0;break;case"center":ae=-se/2;break;case"right":ae=-se}C?(w.save(),w.fillStyle=c,w.fillRect(re+P[0]+ae,0,se,j),w.restore()):(w.save(),w.translate(0,ie+P[1]),w.rotate(-Math.PI/2),w.fillStyle=c,w.fillRect(ae,0,se,j),w.restore()),C?w.fillText(oe,re+P[0],ie+P[1]):(w.save(),w.translate(re+P[0],ie+P[1]),w.rotate(-Math.PI/2),w.fillText(oe,0,0),w.restore())}}w.restore()},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent"},t}(I),J=q,K=function(e,t){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},K(e,t)};var Q=function(){return Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Q.apply(this,arguments)};var X=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat"],ee=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.state=n.props,n}return function(e,t){function n(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.render=function(){var e,t=this.state,n=t.parentElement,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["parentElement"]);return e=R(J,Q({ref:u(this,"ruler")},r)),R(V,{element:e,container:n})},t}(U),te=function(){function t(e,t){void 0===t&&(t={}),this.tempElement=document.createElement("div"),Y(R(ee,Q({ref:u(this,"innerRuler")},t,{parentElement:e})),this.tempElement)}var n,r,i=t.prototype;return i.scroll=function(e){this.getRuler().scroll(e)},i.resize=function(){this.getRuler().resize()},i.destroy=function(){Y(null,this.tempElement),this.tempElement=null,this.innerRuler=null},i.getRuler=function(){return this.innerRuler.ruler},t=function(t,n,r,i){var o,a=arguments.length,s=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":e(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,n,r,i);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(a<3?o(s):a>3?o(n,r,s):o(n,r))||s);return a>3&&s&&Object.defineProperty(n,r,s),s}([(n=X,r=function(e,t){Object.defineProperty(e,t,{get:function(){return this.getRuler().props[t]},set:function(e){var n;this.innerRuler.setState(((n={})[t]=e,n))},enumerable:!0,configurable:!0})},function(e){var t=e.prototype;n.forEach((function(e){r(t,e)}))})],t),t}(),ne=te,re=r({name:"RulerHorizontal",mixins:[o],components:{},props:{scale:{type:Number},scroll:{type:Number}},data:function(){return{ruler:null}},methods:{initMounted:function(){var e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler=new ne(this.$refs.rulerDiv,{type:"horizontal",backgroundColor:window.getComputedStyle(e[0]).backgroundColor,textColor:window.getComputedStyle(e[0]).color,height:16,unit:1,zoom:50}))}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){return(0,this._self._c)("div",{ref:"rulerDiv",staticClass:"roy-ruler"})}),[],!1,null,null,null,null).exports,ie=r({name:"RulerHorizontal",mixins:[o],components:{},props:{scale:{type:Number},scroll:{type:Number}},data:function(){return{ruler:null}},methods:{initMounted:function(){var e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler=new ne(this.$refs.rulerDiv,{type:"vertical",backgroundColor:window.getComputedStyle(e[0]).backgroundColor,textColor:window.getComputedStyle(e[0]).color,width:16,unit:1,zoom:50}))}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){return(0,this._self._c)("div",{ref:"rulerDiv",staticClass:"roy-ruler"})}),[],!1,null,null,null,null).exports,oe=r({name:"RoyRuler",mixins:[o],components:{RulerHorizontal:re,RulerVertical:ie},props:{},data:function(){return{}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this._self._c;return e("div",{staticClass:"roy-ruler-box"},[e("div",{staticClass:"roy-ruler-outer-box"}),e("div",{staticClass:"roy-ruler-horizontal-wrapper"},[e("RulerHorizontal")],1),e("div",{staticClass:"roy-ruler-vertical-wrapper"},[e("RulerVertical")],1),e("div",{staticClass:"roy-ruler-inner-box"},[e("div",{staticClass:"roy-ruler-inner-box-content"},[this._t("default")],2)])])}),[],!1,null,null,null,null).exports,ae=r({name:"RoyEditor",mixins:[o],components:{Ruler:oe},props:{},data:function(){return{}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this._self._c;return e("el-main",{staticClass:"roy-designer-main__page"},[e("Ruler",[e("div",{attrs:{id:"designer-page"}},[e("div",[this._v("测试页面")])])])],1)}),[],!1,null,null,null,null).exports,se=r({name:"DesignerMain",mixins:[o],components:{ToolBar:s,Editor:ae},props:{},data:function(){return{}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this._self._c;return e("section",{staticClass:"height-all"},[e("ToolBar"),e("Editor")],1)}),[],!1,null,null,null,null).exports,ue=r({name:"HomePage",components:{DesignerAside:a,DesignerMain:se},props:{},data:function(){return{}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this._self._c;return e("el-container",{staticClass:"roy-designer-container"},[e("el-header",{staticClass:"roy-designer-header",attrs:{height:"40px"}},[e("div",{staticClass:"roy-designer-header__text"},[e("i",{staticClass:"ri-pen-nib-line"}),e("span",[this._v("打印模板设计器")])])]),e("el-container",{staticStyle:{height:"calc(100% - 40px)"}},[e("el-aside",{staticClass:"roy-designer-aside",attrs:{width:"300px"}},[e("DesignerAside")],1),e("el-main",{staticClass:"roy-designer-main"},[e("DesignerMain")],1)],1)],1)}),[],!1,null,null,null,null).exports,ce=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));t("H",ce)}}}))}();
