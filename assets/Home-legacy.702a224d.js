!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}System.register(["./index-legacy.a5bedd0c.js"],(function(e,n){"use strict";var i,o,a,s,u=document.createElement("style");return u.innerHTML=".roy-designer-aside__main{height:100%;width:100%;display:flex;background:var(--roy-bg-color-overlay)}.roy-designer-aside__main .roy-designer-aside__menu{height:100%}.roy-designer-aside__main .roy-designer-aside__menu .el-menu-item{overflow:hidden;padding:0}.roy-designer-aside__main .roy-designer-aside__menu .roy-designer-aside__menu__icon{display:grid;top:-7px;position:relative;align-items:center;vertical-align:center;align-content:center}.roy-designer-aside__main .roy-designer-aside__menu .roy-designer-aside__menu__icon i{padding:0;margin:0;font-size:20px}.roy-designer-aside__main .roy-designer-aside__menu .roy-designer-aside__menu__icon span{line-height:14px;visibility:visible;height:auto;width:auto;font-size:8px;top:-14px;position:relative}.roy-designer-aside__main .roy-designer-aside__right_panel{width:calc(100% - 64px);background:var(--roy-bg-color-overlay)}.roy-designer-main__toolbar{display:flex;justify-content:space-between;align-items:center}.roy-designer-main__toolbar .roy-designer-main__toolbar_left{display:flex;justify-content:start}.roy-designer-main__toolbar .roy-designer-main__toolbar_right{display:flex;justify-content:end}.roy-designer-main__toolbar .roy-designer-main__toolbar__item{cursor:pointer;background:var(--roy-bg-color);display:grid;width:18px;height:18px;font-size:10px;line-height:18px;box-shadow:rgba(99,99,99,.2) 0 2px 8px;padding:4px;text-align:center;border-radius:4px}.roy-designer-main__toolbar .roy-designer-main__toolbar__item+.roy-designer-main__toolbar__item{margin-left:5px}.roy-designer-main__toolbar .roy-designer-main__toolbar__item:hover{background:var(--roy-bg-color-page)}.roy-designer-main__toolbar .roy-designer-main__toolbar__item i{padding:0;margin:0;font-size:14px}.roy-ruler-box{width:100%;height:calc(100% - 4px);position:relative}.roy-ruler-box .roy-ruler-outer-box{position:absolute;top:0;left:0;width:16px;height:16px;background:var(--prism-background);box-sizing:border-box}.roy-ruler-box .roy-ruler-horizontal-wrapper{position:absolute;top:0;left:16px;width:calc(100% - 16px);height:16px;overflow:hidden}.roy-ruler-box .roy-ruler-vertical-wrapper{position:absolute;left:0;top:16px;width:16px;height:calc(100% - 16px)}.roy-ruler-box .roy-ruler-inner-box{position:absolute;left:16px;top:16px;width:calc(100% - 16px);height:calc(100% - 16px);overflow:auto}.roy-ruler-box .roy-ruler-inner-box .roy-ruler-inner-box-content{position:absolute;width:fit-content;overflow:auto;left:16px;top:16px;padding:8px}.roy-ruler-box .roy-ruler{width:100%;height:100%}.roy-designer-main__page{height:calc(100% - 50px);padding:0;margin:0;background-color:#fff;background-image:linear-gradient(45deg,rgb(247,247,247) 25%,transparent 25%),linear-gradient(-45deg,rgb(247,247,247) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgb(247,247,247) 75%),linear-gradient(-45deg,transparent 75%,rgb(247,247,247) 75%);background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0px}.roy-designer-main__page #designer-page{margin:auto;padding:15px;background:var(--roy-bg-color);box-shadow:rgba(0,0,0,.12) 0 1px 3px,rgba(0,0,0,.24) 0 1px 2px;width:262.5mm;height:371.25mm}body[theme=dark] .roy-designer-main__page{background-color:#1c1c1c;background-image:linear-gradient(45deg,#212121 25%,transparent 25%),linear-gradient(-45deg,#232323 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#232323 75%),linear-gradient(-45deg,transparent 75%,#232323 75%)}.roy-designer-container{background:var(--prism-background);width:100%;height:100%}.roy-designer-container .roy-designer-header{background:var(--roy-menu-bar-background);width:100%}.roy-designer-container .roy-designer-header .roy-designer-header__text{color:#fff;display:flex;height:100%;align-items:center}.roy-designer-container .roy-designer-header .roy-fade-enter-active{animation:fadeIn 1s}.roy-designer-container .roy-designer-header .roy-fade-leave-active{animation:fadeOut 1s}.roy-designer-container .roy-designer-header .roy-night-mode{color:#fff;line-height:40px;height:40px;position:absolute;top:0;right:0;overflow:hidden;padding:0 20px;cursor:pointer}.roy-designer-container .roy-designer-header .roy-night-mode i{position:absolute;top:0;left:0}.roy-designer-container .roy-designer-aside{margin:10px 5px 10px 10px}.roy-designer-container .roy-designer-main{width:60%;margin:5px;border-radius:2px;overflow:auto;padding:0}\n",document.head.appendChild(u),{setters:[function(e){i=e.d,o=e.n,a=e._,s=e.m}],execute:function(){var u="_ROY_DESIGNER_",c=i({id:"nightMode",state:function(){return{isNightMode:!1}},getters:{getIsNightMode:function(e){return e.isNightMode}},actions:{toggleNightMode:function(e){this.isNightMode=e,window.localStorage.setItem("".concat(u,"NIGHT_MODE"),JSON.stringify(e)),document.body.setAttribute("theme",e?"dark":"day")},initNightMode:function(){var e=window.localStorage.getItem("".concat(u,"NIGHT_MODE"));null!==e&&this.toggleNightMode(JSON.parse(e))}}}),l=e("c",{methods:{deepCopy:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===e||"object"!==r(e))return e;var i=Object.prototype.toString.call(e).slice(8,-1);if("RegExp"===i)return new RegExp(e);if("Date"===i)return new Date(e);if("Error"===i)return new Error(e);var o=n.filter((function(t){return t.original===e}))[0];if(o)return o.copy;var a=Array.isArray(e)?[]:{};return n.push({original:e,copy:a}),Object.keys(e).forEach((function(r){a[r]=t.deepCopy(e[r],n)})),a},getUuid:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=[],n=0;n<36;n++)t[n]=e.substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="";var r=t.join("");return r},isBlank:function(e){return null==e||""===e},findParentComponent:function(e,t){for(var n=e.$parent;n;){if((n.$options.componentName||n.$options.name)===t)return n;n=n.$parent}return!1}}}),d=o({name:"DesignerAside",mixins:[l],data:function(){return{menuList:[{name:"组件",code:"component",icon:"ri-pencil-ruler-2-line",component:function(){return a((function(){return n.import("./PageComponent-legacy.8cc5bb0b.js")}),void 0)}},{name:"区块",code:"blocks",icon:"ri-layout-5-line",component:function(){return a((function(){return n.import("./PageBlock-legacy.f54cccab.js")}),void 0)}},{name:"页面",code:"page",icon:"ri-stack-line",component:function(){return a((function(){return n.import("./PageSetting-legacy.7e039840.js")}),void 0)}},{name:"大纲",code:"toc",icon:"ri-pages-line",component:function(){return a((function(){return n.import("./PageToc-legacy.bc75950f.js")}),void 0)}},{name:"工具",code:"tools",icon:"ri-magic-line",component:function(){return a((function(){return n.import("./PageTools-legacy.f4bf19f7.js")}),void 0)}},{name:"全局",code:"setting",icon:"ri-sound-module-line",component:function(){return a((function(){return n.import("./GlobalSetting-legacy.c14ead39.js")}),void 0)}}],curActiveComponent:null,curActiveComponentCode:""}},methods:{onMenuSelect:function(e){this.curActiveComponent=this.menuList[e].component,this.curActiveComponentCode=this.menuList[e].code}},mounted:function(){this.$message({message:"欢迎！本系统由ROYIANS设计",type:"success",duration:3e3}),this.curActiveComponent=this.menuList[0].component,this.curActiveComponentCode=this.menuList[0].code}},(function(){var e=this,t=e._self._c;return t("section",{staticClass:"roy-designer-aside__main"},[t("el-menu",{staticClass:"roy-designer-aside__menu",attrs:{collapse:!0,"default-active":"0"},on:{select:e.onMenuSelect}},e._l(e.menuList,(function(n,r){return t("el-menu-item",{key:n.code,attrs:{index:"".concat(r)}},[t("div",{staticClass:"roy-designer-aside__menu__icon"},[t("i",{class:n.icon}),t("span",[e._v(e._s(n.name))])])])})),1),t("keep-alive",[t(e.curActiveComponent,{key:e.curActiveComponentCode,tag:"component",staticClass:"roy-designer-aside__right_panel"})],1)],1)}),[],!1,null,null,null,null).exports,f=o({name:"ToolBar",mixins:[l],components:{},props:{},data:function(){return{toolbarLeftConfig:[{name:"撤销",icon:"ri-arrow-go-back-fill",event:function(){alert("撤销")}},{name:"恢复",icon:"ri-arrow-go-forward-fill",event:function(){}}],toolbarRightConfig:[{name:"预览",icon:"ri-eye-2-fill",event:function(){}},{name:"保存",icon:"ri-save-2-fill",event:function(){}}]}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this,t=e._self._c;return t("el-header",{staticClass:"roy-designer-main__toolbar",attrs:{height:"45px"}},[t("section",{staticClass:"roy-designer-main__toolbar_left"},e._l(e.toolbarLeftConfig,(function(e,n){return t("el-tooltip",{key:n,attrs:{content:e.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[t("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:e.event}},[t("i",{class:e.icon})])])})),1),t("section",{staticClass:"roy-designer-main__toolbar_right"},e._l(e.toolbarRightConfig,(function(e,n){return t("el-tooltip",{key:n,attrs:{content:e.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[t("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:e.event}},[t("i",{class:e.icon})])])})),1)])}),[],!1,null,null,null,null).exports;function p(e,t){return function(n){n&&(e[t]=n)}}var h=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,t){var n=this.keys,r=this.values,i=n.indexOf(e),o=-1===i?n.length:i;n[o]=e,r[o]=t},e}(),g=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,t){this.object[e]=t},e}(),v="function"==typeof Map,m=function(){function e(){}var t=e.prototype;return t.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},t.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},t.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},e}();var y=function(){function e(e,t,n,r,i,o,a,s){this.prevList=e,this.list=t,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=function(e,t){var n=[],r=[];return e.forEach((function(e){var t=e[0],i=e[1],o=new m;n[t]=o,r[i]=o})),n.forEach((function(e,t){e.connect(n[t-1])})),e.filter((function(e,n){return!t[n]})).map((function(e,t){var i=e[0],o=e[1];if(i===o)return[0,0];var a=n[i],s=r[o-1],u=a.getIndex();return a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,n[0]),[u,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),t=this.changed,n=[];this.cacheOrdered=e.filter((function(e,r){var i=e[0],o=e[1],a=t[r],s=a[0],u=a[1];if(i!==o)return n.push([s,u]),!0})),this.cachePureChanged=n},e}();function _(e,t,n){var r=v?Map:n?g:h,i=n||function(e){return e},o=[],a=[],s=[],u=e.map(i),c=t.map(i),l=new r,d=new r,f=[],p=[],m={},_=[],b=0,x=0;return u.forEach((function(e,t){l.set(e,t)})),c.forEach((function(e,t){d.set(e,t)})),u.forEach((function(e,t){var n=d.get(e);void 0===n?(++x,a.push(t)):m[n]=x})),c.forEach((function(e,t){var n=l.get(e);void 0===n?(o.push(t),++b):(s.push([n,t]),x=m[t]||0,f.push([n-x,t-b]),p.push(t===n),n!==t&&_.push([n,t]))})),a.reverse(),new y(e,t,o,a,_,s,f,p)}var b={cm:function(e){return 96*e/2.54},mm:function(e){return 96*e/254},in:function(e){return 96*e},pt:function(e){return 96*e/72},pc:function(e){return 96*e/6},"%":function(e,t){return e*t/100},vw:function(e,t){return void 0===t&&(t=window.innerWidth),e/100*t},vh:function(e,t){return void 0===t&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return void 0===t&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return void 0===t&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};function x(e){return"string"===r(e)}function w(e,t){return void 0===t&&(t="-"),e.replace(/([a-z])([A-Z])/g,(function(e,n,r){return""+n+t+r.toLowerCase()}))}function C(e,t){var n=function(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var n=t[1],r=t[2];return{prefix:n,unit:t[3],value:parseFloat(r)}}(e),i=n.value,o=n.unit;if(function(e){return e&&"object"===r(e)}(t)){var a=t[o];if(a){if(function(e){return"function"===r(e)}(a))return a(i);if(b[o])return b[o](i,a)}}else if("%"===o)return i*t/100;return b[o]?b[o](i):i}
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation. All rights reserved.
      Licensed under the Apache License, Version 2.0 (the "License"); you may not use
      this file except in compliance with the License. You may obtain a copy of the
      License at http://www.apache.org/licenses/LICENSE-2.0

      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
      WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
      MERCHANTABLITY OR NON-INFRINGEMENT.

      See the Apache Version 2.0 License for specific language governing permissions
      and limitations under the License.
      ***************************************************************************** */var O=function(e,t){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},O(e,t)};function k(e,t){function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var E=function(){return E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},E.apply(this,arguments)};function S(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function P(e,t){if(e===t)return!1;for(var n in e)if(!(n in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function M(e,t){var n=Object.keys(e),r=Object.keys(t),i=_(n,r,(function(e){return e})),o={},a={},s={};return i.added.forEach((function(e){var n=r[e];o[n]=t[n]})),i.removed.forEach((function(t){var r=n[t];a[r]=e[r]})),i.maintained.forEach((function(r){var i=r[0],o=n[i],a=[e[o],t[o]];e[o]!==t[o]&&(s[o]=a)})),{added:o,removed:a,changed:s}}function j(e){e.forEach((function(e){e()}))}function N(e){var t=0;return e.map((function(e){return null==e?"$compat"+ ++t:""+e}))}function R(e,t,n,i){return x(e)||"number"===r(e)?new B("text_"+e,t,n,i,null,{}):new("string"==typeof e.type?I:e.type.prototype.render?W:G)(e.type,t,n,i,e.ref,e.props)}function z(e){var t=[];return e.forEach((function(e){var n;t=t.concat((n=e,Array.isArray(n)?z(e):e))})),t}function A(e){var t=e.className,n=S(e,["className"]);return null!=t&&(n.class=t),delete n.style,delete n.children,n}function L(e,t){if(!t)return e;for(var n in t)"undefined"===r(e[n])&&(e[n]=t[n]);return e}function D(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=t||{},o=i.key,a=i.ref,s=S(i,["key","ref"]);return{type:e,key:o,ref:a,props:E(E({},s),{children:z(n).filter((function(e){return null!=e&&!1!==e}))})}}var $=function(){function e(e,t,n,r,i,o){void 0===o&&(o={}),this.type=e,this.key=t,this.index=n,this.container=r,this.ref=i,this.props=o,this._providers=[]}var t=e.prototype;return t._should=function(e,t){return!0},t._update=function(e,t,n,r){if(this.base&&!x(t)&&!r&&!this._should(t.props,n))return!1;this.original=t,this._setState(n);var i=this.props;return x(t)||(this.props=t.props,this.ref=t.ref),this._render(e,this.base?i:{},n),!0},t._mounted=function(){var e=this.ref;e&&e(this.base)},t._setState=function(e){},t._updated=function(){var e=this.ref;e&&e(this.base)},t._destroy=function(){var e=this.ref;e&&e(null)},e}();function T(e){var t={},n={};for(var r in e)0===r.indexOf("on")?n[r.replace("on","").toLowerCase()]=e[r]:t[r]=e[r];return{attributes:t,events:n}}var B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}k(t,e);var n=t.prototype;return n._render=function(e){var t=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),e.push((function(){n?t._mounted():t._updated()})),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},t}($),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events={},t._isSVG=!1,t}k(t,e);var n=t.prototype;return n.addEventListener=function(e,t){var n=this.events;n[e]=function(e){e.nativeEvent=e,t(e)},this.base.addEventListener(e,n[e])},n.removeEventListener=function(e){var t=this.events;this.base.removeEventListener(e,t[e]),delete t[e]},n._should=function(e){return P(this.props,e)},n._render=function(e,t){var n=this,r=!this.base;if(r){var i=this._hasSVG();this._isSVG=i;var o=this.props.portalContainer;if(!o){var a=this.type;o=i?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}this.base=o}q(this,this._providers,this.props.children,e,null);var s=this.base,u=T(t),c=u.attributes,l=u.events,d=T(this.props),f=d.attributes,p=d.events;return function(e,t,n){var r=M(e,t),i=r.added,o=r.removed,a=r.changed;for(var s in i)n.setAttribute(s,i[s]);for(var s in a)n.setAttribute(s,a[s][1]);for(var s in o)n.removeAttribute(s)}(A(c),A(f),s),function(e,t,n){var r=M(e,t),i=r.added,o=r.removed,a=r.changed;for(var s in o)n.removeEventListener(s);for(var s in i)n.addEventListener(s,i[s]);for(var s in a)n.removeEventListener(s),n.addEventListener(s,a[s][1]);for(var s in o)n.removeEventListener(s)}(l,p,this),function(e,t,n){var r=n.style,i=M(e,t),o=i.added,a=i.removed,s=i.changed;for(var u in o){var c=w(u,"-");r.setProperty?r.setProperty(c,o[u]):r[c]=o[u]}for(var u in s)c=w(u,"-"),r.setProperty?r.setProperty(c,s[u][1]):r[c]=s[u][1];for(var u in a)c=w(u,"-"),r.removeProperty?r.removeProperty(c):r[c]=""}(t.style||{},this.props.style||{},s),e.push((function(){r?n._mounted():n._updated()})),!0},n._unmount=function(){var e=this.events,t=this.base;for(var n in e)t.removeEventListener(n,e[n]);this._providers.forEach((function(e){e._unmount()})),this.events={},this.props.portalContainer||t.parentNode.removeChild(t)},n._hasSVG=function(){if(this._isSVG||"svg"===this.type)return!0;var e=H(this.container);return e&&"ownerSVGElement"in e},t}($);function H(e){if(!e)return null;var t=e.base;return t instanceof Node?t:H(e.container)}function U(e){if(!e)return null;if(e instanceof Node)return e;var t=e.$_provider._providers;return t.length?U(t[0].base):null}var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}k(t,e);var n=t.prototype;return n._render=function(e){var t=this.type(this.props);return q(this,this._providers,t?[t]:[],e),!0},n._unmount=function(){this._providers.forEach((function(e){e._unmount()}))},t}($),V=function(e){function t(t){var n=e.call(this,"container","container",0,null)||this;return n.base=t,n}k(t,e);var n=t.prototype;return n._render=function(){return!0},n._unmount=function(){},t}($),W=function(e){function t(t,n,r,i,o,a){return void 0===a&&(a={}),e.call(this,t,n,r,i,o,L(a,t.defaultProps))||this}k(t,e);var n=t.prototype;return n._should=function(e,t){return this.base.shouldComponentUpdate(L(e,this.type.defaultProps),t||this.base.state)},n._render=function(e,t){var n=this;this.props=L(this.props,this.type.defaultProps);var r=!this.base;r?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var i=this.base,o=i.state,a=i.render();a&&a.props&&!a.props.children.length&&(a.props.children=this.props.children),q(this,this._providers,a?[a]:[],e),e.push((function(){r?(n._mounted(),i.componentDidMount()):(n._updated(),i.componentDidUpdate(t,o))}))},n._setState=function(e){var t=this.base;t&&e&&(t.state=e)},n._unmount=function(){this._providers.forEach((function(e){e._unmount()})),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}($),F=function(){function e(e){void 0===e&&(e={}),this.props=e,this.state={},this.$_timer=0,this.$_state={}}var t=e.prototype;return t.shouldComponentUpdate=function(e,t){return!0},t.render=function(){return null},t.setState=function(e,t,n){var r=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=E(E({},this.$_state),e),n?this.$_setState(t,n):this.$_timer=setTimeout((function(){r.$_timer=0,r.$_setState(t,n)}))},t.forceUpdate=function(e){this.setState({},e,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(e,t){},t.componentWillUnmount=function(){},t.$_setState=function(e,t){var n=[],r=this.$_provider;q(r.container,[r],[r.original],n,E(E({},this.state),this.$_state),t)&&(e&&n.push(e),j(n))},e}(),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.shouldComponentUpdate=function(e,t){return P(this.props,e)||P(this.state,t)},t}(F),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}k(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.element,n=e.container;this._portalProvider=new V(n),K(t,n,this._portalProvider)},n.componentDidUpdate=function(){var e=this.props;K(e.element,e.container,this._portalProvider)},n.componentWillUnmount=function(){K(null,this.props.container,this._portalProvider),this._portalProvider=null},t}(J);function Z(e,t,n){var r=n.map((function(e){return x(e)?null:e.key})),i=_(N(t.map((function(e){return e.key}))),N(r),(function(e){return e}));i.removed.forEach((function(e){t.splice(e,1)[0]._unmount()})),i.ordered.forEach((function(e){var n=e[0],r=e[1],i=t.splice(n,1)[0];t.splice(r,0,i);var o=U(i.base),a=U(t[r+1]&&t[r+1].base);o&&o.parentNode.insertBefore(o,a)})),i.added.forEach((function(i){t.splice(i,0,R(n[i],r[i],i,e))}));var o=i.maintained.filter((function(i){i[0];var o=i[1],a=n[o],s=t[o];return(x(a)?"text_"+a:a.type)!==s.type?(s._unmount(),t.splice(o,1,R(a,r[o],o,e)),!0):(s.index=o,!1)}));return function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(i.added,o.map((function(e){return e[0],e[1]})))}function q(e,t,n,r,i,o){var a=Z(e,t,n),s=t.filter((function(e,t){return e._update(r,n[t],i,o)})),u=H(e);return u&&a.reverse().forEach((function(n){var r=t[n],i=U(r.base);if(i&&u!==i&&!i.parentNode){var o=function(e,t){for(var n=e._providers,r=n.length,i=t.index+1;i<r;++i){var o=U(n[i].base);if(o)return o}return null}(e,r);u.insertBefore(i,o)}})),s.length>0}function K(e,t,n){void 0===n&&(n=t.__REACT_COMPAT__);var r=!!n;return n||(n=new V(t)),function(e,t,n){var r=[];q(e,e._providers,t,r,n),j(r)}(n,e?[e]:[]),r||(t.__REACT_COMPAT__=n),n}function Q(e,t,n){var r=t.__REACT_COMPAT__;e&&!r&&(t.innerHTML=""),K(e,t,r),n&&n()}
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation. All rights reserved.
      Licensed under the Apache License, Version 2.0 (the "License"); you may not use
      this file except in compliance with the License. You may obtain a copy of the
      License at http://www.apache.org/licenses/LICENSE-2.0

      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
      WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
      MERCHANTABLITY OR NON-INFRINGEMENT.

      See the Apache Version 2.0 License for specific language governing permissions
      and limitations under the License.
      ***************************************************************************** */var X=function(e,t){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},X(e,t)};var ee=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t}!function(e,t){function n(){this.constructor=e}X(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e);var n=t.prototype;return n.render=function(){return D("canvas",{ref:p(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var e=this.canvasElement.getContext("2d");this.canvasContext=e,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(e){this.draw(e)},n.resize=function(){var e=this.canvasElement,t=this.props,n=t.width,r=t.height,i=t.scrollPos;this.width=n||e.offsetWidth,this.height=r||e.offsetHeight,e.width=2*this.width,e.height=2*this.height,this.draw(i)},n.draw=function(e){void 0===e&&(e=this.state.scrollPos);var t=this.props,n=t,r=n.unit,i=n.zoom,o=n.type,a=n.backgroundColor,s=n.lineColor,u=n.textColor,c=n.textBackgroundColor,l=n.direction,d=n.negativeRuler,f=void 0===d||d,p=n.segment,h=void 0===p?10:p,g=n.textFormat,v=n.range,m=void 0===v?[-1/0,1/0]:v,y=n.rangeBackgroundColor,_=this.width,b=this.height;this.state.scrollPos=e;var x=this.canvasContext,w="horizontal"===o,O=!1!==f,k=t.font||"10px sans-serif",E=t.textAlign||"left",S=t.textOffset||[0,0],P=w?b:_,M=C(""+(t.mainLineSize||"100%"),P),j=C(""+(t.longLineSize||10),P),N=C(""+(t.shortLineSize||7),P),R=t.lineOffset||[0,0];switch("transparent"===a?x.clearRect(0,0,2*_,2*b):(x.rect(0,0,2*_,2*b),x.fillStyle=a,x.fill()),x.save(),x.scale(2,2),x.strokeStyle=s,x.lineWidth=1,x.font=k,x.fillStyle=u,l){case"start":x.textBaseline="top";break;case"center":x.textBaseline="middle";break;case"end":x.textBaseline="bottom"}x.translate(.5,0),x.beginPath();var z=w?_:b,A=i*r,L=Math.floor(e*i/A),D=Math.ceil((e*i+z)/A)-L,$=Math.max(["left","center","right"].indexOf(E)-1,-1),T=w?b:_;if("transparent"!==y&&m[0]!==-1/0&&m[1]!==1/0){var B=(m[0]-e)*i,I=(m[1]-m[0])*i;x.save(),x.fillStyle=y,w?x.fillRect(B,0,I,T):x.fillRect(0,B,T,I),x.restore()}for(var H=0;H<=D;++H){var U=H+L;if(O||!(U<0))for(var G=((te=U*r)-e)*i,V=0;V<h;++V){var W=G+V/h*A,F=te+V/h*r;if(!(W<0||W>=z||F<m[0]||F>m[1])){var J=0===V?M:V%2==0?j:N,Y=0;switch(l){case"start":Y=0;break;case"center":Y=T/2-J/2;break;case"end":Y=T-J}var Z=w?[W+R[0],Y+R[1]]:[Y+R[0],W+R[1]],q=Z[0],K=Z[1],Q=w?[q,K+J]:[q+J,K],X=Q[0],ee=Q[1];x.moveTo(q+R[0],K+R[1]),x.lineTo(X+R[0],ee+R[1])}}}x.stroke();for(H=0;H<=D;++H){var te;U=H+L;if(O||!(U<0))if(!((G=((te=U*r)-e)*i)<-A||G>=z+r*i||te<m[0]||te>m[1])){Y=0;switch(l){case"start":Y=17;break;case"center":Y=T/2;break;case"end":Y=T-17}var ne=w?[G+-3*$,Y]:[Y,G+3*$],re=ne[0],ie=ne[1],oe=""+te;g&&(oe=g(te)),x.textAlign=E;var ae=0,se=x.measureText(oe).width;switch(E){case"left":ae=0;break;case"center":ae=-se/2;break;case"right":ae=-se}w?(x.save(),x.fillStyle=c,x.fillRect(re+S[0]+ae,0,se,M),x.restore()):(x.save(),x.translate(0,ie+S[1]),x.rotate(-Math.PI/2),x.fillStyle=c,x.fillRect(ae,0,se,M),x.restore()),w?x.fillText(oe,re+S[0],ie+S[1]):(x.save(),x.translate(re+S[0],ie+S[1]),x.rotate(-Math.PI/2),x.fillText(oe,0,0),x.restore())}}x.restore()},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent"},t}(J),te=ee,ne=function(e,t){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ne(e,t)};var re=function(){return re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},re.apply(this,arguments)};var ie=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat"],oe=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.state=n.props,n}return function(e,t){function n(){this.constructor=e}ne(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.render=function(){var e,t=this.state,n=t.parentElement,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["parentElement"]);return e=D(te,re({ref:p(this,"ruler")},r)),D(Y,{element:e,container:n})},t}(F),ae=function(){function e(e,t){void 0===t&&(t={}),this.tempElement=document.createElement("div"),Q(D(oe,re({ref:p(this,"innerRuler")},t,{parentElement:e})),this.tempElement)}var t,n,i=e.prototype;return i.scroll=function(e){this.getRuler().scroll(e)},i.resize=function(){this.getRuler().resize()},i.destroy=function(){Q(null,this.tempElement),this.tempElement=null,this.innerRuler=null},i.getRuler=function(){return this.innerRuler.ruler},e=function(e,t,n,i){var o,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===("undefined"==typeof Reflect?"undefined":r(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(s=(a<3?o(s):a>3?o(t,n,s):o(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s}([(t=ie,n=function(e,t){Object.defineProperty(e,t,{get:function(){return this.getRuler().props[t]},set:function(e){var n;this.innerRuler.setState(((n={})[t]=e,n))},enumerable:!0,configurable:!0})},function(e){var r=e.prototype;t.forEach((function(e){n(r,e)}))})],e),e}(),se=ae,ue={name:"RulerHorizontal",mixins:[l],components:{},props:{scale:{type:Number},scroll:{type:Number}},data:function(){return{ruler:null}},computed:t({},s(c,["isNightMode"])),methods:{initMounted:function(){var e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler=new se(this.$refs.rulerDiv,{type:"horizontal",backgroundColor:window.getComputedStyle(e[0]).backgroundColor,textColor:window.getComputedStyle(e[0]).color,height:16,unit:1,zoom:50}))}},created:function(){},mounted:function(){this.initMounted()},watch:{isNightMode:function(){var e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler.backgroundColor=window.getComputedStyle(e[0]).backgroundColor,this.ruler.textColor=window.getComputedStyle(e[0]).color)}}},ce=o(ue,(function(){return(0,this._self._c)("div",{ref:"rulerDiv",staticClass:"roy-ruler"})}),[],!1,null,null,null,null).exports,le={name:"RulerHorizontal",mixins:[l],components:{},props:{scale:{type:Number},scroll:{type:Number}},data:function(){return{ruler:null}},computed:t({},s(c,["isNightMode"])),methods:{initMounted:function(){var e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler=new se(this.$refs.rulerDiv,{type:"vertical",backgroundColor:window.getComputedStyle(e[0]).backgroundColor,textColor:window.getComputedStyle(e[0]).color,width:16,unit:1,zoom:50}))}},created:function(){},mounted:function(){this.initMounted()},watch:{isNightMode:function(){var e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler.backgroundColor=window.getComputedStyle(e[0]).backgroundColor,this.ruler.textColor=window.getComputedStyle(e[0]).color)}}},de=o(le,(function(){return(0,this._self._c)("div",{ref:"rulerDiv",staticClass:"roy-ruler"})}),[],!1,null,null,null,null).exports,fe=o({name:"RoyRuler",mixins:[l],components:{RulerHorizontal:ce,RulerVertical:de},props:{},data:function(){return{}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this._self._c;return e("div",{staticClass:"roy-ruler-box"},[e("div",{staticClass:"roy-ruler-outer-box"}),e("div",{staticClass:"roy-ruler-horizontal-wrapper"},[e("RulerHorizontal")],1),e("div",{staticClass:"roy-ruler-vertical-wrapper"},[e("RulerVertical")],1),e("div",{staticClass:"roy-ruler-inner-box"},[e("div",{staticClass:"roy-ruler-inner-box-content"},[this._t("default")],2)])])}),[],!1,null,null,null,null).exports,pe=o({name:"RoyEditor",mixins:[l],components:{Ruler:fe},props:{},data:function(){return{}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this._self._c;return e("el-main",{staticClass:"roy-designer-main__page"},[e("Ruler",[e("div",{attrs:{id:"designer-page"}},[e("div",[this._v("测试页面")])])])],1)}),[],!1,null,null,null,null).exports,he=o({name:"DesignerMain",mixins:[l],components:{ToolBar:f,Editor:pe},props:{},data:function(){return{}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this._self._c;return e("section",{staticClass:"height-all"},[e("ToolBar"),e("Editor")],1)}),[],!1,null,null,null,null).exports,ge=o({name:"HomePage",components:{DesignerAside:d,DesignerMain:he},props:{},data:function(){return{isNightMode:!1}},methods:{initMounted:function(){this.initConfig()},initConfig:function(){var e=c();e.initNightMode(),this.isNightMode=e.isNightMode},dayNightChange:function(){var e=c();this.isNightMode=!this.isNightMode,e.toggleNightMode(this.isNightMode)},enterFullScreen:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"roy-designer-container"},[t("el-header",{staticClass:"roy-designer-header",attrs:{height:"40px"}},[t("div",{staticClass:"roy-designer-header__text"},[t("i",{staticClass:"ri-pen-nib-line"}),t("span",[e._v("打印模板设计器")])]),t("div",{staticClass:"roy-night-mode"},[t("transition-group",{attrs:{name:"roy-fade",tag:"span"}},[e.isNightMode?t("i",{key:1,staticClass:"ri-haze-fill",on:{click:e.dayNightChange}}):t("i",{key:2,staticClass:"ri-moon-foggy-fill",on:{click:e.dayNightChange}})])],1)]),t("el-container",{staticStyle:{height:"calc(100% - 40px)"}},[t("el-aside",{staticClass:"roy-designer-aside",attrs:{width:"300px"}},[t("DesignerAside")],1),t("el-main",{staticClass:"roy-designer-main"},[t("DesignerMain")],1)],1)],1)}),[],!1,null,null,null,null).exports,ve=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"}));e("H",ve)}}}))}();
