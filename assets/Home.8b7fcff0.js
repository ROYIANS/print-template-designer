import{d as Qt,n as P,_ as T,m as Tt}from"./index.fc9e8784.js";const Xt={STORAGE_PREFIX:"_ROY_DESIGNER_"},{STORAGE_PREFIX:St}=Xt,Q=Qt({id:"nightMode",state:()=>({isNightMode:!1}),getters:{getIsNightMode:e=>e.isNightMode},actions:{toggleNightMode(e){this.isNightMode=e,window.localStorage.setItem(`${St}NIGHT_MODE`,JSON.stringify(e)),document.body.setAttribute("theme",e?"dark":"day")},initNightMode(){const e=window.localStorage.getItem(`${St}NIGHT_MODE`);e!==null&&this.toggleNightMode(JSON.parse(e))}}}),M={methods:{deepCopy(e,r=[]){if(e===null||typeof e!="object")return e;const t=Object.prototype.toString.call(e).slice(8,-1);if(t==="RegExp")return new RegExp(e);if(t==="Date")return new Date(e);if(t==="Error")return new Error(e);const n=r.filter(o=>o.original===e)[0];if(n)return n.copy;const i=Array.isArray(e)?[]:{};return r.push({original:e,copy:i}),Object.keys(e).forEach(o=>{i[o]=this.deepCopy(e[o],r)}),i},getUuid(e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"){let r=[];for(let n=0;n<36;n++)r[n]=e.substr(Math.floor(Math.random()*16),1);return r[14]="4",r[19]=e.substr(r[19]&3|8,1),r[8]=r[13]=r[18]=r[23]="",r.join("")},isBlank(e){return e==null||e===""},findParentComponent(e,r){let t=e.$parent;for(;t;)if((t.$options.componentName||t.$options.name)!==r)t=t.$parent;else return t;return!1}}};const Yt={name:"DesignerAside",mixins:[M],data(){return{menuList:[{name:"\u7EC4\u4EF6",code:"component",icon:"ri-pencil-ruler-2-line",component:()=>T(()=>import("./PageComponent.2f8877f2.js"),["assets/PageComponent.2f8877f2.js","assets/PageComponent.5b92461c.css","assets/index.fc9e8784.js","assets/index.c0e9a054.css"])},{name:"\u533A\u5757",code:"blocks",icon:"ri-layout-5-line",component:()=>T(()=>import("./PageBlock.e934ebda.js"),["assets/PageBlock.e934ebda.js","assets/PageBlock.1eb29ec9.css","assets/index.fc9e8784.js","assets/index.c0e9a054.css"])},{name:"\u9875\u9762",code:"page",icon:"ri-stack-line",component:()=>T(()=>import("./PageSetting.33451b0b.js"),["assets/PageSetting.33451b0b.js","assets/PageSetting.dc142315.css","assets/index.fc9e8784.js","assets/index.c0e9a054.css"])},{name:"\u5927\u7EB2",code:"toc",icon:"ri-pages-line",component:()=>T(()=>import("./PageToc.1713c560.js"),["assets/PageToc.1713c560.js","assets/PageToc.d327ddf4.css","assets/index.fc9e8784.js","assets/index.c0e9a054.css"])},{name:"\u5DE5\u5177",code:"tools",icon:"ri-magic-line",component:()=>T(()=>import("./PageTools.054e0382.js"),["assets/PageTools.054e0382.js","assets/PageTools.101a22b6.css","assets/index.fc9e8784.js","assets/index.c0e9a054.css"])},{name:"\u5168\u5C40",code:"setting",icon:"ri-sound-module-line",component:()=>T(()=>import("./GlobalSetting.d29ea540.js"),["assets/GlobalSetting.d29ea540.js","assets/GlobalSetting.b30e4e39.css","assets/index.fc9e8784.js","assets/index.c0e9a054.css"])}],curActiveComponent:null,curActiveComponentCode:""}},methods:{onMenuSelect(e){this.curActiveComponent=this.menuList[e].component,this.curActiveComponentCode=this.menuList[e].code}},mounted(){this.$message({message:"\u6B22\u8FCE\uFF01\u672C\u7CFB\u7EDF\u7531ROYIANS\u8BBE\u8BA1",type:"success",duration:3e3}),this.curActiveComponent=this.menuList[0].component,this.curActiveComponentCode=this.menuList[0].code}};var te=function(){var r=this,t=r._self._c;return t("section",{staticClass:"roy-designer-aside__main"},[t("el-menu",{staticClass:"roy-designer-aside__menu",attrs:{collapse:!0,"default-active":"0"},on:{select:r.onMenuSelect}},r._l(r.menuList,function(n,i){return t("el-menu-item",{key:n.code,attrs:{index:`${i}`}},[t("div",{staticClass:"roy-designer-aside__menu__icon"},[t("i",{class:n.icon}),t("span",[r._v(r._s(n.name))])])])}),1),t("keep-alive",[t(r.curActiveComponent,{key:r.curActiveComponentCode,tag:"component",staticClass:"roy-designer-aside__right_panel"})],1)],1)},ee=[],re=P(Yt,te,ee,!1,null,null,null,null);const ne=re.exports;const ie={name:"ToolBar",mixins:[M],components:{},props:{},data(){return{toolbarLeftConfig:[{name:"\u64A4\u9500",icon:"ri-arrow-go-back-fill",event:()=>{alert("\u64A4\u9500")}},{name:"\u6062\u590D",icon:"ri-arrow-go-forward-fill",event:()=>{}}],toolbarRightConfig:[{name:"\u9884\u89C8",icon:"ri-eye-2-fill",event:()=>{}},{name:"\u4FDD\u5B58",icon:"ri-save-2-fill",event:()=>{}}]}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}};var oe=function(){var r=this,t=r._self._c;return t("el-header",{staticClass:"roy-designer-main__toolbar",attrs:{height:"45px"}},[t("section",{staticClass:"roy-designer-main__toolbar_left"},r._l(r.toolbarLeftConfig,function(n,i){return t("el-tooltip",{key:i,attrs:{content:n.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[t("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:n.event}},[t("i",{class:n.icon})])])}),1),t("section",{staticClass:"roy-designer-main__toolbar_right"},r._l(r.toolbarRightConfig,function(n,i){return t("el-tooltip",{key:i,attrs:{content:n.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[t("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:n.event}},[t("i",{class:n.icon})])])}),1)])},ae=[],se=P(ie,oe,ae,!1,null,null,null,null);const ue=se.exports;function _t(e,r){return function(t){t&&(e[r]=t)}}function ce(e,r){return function(t){var n=t.prototype;e.forEach(function(i){r(n,i)})}}var le=function(){function e(){this.keys=[],this.values=[]}var r=e.prototype;return r.get=function(t){return this.values[this.keys.indexOf(t)]},r.set=function(t,n){var i=this.keys,o=this.values,s=i.indexOf(t),a=s===-1?i.length:s;i[a]=t,o[a]=n},e}(),fe=function(){function e(){this.object={}}var r=e.prototype;return r.get=function(t){return this.object[t]},r.set=function(t,n){this.object[t]=n},e}(),de=typeof Map=="function",ve=function(){function e(){}var r=e.prototype;return r.connect=function(t,n){this.prev=t,this.next=n,t&&(t.next=this),n&&(n.prev=this)},r.disconnect=function(){var t=this.prev,n=this.next;t&&(t.next=n),n&&(n.prev=t)},r.getIndex=function(){for(var t=this,n=-1;t;)t=t.prev,++n;return n},e}();function he(e,r){var t=[],n=[];return e.forEach(function(i){var o=i[0],s=i[1],a=new ve;t[o]=a,n[s]=a}),t.forEach(function(i,o){i.connect(t[o-1])}),e.filter(function(i,o){return!r[o]}).map(function(i,o){var s=i[0],a=i[1];if(s===a)return[0,0];var u=t[s],c=n[a-1],f=u.getIndex();u.disconnect(),c?u.connect(c,c.next):u.connect(void 0,t[0]);var d=u.getIndex();return[f,d]})}var pe=function(){function e(t,n,i,o,s,a,u,c){this.prevList=t,this.list=n,this.added=i,this.removed=o,this.changed=s,this.maintained=a,this.changedBeforeAdded=u,this.fixed=c}var r=e.prototype;return Object.defineProperty(r,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(r,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),r.caculateOrdered=function(){var t=he(this.changedBeforeAdded,this.fixed),n=this.changed,i=[];this.cacheOrdered=t.filter(function(o,s){var a=o[0],u=o[1],c=n[s],f=c[0],d=c[1];if(a!==u)return i.push([f,d]),!0}),this.cachePureChanged=i},e}();function It(e,r,t){var n=de?Map:t?fe:le,i=t||function(_){return _},o=[],s=[],a=[],u=e.map(i),c=r.map(i),f=new n,d=new n,p=[],g=[],C={},$=[],O=0,b=0;return u.forEach(function(_,h){f.set(_,h)}),c.forEach(function(_,h){d.set(_,h)}),u.forEach(function(_,h){var v=d.get(_);typeof v>"u"?(++b,s.push(h)):C[v]=b}),c.forEach(function(_,h){var v=f.get(_);typeof v>"u"?(o.push(h),++O):(a.push([v,h]),b=C[h]||0,p.push([v-b,h-O]),g.push(h===v),v!==h&&$.push([v,h]))}),s.reverse(),new pe(e,r,o,s,$,a,p,g)}var _e="function",me="object",ge="string",ye="number",Ce="undefined",Z={cm:function(e){return e*96/2.54},mm:function(e){return e*96/254},in:function(e){return e*96},pt:function(e){return e*96/72},pc:function(e){return e*96/6},"%":function(e,r){return e*r/100},vw:function(e,r){return r===void 0&&(r=window.innerWidth),e/100*r},vh:function(e,r){return r===void 0&&(r=window.innerHeight),e/100*r},vmax:function(e,r){return r===void 0&&(r=Math.max(window.innerWidth,window.innerHeight)),e/100*r},vmin:function(e,r){return r===void 0&&(r=Math.min(window.innerWidth,window.innerHeight)),e/100*r}};function be(e){return typeof e===Ce}function xe(e){return e&&typeof e===me}function we(e){return Array.isArray(e)}function j(e){return typeof e===ge}function Ee(e){return typeof e===ye}function Pe(e){return typeof e===_e}function Oe(e){var r=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!r)return{prefix:"",unit:"",value:NaN};var t=r[1],n=r[2],i=r[3];return{prefix:t,unit:i,value:parseFloat(n)}}function ct(e,r){return r===void 0&&(r="-"),e.replace(/([a-z])([A-Z])/g,function(t,n,i){return""+n+r+i.toLowerCase()})}function lt(e,r){var t=Oe(e),n=t.value,i=t.unit;if(xe(r)){var o=r[i];if(o){if(Pe(o))return o(n);if(Z[i])return Z[i](n,o)}}else if(i==="%")return n*r/100;return Z[i]?Z[i](n):n}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dt=function(e,r){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},dt(e,r)};function S(e,r){dt(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var E=function(){return E=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},E.apply(this,arguments)};function Dt(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t}function Re(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),i=0,r=0;r<t;r++)for(var o=arguments[r],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function vt(e,r){if(e===r)return!1;for(var t in e)if(!(t in r))return!0;for(var t in r)if(e[t]!==r[t])return!0;return!1}function mt(e,r){var t=Object.keys(e),n=Object.keys(r),i=It(t,n,function(u){return u}),o={},s={},a={};return i.added.forEach(function(u){var c=n[u];o[c]=r[c]}),i.removed.forEach(function(u){var c=t[u];s[c]=e[c]}),i.maintained.forEach(function(u){var c=u[0],f=t[c],d=[e[f],r[f]];e[f]!==r[f]&&(a[f]=d)}),{added:o,removed:s,changed:a}}function Bt(e){e.forEach(function(r){r()})}function $t(e){var r=0;return e.map(function(t){return t==null?"$compat"+ ++r:""+t})}function Nt(e,r,t,n){if(j(e)||Ee(e))return new Ne("text_"+e,r,t,n,null,{});var i=typeof e.type=="string"?ke:e.type.prototype.render?Le:Ae;return new i(e.type,r,t,n,e.ref,e.props)}function zt(e){var r=[];return e.forEach(function(t){r=r.concat(we(t)?zt(t):t)}),r}function kt(e){var r=e.className,t=Dt(e,["className"]);return r!=null&&(t.class=r),delete t.style,delete t.children,t}function ft(e,r){if(!r)return e;for(var t in r)be(e[t])&&(e[t]=r[t]);return e}function Y(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var i=r||{},o=i.key,s=i.ref,a=Dt(i,["key","ref"]);return{type:e,key:o,ref:s,props:E(E({},a),{children:zt(t).filter(function(u){return u!=null&&u!==!1})})}}var H=function(){function e(t,n,i,o,s,a){a===void 0&&(a={}),this.type=t,this.key=n,this.index=i,this.container=o,this.ref=s,this.props=a,this._providers=[]}var r=e.prototype;return r._should=function(t,n){return!0},r._update=function(t,n,i,o){if(this.base&&!j(n)&&!o&&!this._should(n.props,i))return!1;this.original=n,this._setState(i);var s=this.props;return j(n)||(this.props=n.props,this.ref=n.ref),this._render(t,this.base?s:{},i),!0},r._mounted=function(){var t=this.ref;t&&t(this.base)},r._setState=function(t){},r._updated=function(){var t=this.ref;t&&t(this.base)},r._destroy=function(){var t=this.ref;t&&t(null)},e}();function Me(e,r,t){var n=mt(e,r),i=n.added,o=n.removed,s=n.changed;for(var a in i)t.setAttribute(a,i[a]);for(var a in s)t.setAttribute(a,s[a][1]);for(var a in o)t.removeAttribute(a)}function Se(e,r,t){var n=mt(e,r),i=n.added,o=n.removed,s=n.changed;for(var a in o)t.removeEventListener(a);for(var a in i)t.addEventListener(a,i[a]);for(var a in s)t.removeEventListener(a),t.addEventListener(a,s[a][1]);for(var a in o)t.removeEventListener(a)}function $e(e,r,t){var n=t.style,i=mt(e,r),o=i.added,s=i.removed,a=i.changed;for(var u in o){var c=ct(u,"-");n.setProperty?n.setProperty(c,o[u]):n[c]=o[u]}for(var u in a){var c=ct(u,"-");n.setProperty?n.setProperty(c,a[u][1]):n[c]=a[u][1]}for(var u in s){var c=ct(u,"-");n.removeProperty?n.removeProperty(c):n[c]=""}}function At(e){var r={},t={};for(var n in e)n.indexOf("on")===0?t[n.replace("on","").toLowerCase()]=e[n]:r[n]=e[n];return{attributes:r,events:t}}var Ne=function(e){S(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}var t=r.prototype;return t._render=function(n){var i=this,o=!this.base;return o&&(this.base=document.createTextNode(this.type.replace("text_",""))),n.push(function(){o?i._mounted():i._updated()}),!0},t._unmount=function(){this.base.parentNode.removeChild(this.base)},r}(H),ke=function(e){S(r,e);function r(){var n=e!==null&&e.apply(this,arguments)||this;return n.events={},n._isSVG=!1,n}var t=r.prototype;return t.addEventListener=function(n,i){var o=this.events;o[n]=function(s){s.nativeEvent=s,i(s)},this.base.addEventListener(n,o[n])},t.removeEventListener=function(n){var i=this.events;this.base.removeEventListener(n,i[n]),delete i[n]},t._should=function(n){return vt(this.props,n)},t._render=function(n,i){var o=this,s=!this.base;if(s){var a=this._hasSVG();this._isSVG=a;var u=this.props.portalContainer;if(!u){var c=this.type;a?u=document.createElementNS("http://www.w3.org/2000/svg",c):u=document.createElement(c)}this.base=u}F(this,this._providers,this.props.children,n,null);var f=this.base,d=At(i),p=d.attributes,g=d.events,C=At(this.props),$=C.attributes,O=C.events;return Me(kt(p),kt($),f),Se(g,O,this),$e(i.style||{},this.props.style||{},f),n.push(function(){s?o._mounted():o._updated()}),!0},t._unmount=function(){var n=this.events,i=this.base;for(var o in n)i.removeEventListener(o,n[o]);this._providers.forEach(function(s){s._unmount()}),this.events={},this.props.portalContainer||i.parentNode.removeChild(i)},t._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var n=gt(this.container);return n&&"ownerSVGElement"in n},r}(H);function gt(e){if(!e)return null;var r=e.base;return r instanceof Node?r:gt(e.container)}function U(e){if(!e)return null;if(e instanceof Node)return e;var r=e.$_provider._providers;return r.length?U(r[0].base):null}var Ae=function(e){S(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}var t=r.prototype;return t._render=function(n){var i=this.type(this.props);return F(this,this._providers,i?[i]:[],n),!0},t._unmount=function(){this._providers.forEach(function(n){n._unmount()})},r}(H),jt=function(e){S(r,e);function r(n){var i=e.call(this,"container","container",0,null)||this;return i.base=n,i}var t=r.prototype;return t._render=function(){return!0},t._unmount=function(){},r}(H),Le=function(e){S(r,e);function r(n,i,o,s,a,u){return u===void 0&&(u={}),e.call(this,n,i,o,s,a,ft(u,n.defaultProps))||this}var t=r.prototype;return t._should=function(n,i){return this.base.shouldComponentUpdate(ft(n,this.type.defaultProps),i||this.base.state)},t._render=function(n,i){var o=this;this.props=ft(this.props,this.type.defaultProps);var s=!this.base;s?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var a=this.base,u=a.state,c=a.render();c&&c.props&&!c.props.children.length&&(c.props.children=this.props.children),F(this,this._providers,c?[c]:[],n),n.push(function(){s?(o._mounted(),a.componentDidMount()):(o._updated(),a.componentDidUpdate(i,u))})},t._setState=function(n){var i=this.base;!i||!n||(i.state=n)},t._unmount=function(){this._providers.forEach(function(n){n._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},r}(H),Ut=function(){function e(t){t===void 0&&(t={}),this.props=t,this.state={},this.$_timer=0,this.$_state={}}var r=e.prototype;return r.shouldComponentUpdate=function(t,n){return!0},r.render=function(){return null},r.setState=function(t,n,i){var o=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=E(E({},this.$_state),t),i?this.$_setState(n,i):this.$_timer=setTimeout(function(){o.$_timer=0,o.$_setState(n,i)})},r.forceUpdate=function(t){this.setState({},t,!0)},r.componentDidMount=function(){},r.componentDidUpdate=function(t,n){},r.componentWillUnmount=function(){},r.$_setState=function(t,n){var i=[],o=this.$_provider,s=F(o.container,[o],[o.original],i,E(E({},this.state),this.$_state),n);s&&(t&&i.push(t),Bt(i))},e}(),Ht=function(e){S(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}var t=r.prototype;return t.shouldComponentUpdate=function(n,i){return vt(this.props,n)||vt(this.state,i)},r}(Ut),Te=function(e){S(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}var t=r.prototype;return t.componentDidMount=function(){var n=this.props,i=n.element,o=n.container;this._portalProvider=new jt(o),q(i,o,this._portalProvider)},t.componentDidUpdate=function(){var n=this.props,i=n.element,o=n.container;q(i,o,this._portalProvider)},t.componentWillUnmount=function(){var n=this.props.container;q(null,n,this._portalProvider),this._portalProvider=null},r}(Ht);function Ie(e,r,t){var n=[];F(e,e._providers,r,n,t),Bt(n)}function De(e,r){for(var t=e._providers,n=t.length,i=r.index+1;i<n;++i){var o=U(t[i].base);if(o)return o}return null}function Be(e,r,t){var n=t.map(function(u){return j(u)?null:u.key}),i=$t(r.map(function(u){return u.key})),o=$t(n),s=It(i,o,function(u){return u});s.removed.forEach(function(u){r.splice(u,1)[0]._unmount()}),s.ordered.forEach(function(u){var c=u[0],f=u[1],d=r.splice(c,1)[0];r.splice(f,0,d);var p=U(d.base),g=U(r[f+1]&&r[f+1].base);p&&p.parentNode.insertBefore(p,g)}),s.added.forEach(function(u){r.splice(u,0,Nt(t[u],n[u],u,e))});var a=s.maintained.filter(function(u){u[0];var c=u[1],f=t[c],d=r[c],p=j(f)?"text_"+f:f.type;return p!==d.type?(d._unmount(),r.splice(c,1,Nt(f,n[c],c,e)),!0):(d.index=c,!1)});return Re(s.added,a.map(function(u){u[0];var c=u[1];return c}))}function F(e,r,t,n,i,o){var s=Be(e,r,t),a=r.filter(function(c,f){return c._update(n,t[f],i,o)}),u=gt(e);return u&&s.reverse().forEach(function(c){var f=r[c],d=U(f.base);if(!!d&&u!==d&&!d.parentNode){var p=De(e,f);u.insertBefore(d,p)}}),a.length>0}function q(e,r,t){t===void 0&&(t=r.__REACT_COMPAT__);var n=!!t;return t||(t=new jt(r)),Ie(t,e?[e]:[]),n||(r.__REACT_COMPAT__=t),t}function Lt(e,r,t){var n=r.__REACT_COMPAT__;e&&!n&&(r.innerHTML=""),q(e,r,n),t&&t()}function ze(e,r){return Y(Te,{element:e,container:r})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ht=function(e,r){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},ht(e,r)};function je(e,r){ht(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Ue=function(e){je(r,e);function r(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={scrollPos:0},n.width=0,n.height=0,n}var t=r.prototype;return t.render=function(){return Y("canvas",{ref:_t(this,"canvasElement"),style:this.props.style})},t.componentDidMount=function(){var n=this.canvasElement,i=n.getContext("2d");this.canvasContext=i,this.resize()},t.componentDidUpdate=function(){this.resize()},t.scroll=function(n){this.draw(n)},t.resize=function(){var n=this.canvasElement,i=this.props,o=i.width,s=i.height,a=i.scrollPos;this.width=o||n.offsetWidth,this.height=s||n.offsetHeight,n.width=this.width*2,n.height=this.height*2,this.draw(a)},t.draw=function(n){n===void 0&&(n=this.state.scrollPos);var i=this.props,o=i,s=o.unit,a=o.zoom,u=o.type,c=o.backgroundColor,f=o.lineColor,d=o.textColor,p=o.textBackgroundColor,g=o.direction,C=o.negativeRuler,$=C===void 0?!0:C,O=o.segment,b=O===void 0?10:O,_=o.textFormat,h=o.range,v=h===void 0?[-1/0,1/0]:h,yt=o.rangeBackgroundColor,I=this.width,D=this.height,Vt=this.state;Vt.scrollPos=n;var l=this.canvasContext,y=u==="horizontal",Ct=$!==!1,Gt=i.font||"10px sans-serif",tt=i.textAlign||"left",N=i.textOffset||[0,0],et=y?D:I,rt=lt(""+(i.mainLineSize||"100%"),et),Wt=lt(""+(i.longLineSize||10),et),Jt=lt(""+(i.shortLineSize||7),et),x=i.lineOffset||[0,0];switch(c==="transparent"?l.clearRect(0,0,I*2,D*2):(l.rect(0,0,I*2,D*2),l.fillStyle=c,l.fill()),l.save(),l.scale(2,2),l.strokeStyle=f,l.lineWidth=1,l.font=Gt,l.fillStyle=d,g){case"start":l.textBaseline="top";break;case"center":l.textBaseline="middle";break;case"end":l.textBaseline="bottom";break}l.translate(.5,0),l.beginPath();var nt=y?I:D,V=a*s,it=Math.floor(n*a/V),Kt=Math.ceil((n*a+nt)/V),bt=Kt-it,xt=Math.max(["left","center","right"].indexOf(tt)-1,-1),k=y?D:I;if(yt!=="transparent"&&v[0]!==-1/0&&v[1]!==1/0){var wt=(v[0]-n)*a,Et=(v[1]-v[0])*a;l.save(),l.fillStyle=yt,y?l.fillRect(wt,0,Et,k):l.fillRect(0,wt,k,Et),l.restore()}for(var R=0;R<=bt;++R){var B=R+it;if(!(!Ct&&B<0))for(var w=B*s,A=(w-n)*a,L=0;L<b;++L){var G=A+L/b*V,Pt=w+L/b*s;if(!(G<0||G>=nt||Pt<v[0]||Pt>v[1])){var W=L===0?rt:L%2===0?Wt:Jt,m=0;switch(g){case"start":m=0;break;case"center":m=k/2-W/2;break;case"end":m=k-W;break}var Ot=y?[G+x[0],m+x[1]]:[m+x[0],G+x[1]],ot=Ot[0],at=Ot[1],Rt=y?[ot,at+W]:[ot+W,at],Zt=Rt[0],qt=Rt[1];l.moveTo(ot+x[0],at+x[1]),l.lineTo(Zt+x[0],qt+x[1])}}}l.stroke();for(var R=0;R<=bt;++R){var B=R+it;if(!(!Ct&&B<0)){var w=B*s,A=(w-n)*a;if(!(A<-V||A>=nt+s*a||w<v[0]||w>v[1])){var m=0;switch(g){case"start":m=17;break;case"center":m=k/2;break;case"end":m=k-17;break}var Mt=y?[A+xt*-3,m]:[m,A+xt*3],st=Mt[0],ut=Mt[1],J=""+w;_&&(J=_(w)),l.textAlign=tt;var z=0,K=l.measureText(J).width;switch(tt){case"left":z=0;break;case"center":z=-K/2;break;case"right":z=-K;break}y?(l.save(),l.fillStyle=p,l.fillRect(st+N[0]+z,0,K,rt),l.restore()):(l.save(),l.translate(0,ut+N[1]),l.rotate(-Math.PI/2),l.fillStyle=p,l.fillRect(z,0,K,rt),l.restore()),y?l.fillText(J,st+N[0],ut+N[1]):(l.save(),l.translate(st+N[0],ut+N[1]),l.rotate(-Math.PI/2),l.fillText(J,0,0),l.restore())}}}l.restore()},r.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent"},r}(Ht),He=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat"];const Fe=Ue;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pt=function(e,r){return pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])},pt(e,r)};function Ve(e,r){pt(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var X=function(){return X=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},X.apply(this,arguments)};function Ge(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t}function We(e,r,t,n){var i=arguments.length,o=i<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(r,t,o):s(r,t))||o);return i>3&&o&&Object.defineProperty(r,t,o),o}var Je=He,Ke=function(e){Ve(r,e);function r(n){var i=e.call(this,n)||this;return i.state={},i.state=i.props,i}var t=r.prototype;return t.render=function(){var n=this.state,i=n.parentElement,o=Ge(n,["parentElement"]);return ze(Y(Fe,X({ref:_t(this,"ruler")},o)),i)},r}(Ut),Ze=function(){function e(t,n){n===void 0&&(n={}),this.tempElement=document.createElement("div"),Lt(Y(Ke,X({ref:_t(this,"innerRuler")},n,{parentElement:t})),this.tempElement)}var r=e.prototype;return r.scroll=function(t){this.getRuler().scroll(t)},r.resize=function(){this.getRuler().resize()},r.destroy=function(){Lt(null,this.tempElement),this.tempElement=null,this.innerRuler=null},r.getRuler=function(){return this.innerRuler.ruler},e=We([ce(Je,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getRuler().props[n]},set:function(i){var o;this.innerRuler.setState((o={},o[n]=i,o))},enumerable:!0,configurable:!0})})],e),e}();const Ft=Ze,qe={name:"RulerHorizontal",mixins:[M],components:{},props:{scale:{type:Number},scroll:{type:Number}},data(){return{ruler:null}},computed:{...Tt(Q,["isNightMode"])},methods:{initMounted(){let e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler=new Ft(this.$refs.rulerDiv,{type:"horizontal",backgroundColor:window.getComputedStyle(e[0]).backgroundColor,textColor:window.getComputedStyle(e[0]).color,height:16,unit:1,zoom:50}))}},created(){},mounted(){this.initMounted()},watch:{isNightMode(){let e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler.backgroundColor=window.getComputedStyle(e[0]).backgroundColor,this.ruler.textColor=window.getComputedStyle(e[0]).color)}}};var Qe=function(){var r=this,t=r._self._c;return t("div",{ref:"rulerDiv",staticClass:"roy-ruler"})},Xe=[],Ye=P(qe,Qe,Xe,!1,null,null,null,null);const tr=Ye.exports,er={name:"RulerHorizontal",mixins:[M],components:{},props:{scale:{type:Number},scroll:{type:Number}},data(){return{ruler:null}},computed:{...Tt(Q,["isNightMode"])},methods:{initMounted(){let e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler=new Ft(this.$refs.rulerDiv,{type:"vertical",backgroundColor:window.getComputedStyle(e[0]).backgroundColor,textColor:window.getComputedStyle(e[0]).color,width:16,unit:1,zoom:50}))}},created(){},mounted(){this.initMounted()},watch:{isNightMode(){let e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler.backgroundColor=window.getComputedStyle(e[0]).backgroundColor,this.ruler.textColor=window.getComputedStyle(e[0]).color)}}};var rr=function(){var r=this,t=r._self._c;return t("div",{ref:"rulerDiv",staticClass:"roy-ruler"})},nr=[],ir=P(er,rr,nr,!1,null,null,null,null);const or=ir.exports;const ar={name:"RoyRuler",mixins:[M],components:{RulerHorizontal:tr,RulerVertical:or},props:{},data(){return{}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}};var sr=function(){var r=this,t=r._self._c;return t("div",{staticClass:"roy-ruler-box"},[t("div",{staticClass:"roy-ruler-outer-box"}),t("div",{staticClass:"roy-ruler-horizontal-wrapper"},[t("RulerHorizontal")],1),t("div",{staticClass:"roy-ruler-vertical-wrapper"},[t("RulerVertical")],1),t("div",{staticClass:"roy-ruler-inner-box"},[t("div",{staticClass:"roy-ruler-inner-box-content"},[r._t("default")],2)])])},ur=[],cr=P(ar,sr,ur,!1,null,null,null,null);const lr=cr.exports;const fr={name:"RoyEditor",mixins:[M],components:{Ruler:lr},props:{},data(){return{}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}};var dr=function(){var r=this,t=r._self._c;return t("el-main",{staticClass:"roy-designer-main__page"},[t("Ruler",[t("div",{attrs:{id:"designer-page"}},[t("div",[r._v("\u6D4B\u8BD5\u9875\u9762")])])])],1)},vr=[],hr=P(fr,dr,vr,!1,null,null,null,null);const pr=hr.exports,_r={name:"DesignerMain",mixins:[M],components:{ToolBar:ue,Editor:pr},props:{},data(){return{}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}};var mr=function(){var r=this,t=r._self._c;return t("section",{staticClass:"height-all"},[t("ToolBar"),t("Editor")],1)},gr=[],yr=P(_r,mr,gr,!1,null,null,null,null);const Cr=yr.exports;const br={name:"HomePage",components:{DesignerAside:ne,DesignerMain:Cr},props:{},data(){return{}},methods:{initMounted(){this.initConfig()},initConfig(){const e=Q();e.initNightMode(),document.getElementById("dn").checked=e.isNightMode},dayNightChange(e){const r=Q(),t=e.target.checked;r.toggleNightMode(t)}},created(){},mounted(){this.initMounted()},watch:{}};var xr=function(){var r=this,t=r._self._c;return t("el-container",{staticClass:"roy-designer-container"},[t("el-header",{staticClass:"roy-designer-header",attrs:{height:"40px"}},[t("div",{staticClass:"roy-designer-header__text"},[t("i",{staticClass:"ri-pen-nib-line"}),t("span",[r._v("\u6253\u5370\u6A21\u677F\u8BBE\u8BA1\u5668")])]),t("div",{staticClass:"toggleWrapper"},[t("input",{staticClass:"dn",attrs:{type:"checkbox",id:"dn"},on:{change:r.dayNightChange}}),t("label",{staticClass:"toggle",attrs:{for:"dn"}},[t("span",{staticClass:"toggle__handler"},[t("span",{staticClass:"crater crater--1"}),t("span",{staticClass:"crater crater--2"}),t("span",{staticClass:"crater crater--3"})]),t("span",{staticClass:"star star--1"}),t("span",{staticClass:"star star--2"}),t("span",{staticClass:"star star--3"}),t("span",{staticClass:"star star--4"}),t("span",{staticClass:"star star--5"}),t("span",{staticClass:"star star--6"})])])]),t("el-container",{staticStyle:{height:"calc(100% - 40px)"}},[t("el-aside",{staticClass:"roy-designer-aside",attrs:{width:"300px"}},[t("DesignerAside")],1),t("el-main",{staticClass:"roy-designer-main"},[t("DesignerMain")],1)],1)],1)},wr=[],Er=P(br,xr,wr,!1,null,null,null,null);const Pr=Er.exports,Rr=Object.freeze(Object.defineProperty({__proto__:null,default:Pr},Symbol.toStringTag,{value:"Module"}));export{Rr as H,M as c};
