import{d as Qe,n as P,_ as T,m as Te}from"./index.7fdd8bf7.js";const Xe={STORAGE_PREFIX:"_ROY_DESIGNER_"},{STORAGE_PREFIX:Se}=Xe,Q=Qe({id:"nightMode",state:()=>({isNightMode:!1}),getters:{getIsNightMode:t=>t.isNightMode},actions:{toggleNightMode(t){this.isNightMode=t,window.localStorage.setItem(`${Se}NIGHT_MODE`,JSON.stringify(t)),document.body.setAttribute("theme",t?"dark":"day")},initNightMode(){const t=window.localStorage.getItem(`${Se}NIGHT_MODE`);t!==null&&this.toggleNightMode(JSON.parse(t))}}}),M={methods:{deepCopy(t,n=[]){if(t===null||typeof t!="object")return t;const e=Object.prototype.toString.call(t).slice(8,-1);if(e==="RegExp")return new RegExp(t);if(e==="Date")return new Date(t);if(e==="Error")return new Error(t);const r=n.filter(o=>o.original===t)[0];if(r)return r.copy;const i=Array.isArray(t)?[]:{};return n.push({original:t,copy:i}),Object.keys(t).forEach(o=>{i[o]=this.deepCopy(t[o],n)}),i},getUuid(t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"){let n=[];for(let r=0;r<36;r++)n[r]=t.substr(Math.floor(Math.random()*16),1);return n[14]="4",n[19]=t.substr(n[19]&3|8,1),n[8]=n[13]=n[18]=n[23]="",n.join("")},isBlank(t){return t==null||t===""},findParentComponent(t,n){let e=t.$parent;for(;e;)if((e.$options.componentName||e.$options.name)!==n)e=e.$parent;else return e;return!1}}};const Ye={name:"DesignerAside",mixins:[M],data(){return{menuList:[{name:"\u7EC4\u4EF6",code:"component",icon:"ri-pencil-ruler-2-line",component:()=>T(()=>import("./PageComponent.8b9a7a34.js"),["assets/PageComponent.8b9a7a34.js","assets/PageComponent.5b92461c.css","assets/index.7fdd8bf7.js","assets/index.c0e9a054.css"])},{name:"\u533A\u5757",code:"blocks",icon:"ri-layout-5-line",component:()=>T(()=>import("./PageBlock.f1fe2e80.js"),["assets/PageBlock.f1fe2e80.js","assets/PageBlock.1eb29ec9.css","assets/index.7fdd8bf7.js","assets/index.c0e9a054.css"])},{name:"\u9875\u9762",code:"page",icon:"ri-stack-line",component:()=>T(()=>import("./PageSetting.380bd6ab.js"),["assets/PageSetting.380bd6ab.js","assets/PageSetting.dc142315.css","assets/index.7fdd8bf7.js","assets/index.c0e9a054.css"])},{name:"\u5927\u7EB2",code:"toc",icon:"ri-pages-line",component:()=>T(()=>import("./PageToc.f34bda6a.js"),["assets/PageToc.f34bda6a.js","assets/PageToc.d327ddf4.css","assets/index.7fdd8bf7.js","assets/index.c0e9a054.css"])},{name:"\u5DE5\u5177",code:"tools",icon:"ri-magic-line",component:()=>T(()=>import("./PageTools.08224598.js"),["assets/PageTools.08224598.js","assets/PageTools.101a22b6.css","assets/index.7fdd8bf7.js","assets/index.c0e9a054.css"])},{name:"\u5168\u5C40",code:"setting",icon:"ri-sound-module-line",component:()=>T(()=>import("./GlobalSetting.22e557e4.js"),["assets/GlobalSetting.22e557e4.js","assets/GlobalSetting.b30e4e39.css","assets/index.7fdd8bf7.js","assets/index.c0e9a054.css"])}],curActiveComponent:null,curActiveComponentCode:""}},methods:{onMenuSelect(t){this.curActiveComponent=this.menuList[t].component,this.curActiveComponentCode=this.menuList[t].code}},mounted(){this.$message({message:"\u6B22\u8FCE\uFF01\u672C\u7CFB\u7EDF\u7531ROYIANS\u8BBE\u8BA1",type:"success",duration:3e3}),this.curActiveComponent=this.menuList[0].component,this.curActiveComponentCode=this.menuList[0].code}};var et=function(){var n=this,e=n._self._c;return e("section",{staticClass:"roy-designer-aside__main"},[e("el-menu",{staticClass:"roy-designer-aside__menu",attrs:{collapse:!0,"default-active":"0"},on:{select:n.onMenuSelect}},n._l(n.menuList,function(r,i){return e("el-menu-item",{key:r.code,attrs:{index:`${i}`}},[e("div",{staticClass:"roy-designer-aside__menu__icon"},[e("i",{class:r.icon}),e("span",[n._v(n._s(r.name))])])])}),1),e("keep-alive",[e(n.curActiveComponent,{key:n.curActiveComponentCode,tag:"component",staticClass:"roy-designer-aside__right_panel"})],1)],1)},tt=[],nt=P(Ye,et,tt,!1,null,null,null,null);const rt=nt.exports;const it={name:"ToolBar",mixins:[M],components:{},props:{},data(){return{toolbarLeftConfig:[{name:"\u64A4\u9500",icon:"ri-arrow-go-back-fill",event:()=>{alert("\u64A4\u9500")}},{name:"\u6062\u590D",icon:"ri-arrow-go-forward-fill",event:()=>{}}],toolbarRightConfig:[{name:"\u9884\u89C8",icon:"ri-eye-2-fill",event:()=>{}},{name:"\u4FDD\u5B58",icon:"ri-save-2-fill",event:()=>{}}]}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}};var ot=function(){var n=this,e=n._self._c;return e("el-header",{staticClass:"roy-designer-main__toolbar",attrs:{height:"45px"}},[e("section",{staticClass:"roy-designer-main__toolbar_left"},n._l(n.toolbarLeftConfig,function(r,i){return e("el-tooltip",{key:i,attrs:{content:r.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[e("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:r.event}},[e("i",{class:r.icon})])])}),1),e("section",{staticClass:"roy-designer-main__toolbar_right"},n._l(n.toolbarRightConfig,function(r,i){return e("el-tooltip",{key:i,attrs:{content:r.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[e("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:r.event}},[e("i",{class:r.icon})])])}),1)])},at=[],st=P(it,ot,at,!1,null,null,null,null);const ut=st.exports;function _e(t,n){return function(e){e&&(t[n]=e)}}function ct(t,n){return function(e){var r=e.prototype;t.forEach(function(i){n(r,i)})}}var lt=function(){function t(){this.keys=[],this.values=[]}var n=t.prototype;return n.get=function(e){return this.values[this.keys.indexOf(e)]},n.set=function(e,r){var i=this.keys,o=this.values,s=i.indexOf(e),a=s===-1?i.length:s;i[a]=e,o[a]=r},t}(),ft=function(){function t(){this.object={}}var n=t.prototype;return n.get=function(e){return this.object[e]},n.set=function(e,r){this.object[e]=r},t}(),dt=typeof Map=="function",vt=function(){function t(){}var n=t.prototype;return n.connect=function(e,r){this.prev=e,this.next=r,e&&(e.next=this),r&&(r.prev=this)},n.disconnect=function(){var e=this.prev,r=this.next;e&&(e.next=r),r&&(r.prev=e)},n.getIndex=function(){for(var e=this,r=-1;e;)e=e.prev,++r;return r},t}();function ht(t,n){var e=[],r=[];return t.forEach(function(i){var o=i[0],s=i[1],a=new vt;e[o]=a,r[s]=a}),e.forEach(function(i,o){i.connect(e[o-1])}),t.filter(function(i,o){return!n[o]}).map(function(i,o){var s=i[0],a=i[1];if(s===a)return[0,0];var u=e[s],c=r[a-1],f=u.getIndex();u.disconnect(),c?u.connect(c,c.next):u.connect(void 0,e[0]);var d=u.getIndex();return[f,d]})}var pt=function(){function t(e,r,i,o,s,a,u,c){this.prevList=e,this.list=r,this.added=i,this.removed=o,this.changed=s,this.maintained=a,this.changedBeforeAdded=u,this.fixed=c}var n=t.prototype;return Object.defineProperty(n,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(n,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),n.caculateOrdered=function(){var e=ht(this.changedBeforeAdded,this.fixed),r=this.changed,i=[];this.cacheOrdered=e.filter(function(o,s){var a=o[0],u=o[1],c=r[s],f=c[0],d=c[1];if(a!==u)return i.push([f,d]),!0}),this.cachePureChanged=i},t}();function De(t,n,e){var r=dt?Map:e?ft:lt,i=e||function(_){return _},o=[],s=[],a=[],u=t.map(i),c=n.map(i),f=new r,d=new r,p=[],g=[],C={},N=[],O=0,b=0;return u.forEach(function(_,h){f.set(_,h)}),c.forEach(function(_,h){d.set(_,h)}),u.forEach(function(_,h){var v=d.get(_);typeof v>"u"?(++b,s.push(h)):C[v]=b}),c.forEach(function(_,h){var v=f.get(_);typeof v>"u"?(o.push(h),++O):(a.push([v,h]),b=C[h]||0,p.push([v-b,h-O]),g.push(h===v),v!==h&&N.push([v,h]))}),s.reverse(),new pt(t,n,o,s,N,a,p,g)}var _t="function",mt="object",gt="string",yt="number",Ct="undefined",Z={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,n){return t*n/100},vw:function(t,n){return n===void 0&&(n=window.innerWidth),t/100*n},vh:function(t,n){return n===void 0&&(n=window.innerHeight),t/100*n},vmax:function(t,n){return n===void 0&&(n=Math.max(window.innerWidth,window.innerHeight)),t/100*n},vmin:function(t,n){return n===void 0&&(n=Math.min(window.innerWidth,window.innerHeight)),t/100*n}};function bt(t){return typeof t===Ct}function wt(t){return t&&typeof t===mt}function xt(t){return Array.isArray(t)}function j(t){return typeof t===gt}function Et(t){return typeof t===yt}function Pt(t){return typeof t===_t}function Ot(t){var n=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!n)return{prefix:"",unit:"",value:NaN};var e=n[1],r=n[2],i=n[3];return{prefix:e,unit:i,value:parseFloat(r)}}function ce(t,n){return n===void 0&&(n="-"),t.replace(/([a-z])([A-Z])/g,function(e,r,i){return""+r+n+i.toLowerCase()})}function le(t,n){var e=Ot(t),r=e.value,i=e.unit;if(wt(n)){var o=n[i];if(o){if(Pt(o))return o(r);if(Z[i])return Z[i](r,o)}}else if(i==="%")return r*n/100;return Z[i]?Z[i](r):r}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var de=function(t,n){return de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},de(t,n)};function S(t,n){de(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var E=function(){return E=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},E.apply(this,arguments)};function Ie(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function Rt(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var o=arguments[n],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function ve(t,n){if(t===n)return!1;for(var e in t)if(!(e in n))return!0;for(var e in n)if(t[e]!==n[e])return!0;return!1}function me(t,n){var e=Object.keys(t),r=Object.keys(n),i=De(e,r,function(u){return u}),o={},s={},a={};return i.added.forEach(function(u){var c=r[u];o[c]=n[c]}),i.removed.forEach(function(u){var c=e[u];s[c]=t[c]}),i.maintained.forEach(function(u){var c=u[0],f=e[c],d=[t[f],n[f]];t[f]!==n[f]&&(a[f]=d)}),{added:o,removed:s,changed:a}}function Be(t){t.forEach(function(n){n()})}function Ne(t){var n=0;return t.map(function(e){return e==null?"$compat"+ ++n:""+e})}function $e(t,n,e,r){if(j(t)||Et(t))return new $t("text_"+t,n,e,r,null,{});var i=typeof t.type=="string"?kt:t.type.prototype.render?Lt:At;return new i(t.type,n,e,r,t.ref,t.props)}function ze(t){var n=[];return t.forEach(function(e){n=n.concat(xt(e)?ze(e):e)}),n}function ke(t){var n=t.className,e=Ie(t,["className"]);return n!=null&&(e.class=n),delete e.style,delete e.children,e}function fe(t,n){if(!n)return t;for(var e in n)bt(t[e])&&(t[e]=n[e]);return t}function Y(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i=n||{},o=i.key,s=i.ref,a=Ie(i,["key","ref"]);return{type:t,key:o,ref:s,props:E(E({},a),{children:ze(e).filter(function(u){return u!=null&&u!==!1})})}}var H=function(){function t(e,r,i,o,s,a){a===void 0&&(a={}),this.type=e,this.key=r,this.index=i,this.container=o,this.ref=s,this.props=a,this._providers=[]}var n=t.prototype;return n._should=function(e,r){return!0},n._update=function(e,r,i,o){if(this.base&&!j(r)&&!o&&!this._should(r.props,i))return!1;this.original=r,this._setState(i);var s=this.props;return j(r)||(this.props=r.props,this.ref=r.ref),this._render(e,this.base?s:{},i),!0},n._mounted=function(){var e=this.ref;e&&e(this.base)},n._setState=function(e){},n._updated=function(){var e=this.ref;e&&e(this.base)},n._destroy=function(){var e=this.ref;e&&e(null)},t}();function Mt(t,n,e){var r=me(t,n),i=r.added,o=r.removed,s=r.changed;for(var a in i)e.setAttribute(a,i[a]);for(var a in s)e.setAttribute(a,s[a][1]);for(var a in o)e.removeAttribute(a)}function St(t,n,e){var r=me(t,n),i=r.added,o=r.removed,s=r.changed;for(var a in o)e.removeEventListener(a);for(var a in i)e.addEventListener(a,i[a]);for(var a in s)e.removeEventListener(a),e.addEventListener(a,s[a][1]);for(var a in o)e.removeEventListener(a)}function Nt(t,n,e){var r=e.style,i=me(t,n),o=i.added,s=i.removed,a=i.changed;for(var u in o){var c=ce(u,"-");r.setProperty?r.setProperty(c,o[u]):r[c]=o[u]}for(var u in a){var c=ce(u,"-");r.setProperty?r.setProperty(c,a[u][1]):r[c]=a[u][1]}for(var u in s){var c=ce(u,"-");r.removeProperty?r.removeProperty(c):r[c]=""}}function Ae(t){var n={},e={};for(var r in t)r.indexOf("on")===0?e[r.replace("on","").toLowerCase()]=t[r]:n[r]=t[r];return{attributes:n,events:e}}var $t=function(t){S(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}var e=n.prototype;return e._render=function(r){var i=this,o=!this.base;return o&&(this.base=document.createTextNode(this.type.replace("text_",""))),r.push(function(){o?i._mounted():i._updated()}),!0},e._unmount=function(){this.base.parentNode.removeChild(this.base)},n}(H),kt=function(t){S(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.events={},r._isSVG=!1,r}var e=n.prototype;return e.addEventListener=function(r,i){var o=this.events;o[r]=function(s){s.nativeEvent=s,i(s)},this.base.addEventListener(r,o[r])},e.removeEventListener=function(r){var i=this.events;this.base.removeEventListener(r,i[r]),delete i[r]},e._should=function(r){return ve(this.props,r)},e._render=function(r,i){var o=this,s=!this.base;if(s){var a=this._hasSVG();this._isSVG=a;var u=this.props.portalContainer;if(!u){var c=this.type;a?u=document.createElementNS("http://www.w3.org/2000/svg",c):u=document.createElement(c)}this.base=u}F(this,this._providers,this.props.children,r,null);var f=this.base,d=Ae(i),p=d.attributes,g=d.events,C=Ae(this.props),N=C.attributes,O=C.events;return Mt(ke(p),ke(N),f),St(g,O,this),Nt(i.style||{},this.props.style||{},f),r.push(function(){s?o._mounted():o._updated()}),!0},e._unmount=function(){var r=this.events,i=this.base;for(var o in r)i.removeEventListener(o,r[o]);this._providers.forEach(function(s){s._unmount()}),this.events={},this.props.portalContainer||i.parentNode.removeChild(i)},e._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var r=ge(this.container);return r&&"ownerSVGElement"in r},n}(H);function ge(t){if(!t)return null;var n=t.base;return n instanceof Node?n:ge(t.container)}function U(t){if(!t)return null;if(t instanceof Node)return t;var n=t.$_provider._providers;return n.length?U(n[0].base):null}var At=function(t){S(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}var e=n.prototype;return e._render=function(r){var i=this.type(this.props);return F(this,this._providers,i?[i]:[],r),!0},e._unmount=function(){this._providers.forEach(function(r){r._unmount()})},n}(H),je=function(t){S(n,t);function n(r){var i=t.call(this,"container","container",0,null)||this;return i.base=r,i}var e=n.prototype;return e._render=function(){return!0},e._unmount=function(){},n}(H),Lt=function(t){S(n,t);function n(r,i,o,s,a,u){return u===void 0&&(u={}),t.call(this,r,i,o,s,a,fe(u,r.defaultProps))||this}var e=n.prototype;return e._should=function(r,i){return this.base.shouldComponentUpdate(fe(r,this.type.defaultProps),i||this.base.state)},e._render=function(r,i){var o=this;this.props=fe(this.props,this.type.defaultProps);var s=!this.base;s?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var a=this.base,u=a.state,c=a.render();c&&c.props&&!c.props.children.length&&(c.props.children=this.props.children),F(this,this._providers,c?[c]:[],r),r.push(function(){s?(o._mounted(),a.componentDidMount()):(o._updated(),a.componentDidUpdate(i,u))})},e._setState=function(r){var i=this.base;!i||!r||(i.state=r)},e._unmount=function(){this._providers.forEach(function(r){r._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},n}(H),Ue=function(){function t(e){e===void 0&&(e={}),this.props=e,this.state={},this.$_timer=0,this.$_state={}}var n=t.prototype;return n.shouldComponentUpdate=function(e,r){return!0},n.render=function(){return null},n.setState=function(e,r,i){var o=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=E(E({},this.$_state),e),i?this.$_setState(r,i):this.$_timer=setTimeout(function(){o.$_timer=0,o.$_setState(r,i)})},n.forceUpdate=function(e){this.setState({},e,!0)},n.componentDidMount=function(){},n.componentDidUpdate=function(e,r){},n.componentWillUnmount=function(){},n.$_setState=function(e,r){var i=[],o=this.$_provider,s=F(o.container,[o],[o.original],i,E(E({},this.state),this.$_state),r);s&&(e&&i.push(e),Be(i))},t}(),He=function(t){S(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}var e=n.prototype;return e.shouldComponentUpdate=function(r,i){return ve(this.props,r)||ve(this.state,i)},n}(Ue),Tt=function(t){S(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}var e=n.prototype;return e.componentDidMount=function(){var r=this.props,i=r.element,o=r.container;this._portalProvider=new je(o),q(i,o,this._portalProvider)},e.componentDidUpdate=function(){var r=this.props,i=r.element,o=r.container;q(i,o,this._portalProvider)},e.componentWillUnmount=function(){var r=this.props.container;q(null,r,this._portalProvider),this._portalProvider=null},n}(He);function Dt(t,n,e){var r=[];F(t,t._providers,n,r,e),Be(r)}function It(t,n){for(var e=t._providers,r=e.length,i=n.index+1;i<r;++i){var o=U(e[i].base);if(o)return o}return null}function Bt(t,n,e){var r=e.map(function(u){return j(u)?null:u.key}),i=Ne(n.map(function(u){return u.key})),o=Ne(r),s=De(i,o,function(u){return u});s.removed.forEach(function(u){n.splice(u,1)[0]._unmount()}),s.ordered.forEach(function(u){var c=u[0],f=u[1],d=n.splice(c,1)[0];n.splice(f,0,d);var p=U(d.base),g=U(n[f+1]&&n[f+1].base);p&&p.parentNode.insertBefore(p,g)}),s.added.forEach(function(u){n.splice(u,0,$e(e[u],r[u],u,t))});var a=s.maintained.filter(function(u){u[0];var c=u[1],f=e[c],d=n[c],p=j(f)?"text_"+f:f.type;return p!==d.type?(d._unmount(),n.splice(c,1,$e(f,r[c],c,t)),!0):(d.index=c,!1)});return Rt(s.added,a.map(function(u){u[0];var c=u[1];return c}))}function F(t,n,e,r,i,o){var s=Bt(t,n,e),a=n.filter(function(c,f){return c._update(r,e[f],i,o)}),u=ge(t);return u&&s.reverse().forEach(function(c){var f=n[c],d=U(f.base);if(!!d&&u!==d&&!d.parentNode){var p=It(t,f);u.insertBefore(d,p)}}),a.length>0}function q(t,n,e){e===void 0&&(e=n.__REACT_COMPAT__);var r=!!e;return e||(e=new je(n)),Dt(e,t?[t]:[]),r||(n.__REACT_COMPAT__=e),e}function Le(t,n,e){var r=n.__REACT_COMPAT__;t&&!r&&(n.innerHTML=""),q(t,n,r),e&&e()}function zt(t,n){return Y(Tt,{element:t,container:n})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var he=function(t,n){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},he(t,n)};function jt(t,n){he(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var Ut=function(t){jt(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={scrollPos:0},r.width=0,r.height=0,r}var e=n.prototype;return e.render=function(){return Y("canvas",{ref:_e(this,"canvasElement"),style:this.props.style})},e.componentDidMount=function(){var r=this.canvasElement,i=r.getContext("2d");this.canvasContext=i,this.resize()},e.componentDidUpdate=function(){this.resize()},e.scroll=function(r){this.draw(r)},e.resize=function(){var r=this.canvasElement,i=this.props,o=i.width,s=i.height,a=i.scrollPos;this.width=o||r.offsetWidth,this.height=s||r.offsetHeight,r.width=this.width*2,r.height=this.height*2,this.draw(a)},e.draw=function(r){r===void 0&&(r=this.state.scrollPos);var i=this.props,o=i,s=o.unit,a=o.zoom,u=o.type,c=o.backgroundColor,f=o.lineColor,d=o.textColor,p=o.textBackgroundColor,g=o.direction,C=o.negativeRuler,N=C===void 0?!0:C,O=o.segment,b=O===void 0?10:O,_=o.textFormat,h=o.range,v=h===void 0?[-1/0,1/0]:h,ye=o.rangeBackgroundColor,D=this.width,I=this.height,Ve=this.state;Ve.scrollPos=r;var l=this.canvasContext,y=u==="horizontal",Ce=N!==!1,Ge=i.font||"10px sans-serif",ee=i.textAlign||"left",$=i.textOffset||[0,0],te=y?I:D,ne=le(""+(i.mainLineSize||"100%"),te),We=le(""+(i.longLineSize||10),te),Je=le(""+(i.shortLineSize||7),te),w=i.lineOffset||[0,0];switch(c==="transparent"?l.clearRect(0,0,D*2,I*2):(l.rect(0,0,D*2,I*2),l.fillStyle=c,l.fill()),l.save(),l.scale(2,2),l.strokeStyle=f,l.lineWidth=1,l.font=Ge,l.fillStyle=d,g){case"start":l.textBaseline="top";break;case"center":l.textBaseline="middle";break;case"end":l.textBaseline="bottom";break}l.translate(.5,0),l.beginPath();var re=y?D:I,V=a*s,ie=Math.floor(r*a/V),Ke=Math.ceil((r*a+re)/V),be=Ke-ie,we=Math.max(["left","center","right"].indexOf(ee)-1,-1),k=y?I:D;if(ye!=="transparent"&&v[0]!==-1/0&&v[1]!==1/0){var xe=(v[0]-r)*a,Ee=(v[1]-v[0])*a;l.save(),l.fillStyle=ye,y?l.fillRect(xe,0,Ee,k):l.fillRect(0,xe,k,Ee),l.restore()}for(var R=0;R<=be;++R){var B=R+ie;if(!(!Ce&&B<0))for(var x=B*s,A=(x-r)*a,L=0;L<b;++L){var G=A+L/b*V,Pe=x+L/b*s;if(!(G<0||G>=re||Pe<v[0]||Pe>v[1])){var W=L===0?ne:L%2===0?We:Je,m=0;switch(g){case"start":m=0;break;case"center":m=k/2-W/2;break;case"end":m=k-W;break}var Oe=y?[G+w[0],m+w[1]]:[m+w[0],G+w[1]],oe=Oe[0],ae=Oe[1],Re=y?[oe,ae+W]:[oe+W,ae],Ze=Re[0],qe=Re[1];l.moveTo(oe+w[0],ae+w[1]),l.lineTo(Ze+w[0],qe+w[1])}}}l.stroke();for(var R=0;R<=be;++R){var B=R+ie;if(!(!Ce&&B<0)){var x=B*s,A=(x-r)*a;if(!(A<-V||A>=re+s*a||x<v[0]||x>v[1])){var m=0;switch(g){case"start":m=17;break;case"center":m=k/2;break;case"end":m=k-17;break}var Me=y?[A+we*-3,m]:[m,A+we*3],se=Me[0],ue=Me[1],J=""+x;_&&(J=_(x)),l.textAlign=ee;var z=0,K=l.measureText(J).width;switch(ee){case"left":z=0;break;case"center":z=-K/2;break;case"right":z=-K;break}y?(l.save(),l.fillStyle=p,l.fillRect(se+$[0]+z,0,K,ne),l.restore()):(l.save(),l.translate(0,ue+$[1]),l.rotate(-Math.PI/2),l.fillStyle=p,l.fillRect(z,0,K,ne),l.restore()),y?l.fillText(J,se+$[0],ue+$[1]):(l.save(),l.translate(se+$[0],ue+$[1]),l.rotate(-Math.PI/2),l.fillText(J,0,0),l.restore())}}}l.restore()},n.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent"},n}(He),Ht=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat"];const Ft=Ut;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pe=function(t,n){return pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},pe(t,n)};function Vt(t,n){pe(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var X=function(){return X=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},X.apply(this,arguments)};function Gt(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function Wt(t,n,e,r){var i=arguments.length,o=i<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,e):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(n,e,o):s(n,e))||o);return i>3&&o&&Object.defineProperty(n,e,o),o}var Jt=Ht,Kt=function(t){Vt(n,t);function n(r){var i=t.call(this,r)||this;return i.state={},i.state=i.props,i}var e=n.prototype;return e.render=function(){var r=this.state,i=r.parentElement,o=Gt(r,["parentElement"]);return zt(Y(Ft,X({ref:_e(this,"ruler")},o)),i)},n}(Ue),Zt=function(){function t(e,r){r===void 0&&(r={}),this.tempElement=document.createElement("div"),Le(Y(Kt,X({ref:_e(this,"innerRuler")},r,{parentElement:e})),this.tempElement)}var n=t.prototype;return n.scroll=function(e){this.getRuler().scroll(e)},n.resize=function(){this.getRuler().resize()},n.destroy=function(){Le(null,this.tempElement),this.tempElement=null,this.innerRuler=null},n.getRuler=function(){return this.innerRuler.ruler},t=Wt([ct(Jt,function(e,r){Object.defineProperty(e,r,{get:function(){return this.getRuler().props[r]},set:function(i){var o;this.innerRuler.setState((o={},o[r]=i,o))},enumerable:!0,configurable:!0})})],t),t}();const Fe=Zt,qt={name:"RulerHorizontal",mixins:[M],components:{},props:{scale:{type:Number},scroll:{type:Number}},data(){return{ruler:null}},computed:{...Te(Q,["isNightMode"])},methods:{initMounted(){let t=document.getElementsByClassName("roy-ruler-outer-box");t.length&&(this.ruler=new Fe(this.$refs.rulerDiv,{type:"horizontal",backgroundColor:window.getComputedStyle(t[0]).backgroundColor,textColor:window.getComputedStyle(t[0]).color,height:16,unit:1,zoom:50}))}},created(){},mounted(){this.initMounted()},watch:{isNightMode(){let t=document.getElementsByClassName("roy-ruler-outer-box");t.length&&(this.ruler.backgroundColor=window.getComputedStyle(t[0]).backgroundColor,this.ruler.textColor=window.getComputedStyle(t[0]).color)}}};var Qt=function(){var n=this,e=n._self._c;return e("div",{ref:"rulerDiv",staticClass:"roy-ruler"})},Xt=[],Yt=P(qt,Qt,Xt,!1,null,null,null,null);const en=Yt.exports,tn={name:"RulerHorizontal",mixins:[M],components:{},props:{scale:{type:Number},scroll:{type:Number}},data(){return{ruler:null}},computed:{...Te(Q,["isNightMode"])},methods:{initMounted(){let t=document.getElementsByClassName("roy-ruler-outer-box");t.length&&(this.ruler=new Fe(this.$refs.rulerDiv,{type:"vertical",backgroundColor:window.getComputedStyle(t[0]).backgroundColor,textColor:window.getComputedStyle(t[0]).color,width:16,unit:1,zoom:50}))}},created(){},mounted(){this.initMounted()},watch:{isNightMode(){let t=document.getElementsByClassName("roy-ruler-outer-box");t.length&&(this.ruler.backgroundColor=window.getComputedStyle(t[0]).backgroundColor,this.ruler.textColor=window.getComputedStyle(t[0]).color)}}};var nn=function(){var n=this,e=n._self._c;return e("div",{ref:"rulerDiv",staticClass:"roy-ruler"})},rn=[],on=P(tn,nn,rn,!1,null,null,null,null);const an=on.exports;const sn={name:"RoyRuler",mixins:[M],components:{RulerHorizontal:en,RulerVertical:an},props:{},data(){return{}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}};var un=function(){var n=this,e=n._self._c;return e("div",{staticClass:"roy-ruler-box"},[e("div",{staticClass:"roy-ruler-outer-box"}),e("div",{staticClass:"roy-ruler-horizontal-wrapper"},[e("RulerHorizontal")],1),e("div",{staticClass:"roy-ruler-vertical-wrapper"},[e("RulerVertical")],1),e("div",{staticClass:"roy-ruler-inner-box"},[e("div",{staticClass:"roy-ruler-inner-box-content"},[n._t("default")],2)])])},cn=[],ln=P(sn,un,cn,!1,null,null,null,null);const fn=ln.exports;const dn={name:"RoyEditor",mixins:[M],components:{Ruler:fn},props:{},data(){return{}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}};var vn=function(){var n=this,e=n._self._c;return e("el-main",{staticClass:"roy-designer-main__page"},[e("Ruler",[e("div",{attrs:{id:"designer-page"}},[e("div",[n._v("\u6D4B\u8BD5\u9875\u9762")])])])],1)},hn=[],pn=P(dn,vn,hn,!1,null,null,null,null);const _n=pn.exports,mn={name:"DesignerMain",mixins:[M],components:{ToolBar:ut,Editor:_n},props:{},data(){return{}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}};var gn=function(){var n=this,e=n._self._c;return e("section",{staticClass:"height-all"},[e("ToolBar"),e("Editor")],1)},yn=[],Cn=P(mn,gn,yn,!1,null,null,null,null);const bn=Cn.exports;const wn={name:"HomePage",components:{DesignerAside:rt,DesignerMain:bn},props:{},data(){return{isNightMode:!1}},methods:{initMounted(){this.initConfig()},initConfig(){const t=Q();t.initNightMode(),this.isNightMode=t.isNightMode},dayNightChange(){const t=Q();this.isNightMode=!this.isNightMode,t.toggleNightMode(this.isNightMode)},enterFullScreen(){}},created(){},mounted(){this.initMounted()},watch:{}};var xn=function(){var n=this,e=n._self._c;return e("el-container",{staticClass:"roy-designer-container"},[e("el-header",{staticClass:"roy-designer-header",attrs:{height:"40px"}},[e("div",{staticClass:"roy-designer-header__text"},[e("i",{staticClass:"ri-pen-nib-line"}),e("span",[n._v("\u6253\u5370\u6A21\u677F\u8BBE\u8BA1\u5668")])]),e("div",{staticClass:"roy-night-mode"},[e("transition-group",{attrs:{name:"roy-fade",tag:"span"}},[n.isNightMode?e("i",{key:1,staticClass:"ri-haze-fill",on:{click:n.dayNightChange}}):e("i",{key:2,staticClass:"ri-moon-foggy-fill",on:{click:n.dayNightChange}})])],1)]),e("el-container",{staticStyle:{height:"calc(100% - 40px)"}},[e("el-aside",{staticClass:"roy-designer-aside",attrs:{width:"300px"}},[e("DesignerAside")],1),e("el-main",{staticClass:"roy-designer-main"},[e("DesignerMain")],1)],1)],1)},En=[],Pn=P(wn,xn,En,!1,null,null,null,null);const On=Pn.exports,Mn=Object.freeze(Object.defineProperty({__proto__:null,default:On},Symbol.toStringTag,{value:"Module"}));export{Mn as H,M as c};
