!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}System.register(["./index-legacy.171c5214.js"],(function(e,r){"use strict";var o,i,a,s,c=document.createElement("style");return c.innerHTML='@charset "UTF-8";.roy-designer-aside__main{height:100%;width:100%;display:flex;background:var(--roy-bg-color-overlay)}.roy-designer-aside__main .roy-designer-aside__menu{height:100%}.roy-designer-aside__main .roy-designer-aside__menu .el-menu-item{overflow:hidden;padding:0}.roy-designer-aside__main .roy-designer-aside__menu .roy-designer-aside__menu__icon{display:grid;top:-7px;position:relative;align-items:center;vertical-align:center;align-content:center}.roy-designer-aside__main .roy-designer-aside__menu .roy-designer-aside__menu__icon i{padding:0;margin:0;font-size:20px}.roy-designer-aside__main .roy-designer-aside__menu .roy-designer-aside__menu__icon span{line-height:14px;visibility:visible;height:auto;width:auto;font-size:8px;top:-14px;position:relative}.roy-designer-aside__main .roy-designer-aside__right_panel{width:calc(100% - 64px);background:var(--roy-bg-color-overlay)}.roy-designer-main__toolbar{display:flex;justify-content:space-between;align-items:center}.roy-designer-main__toolbar .roy-designer-main__toolbar_left{display:flex;justify-content:start}.roy-designer-main__toolbar .roy-designer-main__toolbar_right{display:flex;justify-content:end}.roy-designer-main__toolbar .roy-designer-main__toolbar__item{cursor:pointer;background:var(--roy-bg-color);display:grid;width:18px;height:18px;font-size:10px;line-height:18px;box-shadow:rgba(99,99,99,.2) 0 2px 8px;padding:4px;text-align:center;border-radius:4px}.roy-designer-main__toolbar .roy-designer-main__toolbar__item+.roy-designer-main__toolbar__item{margin-left:5px}.roy-designer-main__toolbar .roy-designer-main__toolbar__item:hover{background:var(--roy-bg-color-page)}.roy-designer-main__toolbar .roy-designer-main__toolbar__item i{padding:0;margin:0;font-size:14px}.roy-ruler-box{width:100%;height:calc(100% - 4px);position:relative}.roy-ruler-box .roy-ruler-outer-box{position:absolute;top:0;left:0;width:16px;height:16px;background:var(--prism-background);box-sizing:border-box}.roy-ruler-box .roy-ruler-horizontal-wrapper{position:absolute;top:0;left:16px;width:calc(100% - 16px);height:16px;overflow:hidden}.roy-ruler-box .roy-ruler-vertical-wrapper{position:absolute;left:0;top:16px;width:16px;height:calc(100% - 16px)}.roy-ruler-box .roy-ruler-inner-box{position:absolute;left:16px;top:16px;width:calc(100% - 16px);height:calc(100% - 16px);overflow:auto}.roy-ruler-box .roy-ruler-inner-box .roy-ruler-inner-box-content{position:absolute;width:fit-content;overflow:auto;left:16px;top:16px;padding:8px}.roy-ruler-box .roy-ruler{width:100%;height:100%}.roy-designer-main__page{height:calc(100% - 50px);padding:0;margin:0;background-color:#fff;background-image:linear-gradient(45deg,rgb(247,247,247) 25%,transparent 25%),linear-gradient(-45deg,rgb(247,247,247) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgb(247,247,247) 75%),linear-gradient(-45deg,transparent 75%,rgb(247,247,247) 75%);background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0px}.roy-designer-main__page #designer-page{margin:auto;padding:15px;background:var(--roy-bg-color);box-shadow:rgba(0,0,0,.12) 0 1px 3px,rgba(0,0,0,.24) 0 1px 2px;width:262.5mm;height:371.25mm}body[theme=dark] .roy-designer-main__page{background-color:#1c1c1c;background-image:linear-gradient(45deg,#212121 25%,transparent 25%),linear-gradient(-45deg,#232323 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#232323 75%),linear-gradient(-45deg,transparent 75%,#232323 75%)}.roy-designer-container{background:var(--prism-background);width:100%;height:100%}.roy-designer-container .roy-designer-header{background:var(--roy-menu-bar-background);width:100%}.roy-designer-container .roy-designer-header .roy-designer-header__text{color:#fff;display:flex;height:100%;align-items:center}.roy-designer-container .roy-designer-header .toggleWrapper{position:absolute;top:8px;right:5px;overflow:hidden;padding:0 50px}.roy-designer-container .roy-designer-header .toggleWrapper input{position:absolute;left:-99em}.roy-designer-container .roy-designer-header .toggle{cursor:pointer;display:inline-block;position:relative;width:45px;height:25px;background-color:#83d8ff;border-radius:42px;transition:background-color .2s cubic-bezier(.445,.05,.55,.95)}.roy-designer-container .roy-designer-header .toggle:before{content:"\\65e5\\95f4";position:absolute;left:-35px;top:6px;font-size:12px;color:#fff}.roy-designer-container .roy-designer-header .toggle:after{content:"\\591c\\95f4";position:absolute;right:-35px;top:5px;font-size:12px;color:#749ed7}.roy-designer-container .roy-designer-header .toggle__handler{display:inline-block;position:relative;z-index:1;top:1px;left:0;width:22px;height:22px;background-color:#ffcf96;border-radius:25px;box-shadow:0 2px 6px rgba(0,0,0,.3);transition:all .4s cubic-bezier(.68,-.55,.265,1.55);transform:rotate(-45deg)}.roy-designer-container .roy-designer-header .toggle__handler .crater{position:absolute;background-color:#e8cda5;opacity:0;transition:opacity .2s ease-in-out;border-radius:100%}.roy-designer-container .roy-designer-header .toggle__handler .crater--1{top:10px;left:5px;width:2px;height:2px}.roy-designer-container .roy-designer-header .toggle__handler .crater--2{top:15px;left:11px;width:3px;height:3px}.roy-designer-container .roy-designer-header .toggle__handler .crater--3{top:5px;left:12px;width:4px;height:4px}.roy-designer-container .roy-designer-header .star{position:absolute;background-color:#fff;transition:all .3s cubic-bezier(.445,.05,.55,.95);border-radius:50%}.roy-designer-container .roy-designer-header .star--1{top:5px;left:18px;z-index:0;width:15px;height:2px}.roy-designer-container .roy-designer-header .star--2{top:9px;left:16px;z-index:1;width:15px;height:2px}.roy-designer-container .roy-designer-header .star--3{top:14px;left:24px;z-index:0;width:15px;height:2px}.roy-designer-container .roy-designer-header .star--4,.roy-designer-container .roy-designer-header .star--5,.roy-designer-container .roy-designer-header .star--6{opacity:0;transition:all .3s 0ms cubic-bezier(.445,.05,.55,.95)}.roy-designer-container .roy-designer-header .star--4{top:6px;left:6px;z-index:0;width:2px;height:2px;transform:translate3d(3px,0,0)}.roy-designer-container .roy-designer-header .star--5{top:16px;left:8px;z-index:0;width:3px;height:3px;transform:translate3d(3px,0,0)}.roy-designer-container .roy-designer-header .star--6{top:19px;left:13px;z-index:0;width:2px;height:2px;transform:translate3d(3px,0,0)}.roy-designer-container .roy-designer-header input:checked+.toggle{background-color:#749dd6}.roy-designer-container .roy-designer-header input:checked+.toggle:before{color:#749ed7}.roy-designer-container .roy-designer-header input:checked+.toggle:after{color:#fff}.roy-designer-container .roy-designer-header input:checked+.toggle .toggle__handler{background-color:#ffe5b5;transform:translate3d(22px,0,0) rotate(0)}.roy-designer-container .roy-designer-header input:checked+.toggle .toggle__handler .crater{opacity:1}.roy-designer-container .roy-designer-header input:checked+.toggle .star--1{width:2px;height:2px}.roy-designer-container .roy-designer-header input:checked+.toggle .star--2{width:4px;height:4px;transform:translate3d(-5px,0,0)}.roy-designer-container .roy-designer-header input:checked+.toggle .star--3{width:2px;height:2px;transform:translate3d(-7px,0,0)}.roy-designer-container .roy-designer-header input:checked+.toggle .star--4,.roy-designer-container .roy-designer-header input:checked+.toggle .star--5,.roy-designer-container .roy-designer-header input:checked+.toggle .star--6{opacity:1;transform:translateZ(0)}.roy-designer-container .roy-designer-header input:checked+.toggle .star--4{transition:all .3s .2s cubic-bezier(.445,.05,.55,.95)}.roy-designer-container .roy-designer-header input:checked+.toggle .star--5{transition:all .3s .3s cubic-bezier(.445,.05,.55,.95)}.roy-designer-container .roy-designer-header input:checked+.toggle .star--6{transition:all .3s .4s cubic-bezier(.445,.05,.55,.95)}.roy-designer-container .roy-designer-aside{margin:10px 5px 10px 10px}.roy-designer-container .roy-designer-main{width:60%;margin:5px;border-radius:2px;overflow:auto;padding:0}\n',document.head.appendChild(c),{setters:[function(e){o=e.d,i=e.n,a=e._,s=e.m}],execute:function(){var c=o({id:"nightMode",state:function(){return{isNightMode:!1}},getters:{getIsNightMode:function(e){return e.isNightMode}},actions:{toggleNightMode:function(e){this.isNightMode=e}}}),u=e("c",{methods:{deepCopy:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===e||"object"!==n(e))return e;var o=Object.prototype.toString.call(e).slice(8,-1);if("RegExp"===o)return new RegExp(e);if("Date"===o)return new Date(e);if("Error"===o)return new Error(e);var i=r.filter((function(t){return t.original===e}))[0];if(i)return i.copy;var a=Array.isArray(e)?[]:{};return r.push({original:e,copy:a}),Object.keys(e).forEach((function(n){a[n]=t.deepCopy(e[n],r)})),a},getUuid:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=[],r=0;r<36;r++)t[r]=e.substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="";var n=t.join("");return n},isBlank:function(e){return null==e||""===e},findParentComponent:function(e,t){for(var r=e.$parent;r;){if((r.$options.componentName||r.$options.name)===t)return r;r=r.$parent}return!1}}}),l=i({name:"DesignerAside",mixins:[u],data:function(){return{menuList:[{name:"组件",code:"component",icon:"ri-pencil-ruler-2-line",component:function(){return a((function(){return r.import("./PageComponent-legacy.7d8d7c72.js")}),void 0)}},{name:"区块",code:"blocks",icon:"ri-layout-5-line",component:function(){return a((function(){return r.import("./PageBlock-legacy.41e30fc1.js")}),void 0)}},{name:"页面",code:"page",icon:"ri-stack-line",component:function(){return a((function(){return r.import("./PageSetting-legacy.d1090277.js")}),void 0)}},{name:"大纲",code:"toc",icon:"ri-pages-line",component:function(){return a((function(){return r.import("./PageToc-legacy.1974b506.js")}),void 0)}},{name:"工具",code:"tools",icon:"ri-magic-line",component:function(){return a((function(){return r.import("./PageTools-legacy.24ad4660.js")}),void 0)}},{name:"全局",code:"setting",icon:"ri-sound-module-line",component:function(){return a((function(){return r.import("./GlobalSetting-legacy.a40cfc64.js")}),void 0)}}],curActiveComponent:null,curActiveComponentCode:""}},methods:{onMenuSelect:function(e){this.curActiveComponent=this.menuList[e].component,this.curActiveComponentCode=this.menuList[e].code}},mounted:function(){this.$message({message:"欢迎！本系统由ROYIANS设计",type:"success",duration:3e3}),this.curActiveComponent=this.menuList[0].component,this.curActiveComponentCode=this.menuList[0].code}},(function(){var e=this,t=e._self._c;return t("section",{staticClass:"roy-designer-aside__main"},[t("el-menu",{staticClass:"roy-designer-aside__menu",attrs:{collapse:!0,"default-active":"0"},on:{select:e.onMenuSelect}},e._l(e.menuList,(function(r,n){return t("el-menu-item",{key:r.code,attrs:{index:"".concat(n)}},[t("div",{staticClass:"roy-designer-aside__menu__icon"},[t("i",{class:r.icon}),t("span",[e._v(e._s(r.name))])])])})),1),t("keep-alive",[t(e.curActiveComponent,{key:e.curActiveComponentCode,tag:"component",staticClass:"roy-designer-aside__right_panel"})],1)],1)}),[],!1,null,null,null,null).exports,d=i({name:"ToolBar",mixins:[u],components:{},props:{},data:function(){return{toolbarLeftConfig:[{name:"撤销",icon:"ri-arrow-go-back-fill",event:function(){alert("撤销")}},{name:"恢复",icon:"ri-arrow-go-forward-fill",event:function(){}}],toolbarRightConfig:[{name:"预览",icon:"ri-eye-2-fill",event:function(){}},{name:"保存",icon:"ri-save-2-fill",event:function(){}}]}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this,t=e._self._c;return t("el-header",{staticClass:"roy-designer-main__toolbar",attrs:{height:"45px"}},[t("section",{staticClass:"roy-designer-main__toolbar_left"},e._l(e.toolbarLeftConfig,(function(e,r){return t("el-tooltip",{key:r,attrs:{content:e.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[t("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:e.event}},[t("i",{class:e.icon})])])})),1),t("section",{staticClass:"roy-designer-main__toolbar_right"},e._l(e.toolbarRightConfig,(function(e,r){return t("el-tooltip",{key:r,attrs:{content:e.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[t("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:e.event}},[t("i",{class:e.icon})])])})),1)])}),[],!1,null,null,null,null).exports;function p(e,t){return function(r){r&&(e[t]=r)}}var h=function(){function e(){this.keys=[],this.values=[]}var t=e.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,t){var r=this.keys,n=this.values,o=r.indexOf(e),i=-1===o?r.length:o;r[i]=e,n[i]=t},e}(),f=function(){function e(){this.object={}}var t=e.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,t){this.object[e]=t},e}(),g="function"==typeof Map,y=function(){function e(){}var t=e.prototype;return t.connect=function(e,t){this.prev=e,this.next=t,e&&(e.next=this),t&&(t.prev=this)},t.disconnect=function(){var e=this.prev,t=this.next;e&&(e.next=t),t&&(t.prev=e)},t.getIndex=function(){for(var e=this,t=-1;e;)e=e.prev,++t;return t},e}();var v=function(){function e(e,t,r,n,o,i,a,s){this.prevList=e,this.list=t,this.added=r,this.removed=n,this.changed=o,this.maintained=i,this.changedBeforeAdded=a,this.fixed=s}var t=e.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=function(e,t){var r=[],n=[];return e.forEach((function(e){var t=e[0],o=e[1],i=new y;r[t]=i,n[o]=i})),r.forEach((function(e,t){e.connect(r[t-1])})),e.filter((function(e,r){return!t[r]})).map((function(e,t){var o=e[0],i=e[1];if(o===i)return[0,0];var a=r[o],s=n[i-1],c=a.getIndex();return a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,r[0]),[c,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),t=this.changed,r=[];this.cacheOrdered=e.filter((function(e,n){var o=e[0],i=e[1],a=t[n],s=a[0],c=a[1];if(o!==i)return r.push([s,c]),!0})),this.cachePureChanged=r},e}();function m(e,t,r){var n=g?Map:r?f:h,o=r||function(e){return e},i=[],a=[],s=[],c=e.map(o),u=t.map(o),l=new n,d=new n,p=[],y=[],m={},b=[],_=0,x=0;return c.forEach((function(e,t){l.set(e,t)})),u.forEach((function(e,t){d.set(e,t)})),c.forEach((function(e,t){var r=d.get(e);void 0===r?(++x,a.push(t)):m[r]=x})),u.forEach((function(e,t){var r=l.get(e);void 0===r?(i.push(t),++_):(s.push([r,t]),x=m[t]||0,p.push([r-x,t-_]),y.push(t===r),r!==t&&b.push([r,t]))})),a.reverse(),new v(e,t,i,a,b,s,p,y)}var b={cm:function(e){return 96*e/2.54},mm:function(e){return 96*e/254},in:function(e){return 96*e},pt:function(e){return 96*e/72},pc:function(e){return 96*e/6},"%":function(e,t){return e*t/100},vw:function(e,t){return void 0===t&&(t=window.innerWidth),e/100*t},vh:function(e,t){return void 0===t&&(t=window.innerHeight),e/100*t},vmax:function(e,t){return void 0===t&&(t=Math.max(window.innerWidth,window.innerHeight)),e/100*t},vmin:function(e,t){return void 0===t&&(t=Math.min(window.innerWidth,window.innerHeight)),e/100*t}};function _(e){return"string"===n(e)}function x(e,t){return void 0===t&&(t="-"),e.replace(/([a-z])([A-Z])/g,(function(e,r,n){return""+r+t+n.toLowerCase()}))}function w(e,t){var r=function(e){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(e);if(!t)return{prefix:"",unit:"",value:NaN};var r=t[1],n=t[2];return{prefix:r,unit:t[3],value:parseFloat(n)}}(e),o=r.value,i=r.unit;if(function(e){return e&&"object"===n(e)}(t)){var a=t[i];if(a){if(function(e){return"function"===n(e)}(a))return a(o);if(b[i])return b[i](o,a)}}else if("%"===i)return o*t/100;return b[i]?b[i](o):o}
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation. All rights reserved.
      Licensed under the Apache License, Version 2.0 (the "License"); you may not use
      this file except in compliance with the License. You may obtain a copy of the
      License at http://www.apache.org/licenses/LICENSE-2.0

      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
      WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
      MERCHANTABLITY OR NON-INFRINGEMENT.

      See the Apache Version 2.0 License for specific language governing permissions
      and limitations under the License.
      ***************************************************************************** */var C=function(e,t){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},C(e,t)};function k(e,t){function r(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var O=function(){return O=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O.apply(this,arguments)};function P(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function E(e,t){if(e===t)return!1;for(var r in e)if(!(r in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function S(e,t){var r=Object.keys(e),n=Object.keys(t),o=m(r,n,(function(e){return e})),i={},a={},s={};return o.added.forEach((function(e){var r=n[e];i[r]=t[r]})),o.removed.forEach((function(t){var n=r[t];a[n]=e[n]})),o.maintained.forEach((function(n){var o=n[0],i=r[o],a=[e[i],t[i]];e[i]!==t[i]&&(s[i]=a)})),{added:i,removed:a,changed:s}}function j(e){e.forEach((function(e){e()}))}function z(e){var t=0;return e.map((function(e){return null==e?"$compat"+ ++t:""+e}))}function M(e,t,r,o){return _(e)||"number"===n(e)?new T("text_"+e,t,r,o,null,{}):new("string"==typeof e.type?B:e.type.prototype.render?V:W)(e.type,t,r,o,e.ref,e.props)}function R(e){var t=[];return e.forEach((function(e){var r;t=t.concat((r=e,Array.isArray(r)?R(e):e))})),t}function A(e){var t=e.className,r=P(e,["className"]);return null!=t&&(r.class=t),delete r.style,delete r.children,r}function N(e,t){if(!t)return e;for(var r in t)"undefined"===n(e[r])&&(e[r]=t[r]);return e}function L(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=t||{},i=o.key,a=o.ref,s=P(o,["key","ref"]);return{type:e,key:i,ref:a,props:O(O({},s),{children:R(r).filter((function(e){return null!=e&&!1!==e}))})}}var $=function(){function e(e,t,r,n,o,i){void 0===i&&(i={}),this.type=e,this.key=t,this.index=r,this.container=n,this.ref=o,this.props=i,this._providers=[]}var t=e.prototype;return t._should=function(e,t){return!0},t._update=function(e,t,r,n){if(this.base&&!_(t)&&!n&&!this._should(t.props,r))return!1;this.original=t,this._setState(r);var o=this.props;return _(t)||(this.props=t.props,this.ref=t.ref),this._render(e,this.base?o:{},r),!0},t._mounted=function(){var e=this.ref;e&&e(this.base)},t._setState=function(e){},t._updated=function(){var e=this.ref;e&&e(this.base)},t._destroy=function(){var e=this.ref;e&&e(null)},e}();function D(e){var t={},r={};for(var n in e)0===n.indexOf("on")?r[n.replace("on","").toLowerCase()]=e[n]:t[n]=e[n];return{attributes:t,events:r}}var T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}k(t,e);var r=t.prototype;return r._render=function(e){var t=this,r=!this.base;return r&&(this.base=document.createTextNode(this.type.replace("text_",""))),e.push((function(){r?t._mounted():t._updated()})),!0},r._unmount=function(){this.base.parentNode.removeChild(this.base)},t}($),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events={},t._isSVG=!1,t}k(t,e);var r=t.prototype;return r.addEventListener=function(e,t){var r=this.events;r[e]=function(e){e.nativeEvent=e,t(e)},this.base.addEventListener(e,r[e])},r.removeEventListener=function(e){var t=this.events;this.base.removeEventListener(e,t[e]),delete t[e]},r._should=function(e){return E(this.props,e)},r._render=function(e,t){var r=this,n=!this.base;if(n){var o=this._hasSVG();this._isSVG=o;var i=this.props.portalContainer;if(!i){var a=this.type;i=o?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}this.base=i}q(this,this._providers,this.props.children,e,null);var s=this.base,c=D(t),u=c.attributes,l=c.events,d=D(this.props),p=d.attributes,h=d.events;return function(e,t,r){var n=S(e,t),o=n.added,i=n.removed,a=n.changed;for(var s in o)r.setAttribute(s,o[s]);for(var s in a)r.setAttribute(s,a[s][1]);for(var s in i)r.removeAttribute(s)}(A(u),A(p),s),function(e,t,r){var n=S(e,t),o=n.added,i=n.removed,a=n.changed;for(var s in i)r.removeEventListener(s);for(var s in o)r.addEventListener(s,o[s]);for(var s in a)r.removeEventListener(s),r.addEventListener(s,a[s][1]);for(var s in i)r.removeEventListener(s)}(l,h,this),function(e,t,r){var n=r.style,o=S(e,t),i=o.added,a=o.removed,s=o.changed;for(var c in i){var u=x(c,"-");n.setProperty?n.setProperty(u,i[c]):n[u]=i[c]}for(var c in s)u=x(c,"-"),n.setProperty?n.setProperty(u,s[c][1]):n[u]=s[c][1];for(var c in a)u=x(c,"-"),n.removeProperty?n.removeProperty(u):n[u]=""}(t.style||{},this.props.style||{},s),e.push((function(){n?r._mounted():r._updated()})),!0},r._unmount=function(){var e=this.events,t=this.base;for(var r in e)t.removeEventListener(r,e[r]);this._providers.forEach((function(e){e._unmount()})),this.events={},this.props.portalContainer||t.parentNode.removeChild(t)},r._hasSVG=function(){if(this._isSVG||"svg"===this.type)return!0;var e=U(this.container);return e&&"ownerSVGElement"in e},t}($);function U(e){if(!e)return null;var t=e.base;return t instanceof Node?t:U(e.container)}function H(e){if(!e)return null;if(e instanceof Node)return e;var t=e.$_provider._providers;return t.length?H(t[0].base):null}var W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}k(t,e);var r=t.prototype;return r._render=function(e){var t=this.type(this.props);return q(this,this._providers,t?[t]:[],e),!0},r._unmount=function(){this._providers.forEach((function(e){e._unmount()}))},t}($),I=function(e){function t(t){var r=e.call(this,"container","container",0,null)||this;return r.base=t,r}k(t,e);var r=t.prototype;return r._render=function(){return!0},r._unmount=function(){},t}($),V=function(e){function t(t,r,n,o,i,a){return void 0===a&&(a={}),e.call(this,t,r,n,o,i,N(a,t.defaultProps))||this}k(t,e);var r=t.prototype;return r._should=function(e,t){return this.base.shouldComponentUpdate(N(e,this.type.defaultProps),t||this.base.state)},r._render=function(e,t){var r=this;this.props=N(this.props,this.type.defaultProps);var n=!this.base;n?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var o=this.base,i=o.state,a=o.render();a&&a.props&&!a.props.children.length&&(a.props.children=this.props.children),q(this,this._providers,a?[a]:[],e),e.push((function(){n?(r._mounted(),o.componentDidMount()):(r._updated(),o.componentDidUpdate(t,i))}))},r._setState=function(e){var t=this.base;t&&e&&(t.state=e)},r._unmount=function(){this._providers.forEach((function(e){e._unmount()})),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},t}($),G=function(){function e(e){void 0===e&&(e={}),this.props=e,this.state={},this.$_timer=0,this.$_state={}}var t=e.prototype;return t.shouldComponentUpdate=function(e,t){return!0},t.render=function(){return null},t.setState=function(e,t,r){var n=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=O(O({},this.$_state),e),r?this.$_setState(t,r):this.$_timer=setTimeout((function(){n.$_timer=0,n.$_setState(t,r)}))},t.forceUpdate=function(e){this.setState({},e,!0)},t.componentDidMount=function(){},t.componentDidUpdate=function(e,t){},t.componentWillUnmount=function(){},t.$_setState=function(e,t){var r=[],n=this.$_provider;q(n.container,[n],[n.original],r,O(O({},this.state),this.$_state),t)&&(e&&r.push(e),j(r))},e}(),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.shouldComponentUpdate=function(e,t){return E(this.props,e)||E(this.state,t)},t}(G),Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}k(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props,t=e.element,r=e.container;this._portalProvider=new I(r),J(t,r,this._portalProvider)},r.componentDidUpdate=function(){var e=this.props;J(e.element,e.container,this._portalProvider)},r.componentWillUnmount=function(){J(null,this.props.container,this._portalProvider),this._portalProvider=null},t}(F);function Y(e,t,r){var n=r.map((function(e){return _(e)?null:e.key})),o=m(z(t.map((function(e){return e.key}))),z(n),(function(e){return e}));o.removed.forEach((function(e){t.splice(e,1)[0]._unmount()})),o.ordered.forEach((function(e){var r=e[0],n=e[1],o=t.splice(r,1)[0];t.splice(n,0,o);var i=H(o.base),a=H(t[n+1]&&t[n+1].base);i&&i.parentNode.insertBefore(i,a)})),o.added.forEach((function(o){t.splice(o,0,M(r[o],n[o],o,e))}));var i=o.maintained.filter((function(o){o[0];var i=o[1],a=r[i],s=t[i];return(_(a)?"text_"+a:a.type)!==s.type?(s._unmount(),t.splice(i,1,M(a,n[i],i,e)),!0):(s.index=i,!1)}));return function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}(o.added,i.map((function(e){return e[0],e[1]})))}function q(e,t,r,n,o,i){var a=Y(e,t,r),s=t.filter((function(e,t){return e._update(n,r[t],o,i)})),c=U(e);return c&&a.reverse().forEach((function(r){var n=t[r],o=H(n.base);if(o&&c!==o&&!o.parentNode){var i=function(e,t){for(var r=e._providers,n=r.length,o=t.index+1;o<n;++o){var i=H(r[o].base);if(i)return i}return null}(e,n);c.insertBefore(o,i)}})),s.length>0}function J(e,t,r){void 0===r&&(r=t.__REACT_COMPAT__);var n=!!r;return r||(r=new I(t)),function(e,t,r){var n=[];q(e,e._providers,t,n,r),j(n)}(r,e?[e]:[]),n||(t.__REACT_COMPAT__=r),r}function K(e,t,r){var n=t.__REACT_COMPAT__;e&&!n&&(t.innerHTML=""),J(e,t,n),r&&r()}
/*! *****************************************************************************
      Copyright (c) Microsoft Corporation. All rights reserved.
      Licensed under the Apache License, Version 2.0 (the "License"); you may not use
      this file except in compliance with the License. You may obtain a copy of the
      License at http://www.apache.org/licenses/LICENSE-2.0

      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
      KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
      WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
      MERCHANTABLITY OR NON-INFRINGEMENT.

      See the Apache Version 2.0 License for specific language governing permissions
      and limitations under the License.
      ***************************************************************************** */var Q=function(e,t){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Q(e,t)};var X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t}!function(e,t){function r(){this.constructor=e}Q(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e);var r=t.prototype;return r.render=function(){return L("canvas",{ref:p(this,"canvasElement"),style:this.props.style})},r.componentDidMount=function(){var e=this.canvasElement.getContext("2d");this.canvasContext=e,this.resize()},r.componentDidUpdate=function(){this.resize()},r.scroll=function(e){this.draw(e)},r.resize=function(){var e=this.canvasElement,t=this.props,r=t.width,n=t.height,o=t.scrollPos;this.width=r||e.offsetWidth,this.height=n||e.offsetHeight,e.width=2*this.width,e.height=2*this.height,this.draw(o)},r.draw=function(e){void 0===e&&(e=this.state.scrollPos);var t=this.props,r=t,n=r.unit,o=r.zoom,i=r.type,a=r.backgroundColor,s=r.lineColor,c=r.textColor,u=r.textBackgroundColor,l=r.direction,d=r.negativeRuler,p=void 0===d||d,h=r.segment,f=void 0===h?10:h,g=r.textFormat,y=r.range,v=void 0===y?[-1/0,1/0]:y,m=r.rangeBackgroundColor,b=this.width,_=this.height;this.state.scrollPos=e;var x=this.canvasContext,C="horizontal"===i,k=!1!==p,O=t.font||"10px sans-serif",P=t.textAlign||"left",E=t.textOffset||[0,0],S=C?_:b,j=w(""+(t.mainLineSize||"100%"),S),z=w(""+(t.longLineSize||10),S),M=w(""+(t.shortLineSize||7),S),R=t.lineOffset||[0,0];switch("transparent"===a?x.clearRect(0,0,2*b,2*_):(x.rect(0,0,2*b,2*_),x.fillStyle=a,x.fill()),x.save(),x.scale(2,2),x.strokeStyle=s,x.lineWidth=1,x.font=O,x.fillStyle=c,l){case"start":x.textBaseline="top";break;case"center":x.textBaseline="middle";break;case"end":x.textBaseline="bottom"}x.translate(.5,0),x.beginPath();var A=C?b:_,N=o*n,L=Math.floor(e*o/N),$=Math.ceil((e*o+A)/N)-L,D=Math.max(["left","center","right"].indexOf(P)-1,-1),T=C?_:b;if("transparent"!==m&&v[0]!==-1/0&&v[1]!==1/0){var B=(v[0]-e)*o,U=(v[1]-v[0])*o;x.save(),x.fillStyle=m,C?x.fillRect(B,0,U,T):x.fillRect(0,B,T,U),x.restore()}for(var H=0;H<=$;++H){var W=H+L;if(k||!(W<0))for(var I=((te=W*n)-e)*o,V=0;V<f;++V){var G=I+V/f*N,F=te+V/f*n;if(!(G<0||G>=A||F<v[0]||F>v[1])){var Z=0===V?j:V%2==0?z:M,Y=0;switch(l){case"start":Y=0;break;case"center":Y=T/2-Z/2;break;case"end":Y=T-Z}var q=C?[G+R[0],Y+R[1]]:[Y+R[0],G+R[1]],J=q[0],K=q[1],Q=C?[J,K+Z]:[J+Z,K],X=Q[0],ee=Q[1];x.moveTo(J+R[0],K+R[1]),x.lineTo(X+R[0],ee+R[1])}}}x.stroke();for(H=0;H<=$;++H){var te;W=H+L;if(k||!(W<0))if(!((I=((te=W*n)-e)*o)<-N||I>=A+n*o||te<v[0]||te>v[1])){Y=0;switch(l){case"start":Y=17;break;case"center":Y=T/2;break;case"end":Y=T-17}var re=C?[I+-3*D,Y]:[Y,I+3*D],ne=re[0],oe=re[1],ie=""+te;g&&(ie=g(te)),x.textAlign=P;var ae=0,se=x.measureText(ie).width;switch(P){case"left":ae=0;break;case"center":ae=-se/2;break;case"right":ae=-se}C?(x.save(),x.fillStyle=u,x.fillRect(ne+E[0]+ae,0,se,j),x.restore()):(x.save(),x.translate(0,oe+E[1]),x.rotate(-Math.PI/2),x.fillStyle=u,x.fillRect(ae,0,se,j),x.restore()),C?x.fillText(ie,ne+E[0],oe+E[1]):(x.save(),x.translate(ne+E[0],oe+E[1]),x.rotate(-Math.PI/2),x.fillText(ie,0,0),x.restore())}}x.restore()},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent"},t}(F),ee=X,te=function(e,t){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},te(e,t)};var re=function(){return re=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},re.apply(this,arguments)};var ne=["type","width","height","unit","zoom","direction","textAlign","font","segment","mainLineSize","longLineSize","shortLineSize","lineOffset","textOffset","negativeRuler","range","scrollPos","style","backgroundColor","rangeBackgroundColor","lineColor","textColor","textBackgroundColor","textFormat"],oe=function(e){function t(t){var r=e.call(this,t)||this;return r.state={},r.state=r.props,r}return function(e,t){function r(){this.constructor=e}te(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.render=function(){var e,t=this.state,r=t.parentElement,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(t,["parentElement"]);return e=L(ee,re({ref:p(this,"ruler")},n)),L(Z,{element:e,container:r})},t}(G),ie=function(){function e(e,t){void 0===t&&(t={}),this.tempElement=document.createElement("div"),K(L(oe,re({ref:p(this,"innerRuler")},t,{parentElement:e})),this.tempElement)}var t,r,o=e.prototype;return o.scroll=function(e){this.getRuler().scroll(e)},o.resize=function(){this.getRuler().resize()},o.destroy=function(){K(null,this.tempElement),this.tempElement=null,this.innerRuler=null},o.getRuler=function(){return this.innerRuler.ruler},e=function(e,t,r,o){var i,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===("undefined"==typeof Reflect?"undefined":n(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s}([(t=ne,r=function(e,t){Object.defineProperty(e,t,{get:function(){return this.getRuler().props[t]},set:function(e){var r;this.innerRuler.setState(((r={})[t]=e,r))},enumerable:!0,configurable:!0})},function(e){var n=e.prototype;t.forEach((function(e){r(n,e)}))})],e),e}(),ae=ie,se={name:"RulerHorizontal",mixins:[u],components:{},props:{scale:{type:Number},scroll:{type:Number}},data:function(){return{ruler:null}},computed:t({},s(c,["isNightMode"])),methods:{initMounted:function(){var e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler=new ae(this.$refs.rulerDiv,{type:"horizontal",backgroundColor:window.getComputedStyle(e[0]).backgroundColor,textColor:window.getComputedStyle(e[0]).color,height:16,unit:1,zoom:50}))}},created:function(){},mounted:function(){this.initMounted()},watch:{isNightMode:function(){var e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler.backgroundColor=window.getComputedStyle(e[0]).backgroundColor,this.ruler.textColor=window.getComputedStyle(e[0]).color)}}},ce=i(se,(function(){return(0,this._self._c)("div",{ref:"rulerDiv",staticClass:"roy-ruler"})}),[],!1,null,null,null,null).exports,ue={name:"RulerHorizontal",mixins:[u],components:{},props:{scale:{type:Number},scroll:{type:Number}},data:function(){return{ruler:null}},computed:t({},s(c,["isNightMode"])),methods:{initMounted:function(){var e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler=new ae(this.$refs.rulerDiv,{type:"vertical",backgroundColor:window.getComputedStyle(e[0]).backgroundColor,textColor:window.getComputedStyle(e[0]).color,width:16,unit:1,zoom:50}))}},created:function(){},mounted:function(){this.initMounted()},watch:{isNightMode:function(){var e=document.getElementsByClassName("roy-ruler-outer-box");e.length&&(this.ruler.backgroundColor=window.getComputedStyle(e[0]).backgroundColor,this.ruler.textColor=window.getComputedStyle(e[0]).color)}}},le=i(ue,(function(){return(0,this._self._c)("div",{ref:"rulerDiv",staticClass:"roy-ruler"})}),[],!1,null,null,null,null).exports,de=i({name:"RoyRuler",mixins:[u],components:{RulerHorizontal:ce,RulerVertical:le},props:{},data:function(){return{}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this._self._c;return e("div",{staticClass:"roy-ruler-box"},[e("div",{staticClass:"roy-ruler-outer-box"}),e("div",{staticClass:"roy-ruler-horizontal-wrapper"},[e("RulerHorizontal")],1),e("div",{staticClass:"roy-ruler-vertical-wrapper"},[e("RulerVertical")],1),e("div",{staticClass:"roy-ruler-inner-box"},[e("div",{staticClass:"roy-ruler-inner-box-content"},[this._t("default")],2)])])}),[],!1,null,null,null,null).exports,pe=i({name:"RoyEditor",mixins:[u],components:{Ruler:de},props:{},data:function(){return{}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this._self._c;return e("el-main",{staticClass:"roy-designer-main__page"},[e("Ruler",[e("div",{attrs:{id:"designer-page"}},[e("div",[this._v("测试页面")])])])],1)}),[],!1,null,null,null,null).exports,he=i({name:"DesignerMain",mixins:[u],components:{ToolBar:d,Editor:pe},props:{},data:function(){return{}},methods:{initMounted:function(){}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this._self._c;return e("section",{staticClass:"height-all"},[e("ToolBar"),e("Editor")],1)}),[],!1,null,null,null,null).exports,fe=i({name:"HomePage",components:{DesignerAside:l,DesignerMain:he},props:{},data:function(){return{}},methods:{initMounted:function(){},dayNightChange:function(e){var t=c(),r=e.target.checked;document.body.setAttribute("theme",r?"dark":"day"),t.toggleNightMode(r)}},created:function(){},mounted:function(){this.initMounted()},watch:{}},(function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"roy-designer-container"},[t("el-header",{staticClass:"roy-designer-header",attrs:{height:"40px"}},[t("div",{staticClass:"roy-designer-header__text"},[t("i",{staticClass:"ri-pen-nib-line"}),t("span",[e._v("打印模板设计器")])]),t("div",{staticClass:"toggleWrapper"},[t("input",{staticClass:"dn",attrs:{type:"checkbox",id:"dn"},on:{change:e.dayNightChange}}),t("label",{staticClass:"toggle",attrs:{for:"dn"}},[t("span",{staticClass:"toggle__handler"},[t("span",{staticClass:"crater crater--1"}),t("span",{staticClass:"crater crater--2"}),t("span",{staticClass:"crater crater--3"})]),t("span",{staticClass:"star star--1"}),t("span",{staticClass:"star star--2"}),t("span",{staticClass:"star star--3"}),t("span",{staticClass:"star star--4"}),t("span",{staticClass:"star star--5"}),t("span",{staticClass:"star star--6"})])])]),t("el-container",{staticStyle:{height:"calc(100% - 40px)"}},[t("el-aside",{staticClass:"roy-designer-aside",attrs:{width:"300px"}},[t("DesignerAside")],1),t("el-main",{staticClass:"roy-designer-main"},[t("DesignerMain")],1)],1)],1)}),[],!1,null,null,null,null).exports,ge=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"}));e("H",ge)}}}))}();
