(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["print-template-designer"]=t():e["print-template-designer"]=t()})("undefined"!==typeof self?self:this,(function(){return function(){var e={1001:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:l}}n.d(t,{Z:function(){return r}})},9662:function(e,t,n){var r=n(614),o=n(6330),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},9670:function(e,t,n){var r=n(111),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not an object")}},1318:function(e,t,n){var r=n(5656),o=n(1400),i=n(6244),a=function(e){return function(t,n,a){var s,c=r(t),l=i(c),u=o(a,l);if(e&&n!=n){while(l>u)if(s=c[u++],s!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3658:function(e,t,n){"use strict";var r=n(9781),o=n(3157),i=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!a(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4326:function(e,t,n){var r=n(84),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},9920:function(e,t,n){var r=n(2597),o=n(3887),i=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=o(t),c=a.f,l=i.f,u=0;u<s.length;u++){var h=s[u];r(e,h)||n&&r(n,h)||c(e,h,l(t,h))}}},8880:function(e,t,n){var r=n(9781),o=n(3070),i=n(9114);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:function(e,t,n){var r=n(614),o=n(3070),i=n(6339),a=n(3072);e.exports=function(e,t,n,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(r(n)&&i(n,l,s),s.global)c?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(u){}c?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3072:function(e,t,n){var r=n(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},5117:function(e,t,n){"use strict";var r=n(6330),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+r(t)+" of "+r(e))}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,n="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},317:function(e,t,n){var r=n(7854),o=n(111),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},7207:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,o,i=n(7854),a=n(8113),s=i.process,c=i.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(r=u.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var r=n(7854),o=n(1236).f,i=n(8880),a=n(8052),s=n(3072),c=n(9920),l=n(4705);e.exports=function(e,t){var n,u,h,f,d,p,g=e.target,v=e.global,m=e.stat;if(u=v?r:m?r[g]||s(g,{}):(r[g]||{}).prototype,u)for(h in t){if(d=t[h],e.dontCallGetSet?(p=o(u,h),f=p&&p.value):f=u[h],n=l(v?h:g+(m?".":"#")+h,e.forced),!n&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(u,h,d,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var r=n(4374),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(e,t,n){var r=n(9781),o=n(2597),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,l=s&&(!r||r&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},84:function(e,t,n){var r=n(4374),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);e.exports=function(e){return r?a(e):function(){return i.apply(e,arguments)}}},1702:function(e,t,n){var r=n(4326),o=n(84);e.exports=function(e){if("Function"===r(e))return o(e)}},5005:function(e,t,n){var r=n(7854),o=n(614),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},8173:function(e,t,n){var r=n(9662),o=n(8554);e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var r=n(1702),o=n(7908),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},3501:function(e){e.exports={}},4664:function(e,t,n){var r=n(9781),o=n(7293),i=n(317);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var r=n(1702),o=n(7293),i=n(4326),a=Object,s=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},2788:function(e,t,n){var r=n(1702),o=n(614),i=n(5465),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},9909:function(e,t,n){var r,o,i,a=n(4811),s=n(7854),c=n(111),l=n(8880),u=n(2597),h=n(5465),f=n(6200),d=n(3501),p="Object already initialized",g=s.TypeError,v=s.WeakMap,m=function(e){return i(e)?o(e):r(e,{})},b=function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(a||h.state){var y=h.state||(h.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,r=function(e,t){if(y.has(e))throw g(p);return t.facade=e,y.set(e,t),t},o=function(e){return y.get(e)||{}},i=function(e){return y.has(e)}}else{var w=f("state");d[w]=!0,r=function(e,t){if(u(e,w))throw g(p);return t.facade=e,l(e,w,t),t},o=function(e){return u(e,w)?e[w]:{}},i=function(e){return u(e,w)}}e.exports={set:r,get:o,has:i,enforce:m,getterFor:b}},3157:function(e,t,n){var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},614:function(e,t,n){var r=n(4154),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},4705:function(e,t,n){var r=n(7293),o=n(614),i=/#|\.prototype\./,a=function(e,t){var n=c[s(e)];return n==u||n!=l&&(o(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},8554:function(e){e.exports=function(e){return null===e||void 0===e}},111:function(e,t,n){var r=n(614),o=n(4154),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===i}:function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var r=n(5005),o=n(614),i=n(7976),a=n(3307),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,s(e))}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},6339:function(e,t,n){var r=n(7293),o=n(614),i=n(2597),a=n(9781),s=n(6530).CONFIGURABLE,c=n(2788),l=n(9909),u=l.enforce,h=l.get,f=Object.defineProperty,d=a&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||s&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),d&&n&&i(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=u(e);return i(r,"source")||(r.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return o(this)&&h(this).source||c(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},3070:function(e,t,n){var r=n(9781),o=n(4664),i=n(3353),a=n(9670),s=n(4948),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",d="writable";t.f=r?i?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&d in n&&!n[d]){var r=u(e,t);r&&r[d]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:h in n?n[h]:r[h],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(a(e),t=s(t),a(n),o)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),o=n(6916),i=n(5296),a=n(9114),s=n(5656),c=n(4948),l=n(2597),u=n(4664),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=s(e),t=c(t),u)try{return h(e,t)}catch(n){}if(l(e,t))return a(!o(i.f,e,t),e[t])}},8006:function(e,t,n){var r=n(6324),o=n(748),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),o=n(2597),i=n(5656),a=n(1318).indexOf,s=n(3501),c=r([].push);e.exports=function(e,t){var n,r=i(e),l=0,u=[];for(n in r)!o(s,n)&&o(r,n)&&c(u,n);while(t.length>l)o(r,n=t[l++])&&(~a(u,n)||c(u,n));return u}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},2140:function(e,t,n){var r=n(6916),o=n(614),i=n(111),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&o(n=e.toString)&&!i(s=r(n,e)))return s;if(o(n=e.valueOf)&&!i(s=r(n,e)))return s;if("string"!==t&&o(n=e.toString)&&!i(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),o=n(1702),i=n(8006),a=n(5181),s=n(9670),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=a.f;return n?c(t,n(e)):t}},4488:function(e,t,n){var r=n(8554),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},6200:function(e,t,n){var r=n(2309),o=n(9711),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5465:function(e,t,n){var r=n(7854),o=n(3072),i="__core-js_shared__",a=r[i]||o(i,{});e.exports=a},2309:function(e,t,n){var r=n(1913),o=n(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.5",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(e,t,n){var r=n(7392),o=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1400:function(e,t,n){var r=n(9303),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},5656:function(e,t,n){var r=n(8361),o=n(4488);e.exports=function(e){return r(o(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488),o=Object;e.exports=function(e){return o(r(e))}},7593:function(e,t,n){var r=n(6916),o=n(111),i=n(2190),a=n(8173),s=n(2140),c=n(5112),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,c=a(e,u);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!o(n)||i(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:function(e,t,n){var r=n(7593),o=n(2190);e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var r=n(1702),o=0,i=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},3307:function(e,t,n){var r=n(6293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),o=n(7293);e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(e,t,n){var r=n(7854),o=n(614),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},5112:function(e,t,n){var r=n(7854),o=n(2309),i=n(2597),a=n(9711),s=n(6293),c=n(3307),l=o("wks"),u=r.Symbol,h=u&&u["for"],f=c?u:u&&u.withoutSetter||a;e.exports=function(e){if(!i(l,e)||!s&&"string"!=typeof l[e]){var t="Symbol."+e;s&&i(u,e)?l[e]=u[e]:l[e]=c&&h?h(t):f(t)}return l[e]}},7658:function(e,t,n){"use strict";var r=n(2109),o=n(7908),i=n(6244),a=n(3658),s=n(7207),c=n(7293),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:l||u},{push:function(e){var t=o(this),n=i(t),r=arguments.length;s(n+r);for(var c=0;c<r;c++)t[n]=arguments[c],n++;return a(t,n),n}})},541:function(e,t,n){"use strict";var r=n(2109),o=n(7908),i=n(6244),a=n(3658),s=n(5117),c=n(7207),l=1!==[].unshift(0),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:l||u},{unshift:function(e){var t=o(this),n=i(t),r=arguments.length;if(r){c(n+r);var l=n;while(l--){var u=l+r;l in t?t[u]=t[l]:s(t,u)}for(var h=0;h<r;h++)t[h]=arguments[h]}return a(t,n+r)}})},4580:function(e){"use strict";function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)}var n=["attrs","props","domProps"],r=["class","style","directives"],o=["on","nativeOn"],i=function(e){return e.reduce((function(e,i){for(var s in i)if(e[s])if(-1!==n.indexOf(s))e[s]=t({},e[s],i[s]);else if(-1!==r.indexOf(s)){var c=e[s]instanceof Array?e[s]:[e[s]],l=i[s]instanceof Array?i[s]:[i[s]];e[s]=[].concat(c,l)}else if(-1!==o.indexOf(s))for(var u in i[s])if(e[s][u]){var h=e[s][u]instanceof Array?e[s][u]:[e[s][u]],f=i[s][u]instanceof Array?i[s][u]:[i[s][u]];e[s][u]=[].concat(h,f)}else e[s][u]=i[s][u];else if("hook"===s)for(var d in i[s])e[s][d]=e[s][d]?a(e[s][d],i[s][d]):i[s][d];else e[s]=i[s];else e[s]=i[s];return e}),{})},a=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=i},1464:function(e,t,n){"use strict";n(7658);t["Z"]={methods:{deepCopy(e,t=[]){if(null===e||"object"!==typeof e)return e;const n=Object.prototype.toString.call(e).slice(8,-1);if("RegExp"===n)return new RegExp(e);if("Date"===n)return new Date(e);if("Error"===n)return new Error(e);const r=t.filter((t=>t.original===e))[0];if(r)return r.copy;const o=Array.isArray(e)?[]:{};return t.push({original:e,copy:o}),Object.keys(e).forEach((n=>{o[n]=this.deepCopy(e[n],t)})),o},getUuid(e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"){let t=[];for(let r=0;r<36;r++)t[r]=e.substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="";let n=t.join("");return n},isBlank(e){return void 0===e||null===e||""===e},findParentComponent(e,t){let n=e.$parent;while(n){let e=n.$options.componentName||n.$options.name;if(e===t)return n;n=n.$parent}return!1}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"print-template-designer.umd.min."+e+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{39:"a661d656",213:"d5ae6d3d",558:"40f4d8e9",604:"2035dd56",660:"a62e8ba0",716:"56b155e9"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="print-template-designer:";n.l=function(r,o,i,a){if(e[r])e[r].push(o);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var h=l[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+i){s=h;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e=function(e,t,n,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=function(i){if(o.onerror=o.onload=null,"load"===i.type)n();else{var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,o.parentNode.removeChild(o),r(c)}};return o.onerror=o.onload=i,o.href=t,document.head.appendChild(o),o},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){o=a[r],i=o.getAttribute("data-href");if(i===e||i===t)return o}},r=function(r){return new Promise((function(o,i){var a=n.miniCssF(r),s=n.p+a;if(t(a,s))return o();e(r,s,o,i)}))},o={21:0};n.f.miniCss=function(e,t){var n={39:1,213:1,558:1,604:1,660:1,716:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}(),function(){var e={21:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error,c=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}};n.l(a,c,"chunk-"+t,t)}};var t=function(t,r){var o,i,a=r[0],s=r[1],c=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)c(n)}for(t&&t(r);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=("undefined"!==typeof self?self:this)["webpackChunkprint_template_designer"]=("undefined"!==typeof self?self:this)["webpackChunkprint_template_designer"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r={};return function(){"use strict";if(n.r(r),n.d(r,{default:function(){return kn}}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(n.p=t[1])}var o=function(){var e=this,t=e._self._c;return t("el-container",{staticClass:"roy-designer-container",attrs:{id:"roy-print-template-designer",theme:"day"}},[t("el-header",{staticClass:"roy-designer-header",attrs:{height:"40px"}},[t("div",{staticClass:"roy-designer-header__text"},[t("i",{staticClass:"ri-pen-nib-line"}),t("span",[e._v("打印模板设计器")])]),t("div",{staticClass:"roy-night-mode"},[t("transition-group",{attrs:{name:"roy-fade",tag:"span"}},[e.isNightMode?t("i",{key:1,staticClass:"ri-haze-fill",on:{click:e.dayNightChange}}):t("i",{key:2,staticClass:"ri-moon-foggy-fill",on:{click:e.dayNightChange}})])],1)]),t("el-container",{staticStyle:{height:"calc(100% - 40px)"}},[t("el-aside",{staticClass:"roy-designer-aside",attrs:{width:"auto"}},[t("DesignerAside")],1),t("el-main",{staticClass:"roy-designer-main"},[t("DesignerMain")],1)],1)],1)},i=[],a={i8:"0.0.6"};n(7658),n(541);
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function s(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:r});else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[r].concat(e.init):r,n.call(this,e)}}function r(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}var c="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{},l=c.__VUE_DEVTOOLS_GLOBAL_HOOK__;function u(e){l&&(e._devtoolHook=l,l.emit("vuex:init",e),l.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){l.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){l.emit("vuex:action",e,t)}),{prepend:!0}))}function h(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function f(e){return null!==e&&"object"===typeof e}function d(e){return e&&"function"===typeof e.then}function p(e,t){return function(){return e(t)}}var g=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},v={namespaced:{configurable:!0}};v.namespaced.get=function(){return!!this._rawModule.namespaced},g.prototype.addChild=function(e,t){this._children[e]=t},g.prototype.removeChild=function(e){delete this._children[e]},g.prototype.getChild=function(e){return this._children[e]},g.prototype.hasChild=function(e){return e in this._children},g.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},g.prototype.forEachChild=function(e){h(this._children,e)},g.prototype.forEachGetter=function(e){this._rawModule.getters&&h(this._rawModule.getters,e)},g.prototype.forEachAction=function(e){this._rawModule.actions&&h(this._rawModule.actions,e)},g.prototype.forEachMutation=function(e){this._rawModule.mutations&&h(this._rawModule.mutations,e)},Object.defineProperties(g.prototype,v);var m=function(e){this.register([],e,!1)};function b(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;b(e.concat(r),t.getChild(r),n.modules[r])}}m.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},m.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},m.prototype.update=function(e){b([],this.root,e)},m.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var o=new g(t,n);if(0===e.length)this.root=o;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],o)}t.modules&&h(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},m.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},m.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var y;var w=function(e){var t=this;void 0===e&&(e={}),!y&&"undefined"!==typeof window&&window.Vue&&N(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new m(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new y,this._makeLocalGettersCache=Object.create(null);var o=this,i=this,a=i.dispatch,s=i.commit;this.dispatch=function(e,t){return a.call(o,e,t)},this.commit=function(e,t,n){return s.call(o,e,t,n)},this.strict=r;var c=this._modules.root.state;_(this,c,[],this._modules.root),k(this,c),n.forEach((function(e){return e(t)}));var l=void 0!==e.devtools?e.devtools:y.config.devtools;l&&u(this)},C={state:{configurable:!0}};function x(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function S(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;_(e,n,[],e._modules.root,!0),k(e,n,t)}function k(e,t,n){var r=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,i={};h(o,(function(t,n){i[n]=p(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var a=y.config.silent;y.config.silent=!0,e._vm=new y({data:{$$state:t},computed:i}),y.config.silent=a,e.strict&&R(e),r&&(n&&e._withCommit((function(){r._data.$$state=null})),y.nextTick((function(){return r.$destroy()})))}function _(e,t,n,r,o){var i=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!i&&!o){var s=$(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){y.set(s,c,r.state)}))}var l=r.context=A(e,a,n);r.forEachMutation((function(t,n){var r=a+n;M(e,r,t,l)})),r.forEachAction((function(t,n){var r=t.root?n:a+n,o=t.handler||t;j(e,r,o,l)})),r.forEachGetter((function(t,n){var r=a+n;L(e,r,t,l)})),r.forEachChild((function(r,i){_(e,t,n.concat(i),r,o)}))}function A(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=E(n,r,o),a=i.payload,s=i.options,c=i.type;return s&&s.root||(c=t+c),e.dispatch(c,a)},commit:r?e.commit:function(n,r,o){var i=E(n,r,o),a=i.payload,s=i.options,c=i.type;s&&s.root||(c=t+c),e.commit(c,a,s)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return O(e,t)}},state:{get:function(){return $(e.state,n)}}}),o}function O(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function M(e,t,n,r){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){n.call(e,r.state,t)}))}function j(e,t,n,r){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return d(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}function L(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function R(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function $(e,t){return t.reduce((function(e,t){return e[t]}),e)}function E(e,t,n){return f(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function N(e){y&&e===y||(y=e,s(y))}C.state.get=function(){return this._vm._data.$$state},C.state.set=function(e){0},w.prototype.commit=function(e,t,n){var r=this,o=E(e,t,n),i=o.type,a=o.payload,s=(o.options,{type:i,payload:a}),c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,r.state)})))},w.prototype.dispatch=function(e,t){var n=this,r=E(e,t),o=r.type,i=r.payload,a={type:o,payload:i},s=this._actions[o];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(l){0}var c=s.length>1?Promise.all(s.map((function(e){return e(i)}))):s[0](i);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(l){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,n.state,e)}))}catch(l){0}t(e)}))}))}},w.prototype.subscribe=function(e,t){return x(e,this._subscribers,t)},w.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return x(n,this._actionSubscribers,t)},w.prototype.watch=function(e,t,n){var r=this;return this._watcherVM.$watch((function(){return e(r.state,r.getters)}),t,n)},w.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},w.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),_(this,this.state,e,this._modules.get(e),n.preserveState),k(this,this.state)},w.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=$(t.state,e.slice(0,-1));y.delete(n,e[e.length-1])})),S(this)},w.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},w.prototype.hotUpdate=function(e){this._modules.update(e),S(this,!0)},w.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(w.prototype,C);I((function(e,t){var n={};return T(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=F(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof o?o.call(this,t,n):t[o]},n[r].vuex=!0})),n})),I((function(e,t){var n={};return T(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var i=F(this.$store,"mapMutations",e);if(!i)return;r=i.context.commit}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n})),I((function(e,t){var n={};return T(t).forEach((function(t){var r=t.key,o=t.val;o=e+o,n[r]=function(){if(!e||F(this.$store,"mapGetters",e))return this.$store.getters[o]},n[r].vuex=!0})),n}));var P=I((function(e,t){var n={};return T(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var i=F(this.$store,"mapActions",e);if(!i)return;r=i.context.dispatch}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n}));function T(e){return D(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function D(e){return Array.isArray(e)||f(e)}function I(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function F(e,t,n){var r=e._modulesNamespaceMap[n];return r}var B=function(){var e=this,t=e._self._c;return t("section",{staticClass:"roy-designer-aside__main",style:e.asideStyle},[t("el-menu",{staticClass:"roy-designer-aside__menu",attrs:{collapse:!0,"default-active":"0"},on:{select:e.onMenuSelect}},e._l(e.menuList,(function(n,r){return t("el-menu-item",{key:n.code,attrs:{index:`${r}`}},[t("div",{staticClass:"roy-designer-aside__menu__icon"},[t("i",{class:n.icon}),t("span",[e._v(e._s(n.name))])])])})),1),t("keep-alive",[t(e.curActiveComponent,{directives:[{name:"show",rawName:"v-show",value:e.showRight,expression:"showRight"}],key:e.curActiveComponentCode,tag:"component",staticClass:"roy-designer-aside__right_panel"})],1)],1)},G=[],z=n(1464),H={name:"DesignerAside",mixins:[z.Z],data(){return{showRight:!0,menuList:[{name:"组件",code:"component",icon:"ri-pencil-ruler-2-line",component:()=>n.e(558).then(n.bind(n,9558))},{name:"区块",code:"blocks",icon:"ri-layout-5-line",component:()=>n.e(604).then(n.bind(n,3604))},{name:"页面",code:"page",icon:"ri-stack-line",component:()=>Promise.all([n.e(447),n.e(660)]).then(n.bind(n,2660))},{name:"大纲",code:"toc",icon:"ri-pages-line",component:()=>n.e(213).then(n.bind(n,2213))},{name:"工具",code:"tools",icon:"ri-magic-line",component:()=>n.e(39).then(n.bind(n,7039))},{name:"全局",code:"setting",icon:"ri-sound-module-line",component:()=>n.e(716).then(n.bind(n,7716))}],curActiveComponent:null,curActiveComponentCode:""}},computed:{asideStyle(){return this.showRight?"width: 300px":"width: 65px"}},methods:{onMenuSelect(e){this.curActiveComponentCode===this.menuList[e].code?this.showRight=!this.showRight:this.showRight=!0,this.curActiveComponent=this.menuList[e].component,this.curActiveComponentCode=this.menuList[e].code}},mounted(){this.curActiveComponent=this.menuList[0].component,this.curActiveComponentCode=this.menuList[0].code}},V=H,Z=n(1001),X=(0,Z.Z)(V,B,G,!1,null,"88bbf378",null),Y=X.exports,U=function(){var e=this,t=e._self._c;return t("section",{staticClass:"height-all"},[t("ToolBar"),t("Editor")],1)},q=[],W=function(){var e=this,t=e._self._c;return t("el-header",{staticClass:"roy-designer-main__toolbar",attrs:{height:"45px"}},[t("section",{staticClass:"roy-designer-main__toolbar_left"},e._l(e.toolbarLeftConfig,(function(e,n){return t("el-tooltip",{key:n,attrs:{content:e.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[t("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:e.event}},[t("i",{class:e.icon})])])})),1),t("section",{staticClass:"roy-designer-main__toolbar_right"},e._l(e.toolbarRightConfig,(function(e,n){return t("el-tooltip",{key:n,attrs:{content:e.name,"open-delay":600,"visible-arrow":!1,effect:"dark",placement:"bottom"}},[t("div",{staticClass:"roy-designer-main__toolbar__item",on:{click:e.event}},[t("i",{class:e.icon})])])})),1)])},J=[],K={name:"ToolBar",mixins:[z.Z],components:{},props:{},data(){return{toolbarLeftConfig:[{name:"撤销",icon:"ri-arrow-go-back-fill",event:()=>{alert("撤销")}},{name:"恢复",icon:"ri-arrow-go-forward-fill",event:()=>{}}],toolbarRightConfig:[{name:"预览",icon:"ri-eye-2-fill",event:()=>{}},{name:"保存",icon:"ri-save-2-fill",event:()=>{}}]}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}},Q=K,ee=(0,Z.Z)(Q,W,J,!1,null,"fc204622",null),te=ee.exports,ne=function(){var e=this,t=e._self._c;return t("el-main",{staticClass:"roy-designer-main__page"},[t("MbRulerDemo"),t("div",{attrs:{id:"designer-page"}},[t("div",[e._v("测试页面")])])],1)},re=[],oe=function(){var e=this,t=e._self._c;return t("MbRuler")},ie=[],ae=n(4580),se=n.n(ae);const ce=e=>e<=.25?40:e<=.5?20:e<=1?10:e<=2?5:e<=4?2:1,le=.83,ue=(e,t,n,r)=>{const{scale:o,width:i,height:a,canvasConfigs:s}=r,{bgColor:c,fontColor:l,shadowColor:u,ratio:h,longfgColor:f,shortfgColor:d}=s;if(e.scale(h,h),e.clearRect(0,0,i,a),e.fillStyle=c,e.fillRect(0,0,i,a),n){const r=(n.x-t)*o,i=n.width*o;e.fillStyle=u,e.fillRect(r,0,i,3*a/8)}const p=ce(o),g=p*o,v=10*p,m=v*o,b=Math.floor(t/p)*p,y=Math.floor(t/v)*v,w=(b-t)/p*g,C=(y-t)/v*m,x=t+Math.ceil(i/o);e.beginPath(),e.fillStyle=l,e.strokeStyle=f;for(let S=y,k=0;S<x;S+=v,k++){const t=C+k*m+.5;e.moveTo(t,0),e.save(),e.translate(t,.4*a),e.scale(le/h,le/h),e.fillText(S,4*h,7*h),e.restore(),e.lineTo(t,9*a/16)}e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle=d;for(let S=b,k=0;S<x;S+=p,k++){const t=w+k*g+.5;e.moveTo(t,0),S%v!==0&&e.lineTo(t,1*a/4)}e.stroke(),e.closePath(),e.setTransform(1,0,0,1,0,0)},he=(e,t,n,r)=>{const{scale:o,width:i,height:a,canvasConfigs:s}=r,{bgColor:c,fontColor:l,shadowColor:u,ratio:h,longfgColor:f,shortfgColor:d}=s;if(e.scale(h,h),e.clearRect(0,0,i,a),e.fillStyle=c,e.fillRect(0,0,i,a),n){const r=(n.y-t)*o,a=n.height*o;e.fillStyle=u,e.fillRect(0,r,3*i/8,a)}const p=ce(o),g=p*o,v=10*p,m=v*o,b=Math.floor(t/p)*p,y=Math.floor(t/v)*v,w=(b-t)/p*g,C=(y-t)/v*m,x=t+Math.ceil(a/o);e.beginPath(),e.fillStyle=l,e.strokeStyle=f;for(let S=y,k=0;S<x;S+=v,k++){const t=C+k*m+.5;e.moveTo(0,t),e.save(),e.translate(.4*i,t),e.rotate(-Math.PI/2),e.scale(le/h,le/h),e.fillText(S,4*h,7*h),e.restore(),e.lineTo(9*i/16,t)}e.stroke(),e.closePath(),e.beginPath(),e.strokeStyle=d;for(let S=b,k=0;S<x;S+=p,k++){const t=w+k*g+.5;e.moveTo(0,t),S%v!==0&&e.lineTo(1*i/4,t)}e.stroke(),e.closePath(),e.setTransform(1,0,0,1,0,0)},fe=(e,t,n)=>Math.round(t+e/n);var de,pe,ge={name:"CanvasRuler",data(){return{}},props:{vertical:Boolean,start:Number,scale:Number,width:Number,height:Number,canvasConfigs:Object,selectStart:Number,selectLength:Number,onAddLine:Function,onIndicatorShow:Function,onIndicatorMove:Function,onIndicatorHide:Function,onhandleShowRightMenu:Function},methods:{drawRuler(){const e={scale:this.scale,width:this.width,height:this.height,canvasConfigs:this.canvasConfigs};this.props.vertical?he(this.$refs.canvas.getContext("2d"),this.start,{y:this.selectStart,height:this.selectLength},e):ue(this.$refs.canvas.getContext("2d"),this.start,{x:this.selectStart,width:this.selectLength},e)},updateCanvasContext(){const{ratio:e}=this.canvasConfigs;this.$refs.canvas.width=this.width*e,this.$refs.canvas.height=this.height*e;const t=this.$refs.canvas.getContext("2d");t.font=12*e+'px -apple-system, "Helvetica Neue", ".SFNSText-Regular", "SF UI Text", Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi Zen Hei", sans-serif',t.lineWidth=1,t.textBaseline="middle"},handleClick(e){const t=this.vertical?e.offsetY:e.offsetX;this.onAddLine(fe(t,this.start,this.scale))},handleEnter(e){const t=this.vertical?e.offsetY:e.offsetX;this.onIndicatorShow(fe(t,this.start,this.scale))},handleMove(e){const t=this.vertical?e.offsetY:e.offsetX;this.onIndicatorMove(fe(t,this.start,this.scale))},handleLeave(){this.onIndicatorHide()},handleRightMenu(e){if(e.stopPropagation(),2===e.button){const t=e.clientX,n=e.clientY;this.onhandleShowRightMenu(t,n)}}},mounted(){this.updateCanvasContext(),this.drawRuler()},render(){const e=arguments[0];return()=>e("canvas",{class:"ruler",ref:"canvas",on:{click:this.handleClick,mouseEnter:this.handleEnter,mouseDown:this.handleRightMenu,mouseMove:this.handleMove,mouseLeave:this.handleLeave}})}},ve={name:"RulerLine",data(){return{state:{value:this.value}}},props:{index:Number,start:Number,vertical:Boolean,scale:Number,value:Number,onRemove:Function,onMouseDown:Function,onRelease:Function},methods:{handleDown(e){const{value:t}=this.state,n=this.vertical?e.clientY:e.clientX;this.onMouseDown();const r=e=>{const r=this.vertical?e.clientY:e.clientX,o=Math.round(t+(r-n)/this.scale);this.setState({value:o})},o=()=>{this.onRelease(this.state.value,this.index),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",o)},handleRemove(){this.onRemove(this.index)},setState(e={}){for(let t of Object.keys(e))this.$set(this.state,t,e[t])}},created(){},render(){const e=arguments[0],{value:t}=this.state,n=(t-this.start)*this.scale;if(n<0)return null;const r=this.vertical?{top:n}:{left:n};return()=>e("div",{class:"line",style:r,on:{mouseDown:this.handleDown}},[e("div",{class:"action"},[e("span",{class:"del",on:{click:this.handleRemove}},["×"]),e("span",{class:"value"},[t])])])}},me={name:"RulerWrapper",data(){return{state:{isDraggingLine:!1,showIndicator:!1,value:0,lines:this.lines}}},props:{vertical:Boolean,scale:Number,width:Number,height:Number,start:Number,lines:{type:Array,default:()=>[]},selectStart:Number,selectLength:Number,canvasConfigs:Object,onLineChange:Function,onShowRightMenu:Function,isShowReferLine:Boolean,handleShowReferLine:Function},methods:{setState(e={}){for(let t of Object.keys(e))this.$set(this.state,t,e[t])},handleIndicatorShow(e){!this.state.isDraggingLine&&this.setState({showIndicator:!0,value:e})},handleIndicatorMove(e){this.state.showIndicator&&this.setState({value:e})},handleIndicatorHide(){this.setState({showIndicator:!1})},handleNewLine(e){const{lines:t}=this.state;t.push(e),this.setState({lines:this.lines}),this.onLineChange(t,this.vertical),!this.isShowReferLine&&this.handleShowReferLine()},handleLineDown(){this.setState({isDraggingLine:!0})},handleLineRelease(e,t){const{lines:n}=this.state;this.setState({isDraggingLine:!1});const r=e-this.start,o=(this.vertical?this.height:this.width)/this.scale;r<0||r>o?this.handleLineRemove(t):(n[t]=e,this.onLineChange(n,this.vertical),this.setState({lines:this.lines}))},handleLineRemove(e){const{lines:t}=this.state;t.splice(e,1),this.onLineChange(t,this.vertical),this.setState({isDraggingLine:!1})},onhandleShowRightMenu(e,t){this.onShowRightMenu(e,t,this.vertical)}},render(){const e=arguments[0],{showIndicator:t,value:n}=this.state,r=this.vertical?"v-container":"h-container",o=(n-this.start)*this.scale,i=this.vertical?{top:o}:{left:o};return()=>e("div",{class:r},[e(ge,{attrs:{vertical:this.vertical,scale:this.scale,width:this.width,height:this.height,start:this.start,selectStart:this.selectStart,selectLength:this.selectLength,canvasConfigs:this.canvasConfigs},on:{addLine:this.handleNewLine,indicatorShow:this.handleIndicatorShow,indicatorMove:this.handleIndicatorMove,indicatorHide:this.handleIndicatorHide,handleShowRightMenu:this.onhandleShowRightMenu}}),this.isShowReferLine&&e("div",{class:"lines"},[this.state.lines.map(((t,n)=>e(ve,{key:t+n,attrs:{index:n,value:t>>0,scale:this.scale,start:this.start,vertical:this.vertical},on:{remove:this.handleLineRemove,mouseDown:this.handleLineDown,release:this.handleLineRelease}})))]),t&&e("div",{class:"indicator",style:i},[e("span",{class:"value"},[n])])])}},be={name:"Teleport",props:{to:{type:Element,required:!0},disabled:{type:Boolean,default:!0}},inject:["parent"],watch:{disabled(){this.disabled?this.to.appendChild(this.$el):this.parent.toSourceDom(this.$el)}},mounted(){this.disabled&&document.querySelector(this.to).appendChild(this.$el)},render(){const e=arguments[0];return e("div",{attrs:{className:"Teleport"}},[this.$scopedSlots.default()])}},ye=be,we=(0,Z.Z)(ye,de,pe,!1,null,"758aa940",null),Ce=we.exports;const xe={"zh-CN":{vertical:"纵向",horizontal:"横向",show_ruler:"显示标尺",show_refer_line:"显示参考线",remove_all:"删除所有",refer_line:"参考线"},en:{vertical:"vertical",horizontal:"horizontal",show_ruler:"show rulers",show_refer_line:"show all guides",remove_all:"remove all ",refer_line:" guides"}};var Se="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),ke=function e(t){var n=Se[t%Se.length];return t>Se.length?"".concat(e(Math.floor(t/Se.length))).concat(n):n},_e=function(e,t){return t.reduce((function(t,n,r){return t.concat(n,e[r+1])}),[e[0]])};function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t,n){return t&&Oe(e.prototype,t),n&&Oe(e,n),e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e){return Ee(e)||Ne(e)||Pe(e)||De()}function Ee(e){if(Array.isArray(e))return Te(e)}function Ne(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Pe(e,t){if(e){if("string"===typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(e,t):void 0}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ie="[object Object]";function Fe(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function Be(e,t){return function(n){return e(t(n))}}var Ge=Function.prototype,ze=Object.prototype,He=Ge.toString,Ve=ze.hasOwnProperty,Ze=He.call(Object),Xe=ze.toString,Ye=Be(Object.getPrototypeOf,Object);function Ue(e){return!!e&&"object"==typeof e}function qe(e){if(!Ue(e)||Xe.call(e)!=Ie||Fe(e))return!1;var t=Ye(e);if(null===t)return!0;var n=Ve.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&He.call(n)==Ze}var We=qe,Je=/([A-Z])/g,Ke=/^ms-/;function Qe(e){return e.replace(Je,"-$1").toLowerCase()}function et(e){return Qe(e).replace(Ke,"-ms-")}var tt=et,nt=function e(t,n){var r=Object.keys(t).map((function(n){return We(t[n])?e(t[n],n):"".concat(tt(n),": ").concat(t[n],";")})).join(" ");return n?"".concat(n," {\n  ").concat(r,"\n}"):r},rt=function e(t,n){return t.reduce((function(t,r){return void 0===r||null===r||!1===r||""===r?t:Array.isArray(r)?[].concat($e(t),$e(e(r,n))):"function"===typeof r?n?t.concat.apply(t,$e(e([r(n)],n))):t.concat(r):t.concat(We(r)?nt(r):r.toString())}),[])},ot=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rt(_e(e,n))};function it(e){return e[e.length-1]}function at(e){for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}var st=function(e){return"development"===e||!e}("development"),ct=!1,lt="undefined"!==typeof document&&!ct,ut=function(){if(lt){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1===e.getElementsByTagName("i").length}}();function ht(){var e=document.createElement("style");return e.type="text/css",e.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(e),e}var ft=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.speedy,r=void 0===n?!st&&!ct:n,o=t.maxLength,i=void 0===o?lt&&ut?4e3:65e3:o;Ae(this,e),this.isSpeedy=r,this.sheet=void 0,this.tags=[],this.maxLength=i,this.ctr=0}return Me(e,[{key:"inject",value:function(){var e=this;if(this.injected)throw new Error("already injected stylesheet!");lt?(this.tags[0]=ht(),this.sheet=at(this.tags[0])):this.sheet={cssRules:[],insertRule:function(t){var n={cssText:t};return e.sheet.cssRules.push(n),{serverRule:n,appendRule:function(e){return n.cssText+=e}}}},this.injected=!0}},{key:"speedy",value:function(e){if(0!==this.ctr)throw new Error("cannot change speedy mode after inserting any rule to sheet. Either call speedy(".concat(e,") earlier in your app, or call flush() before speedy(").concat(e,")"));this.isSpeedy=!!e}},{key:"_insert",value:function(e){try{this.sheet.insertRule(e,this.sheet.cssRules.length)}catch(t){st&&console.warn("whoops, illegal rule inserted",e)}}},{key:"insert",value:function(e){var t;if(lt)if(this.isSpeedy&&this.sheet.insertRule)this._insert(e);else{var n=document.createTextNode(e);it(this.tags).appendChild(n),t={textNode:n,appendRule:function(e){return n.appendData(e)}},this.isSpeedy||(this.sheet=at(it(this.tags)))}else t=this.sheet.insertRule(e);return this.ctr++,lt&&this.ctr%this.maxLength===0&&(this.tags.push(ht()),this.sheet=at(it(this.tags))),t}},{key:"flush",value:function(){lt?(this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.sheet=null,this.ctr=0):this.sheet.cssRules=[],this.injected=!1}},{key:"rules",value:function(){if(!lt)return this.sheet.cssRules;var e=[];return this.tags.forEach((function(t){return e.splice.apply(e,[e.length,0].concat($e(Array.from(at(t).cssRules))))})),e}}]),e}(),dt=function(){function e(){Ae(this,e),this.globalStyleSheet=new ft({speedy:!1}),this.componentStyleSheet=new ft({speedy:!1,maxLength:40})}return Me(e,[{key:"inject",value:function(){this.globalStyleSheet.inject(),this.componentStyleSheet.inject()}},{key:"flush",value:function(){this.globalStyleSheet.sheet&&this.globalStyleSheet.flush(),this.componentStyleSheet.sheet&&this.componentStyleSheet.flush()}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{global:!1},n=t.global?this.globalStyleSheet:this.componentStyleSheet;return n.insert(e)}},{key:"rules",value:function(){return this.globalStyleSheet.rules().concat(this.componentStyleSheet.rules())}},{key:"injected",get:function(){return this.globalStyleSheet.injected&&this.componentStyleSheet.injected}}]),e}(),pt=new dt;function gt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function vt(e,t){return t={exports:{}},e(t,t.exports),t.exports}var mt=vt((function(e,t){function n(e,t){var n=1540483477,a=24,s=t^e.length,c=e.length,l=0;while(c>=4){var u=r(e,l);u=i(u,n),u^=u>>>a,u=i(u,n),s=i(s,n),s^=u,l+=4,c-=4}switch(c){case 3:s^=o(e,l),s^=e.charCodeAt(l+2)<<16,s=i(s,n);break;case 2:s^=o(e,l),s=i(s,n);break;case 1:s^=e.charCodeAt(l),s=i(s,n);break}return s^=s>>>13,s=i(s,n),s^=s>>>15,s>>>0}function r(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)+(e.charCodeAt(t++)<<16)+(e.charCodeAt(t)<<24)}function o(e,t){return e.charCodeAt(t++)+(e.charCodeAt(t++)<<8)}function i(e,t){e|=0,t|=0;var n=65535&e,r=e>>>16,o=n*t+((r*t&65535)<<16)|0;return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n})),bt=gt(mt),yt=function(e){return e.replace(/\s|\\n/g,"")},wt=function(e,t){return"\n@keyframes ".concat(e," {\n   ").concat(t,"\n}\n")},Ct=function(e){var t=ke(bt(yt(JSON.stringify(e)))),n=wt(t,e);return pt.injected||pt.inject(),pt.insert(n),t},xt=vt((function(e,t){
/*
   *          __        ___
   *    _____/ /___  __/ (_)____
   *   / ___/ __/ / / / / / ___/
   *  (__  ) /_/ /_/ / / (__  )
   * /____/\__/\__, /_/_/____/
   *          /____/
   *
   * light - weight css preprocessor @licence MIT
   */
(function(t){e["exports"]=t(null)})((function e(t){var n=/^\0+/g,r=/[\0\r\f]/g,o=/: */g,i=/zoo|gra/,a=/([,: ])(transform)/g,s=/,+\s*(?![^(]*[)])/g,c=/ +\s*(?![^(]*[)])/g,l=/ *[\0] */g,u=/,\r+?/g,h=/([\t\r\n ])*\f?&/g,f=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,d=/\W+/g,p=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,v=/:(read-only)/g,m=/\s+(?=[{\];=:>])/g,b=/([[}=:>])\s+/g,y=/(\{[^{]+?);(?=\})/g,w=/\s{2,}/g,C=/([^\(])(:+) */g,x=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,_=/-self|flex-/g,A=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,M=/([^-])(image-set\()/,j="-webkit-",L="-moz-",R="-ms-",$=59,E=125,N=123,P=40,T=41,D=91,I=93,F=10,B=13,G=9,z=64,H=32,V=38,Z=45,X=95,Y=42,U=44,q=58,W=39,J=34,K=47,Q=62,ee=43,te=126,ne=0,re=12,oe=11,ie=107,ae=109,se=115,ce=112,le=111,ue=105,he=99,fe=100,de=112,pe=1,ge=1,ve=0,me=1,be=1,ye=1,we=0,Ce=0,xe=0,Se=[],ke=[],_e=0,Ae=null,Oe=-2,Me=-1,je=0,Le=1,Re=2,$e=3,Ee=0,Ne=1,Pe="",Te="",De="";function Ie(e,t,o,i,a){var s,c,l=0,u=0,h=0,f=0,d=0,m=0,b=0,y=0,w=0,C=0,x=0,k=0,_=0,A=0,O=0,M=0,X=0,ye=0,we=0,ke=o.length,Ae=ke-1,Oe="",Me="",Be="",Ve="",Ue="",qe="";while(O<ke){if(b=o.charCodeAt(O),O===Ae&&u+f+h+l!==0&&(0!==u&&(b=u===K?F:K),f=h=l=0,ke++,Ae++),u+f+h+l===0){if(O===Ae&&(M>0&&(Me=Me.replace(r,"")),Me.trim().length>0)){switch(b){case H:case G:case $:case B:case F:break;default:Me+=o.charAt(O)}b=$}if(1===X)switch(b){case N:case E:case $:case J:case W:case P:case T:case U:X=0;case G:case B:case F:case H:break;default:X=0,we=O,d=b,O--,b=$;while(we<ke)switch(o.charCodeAt(we++)){case F:case B:case $:++O,b=d,we=ke;break;case q:M>0&&(++O,b=d);case N:we=ke}}switch(b){case N:Me=Me.trim(),d=Me.charCodeAt(0),x=1,we=++O;while(O<ke){switch(b=o.charCodeAt(O)){case N:x++;break;case E:x--;break;case K:switch(m=o.charCodeAt(O+1)){case Y:case K:O=Ye(m,O,Ae,o)}break;case D:b++;case P:b++;case J:case W:while(O++<Ae)if(o.charCodeAt(O)===b)break}if(0===x)break;O++}switch(Be=o.substring(we,O),d===ne&&(d=(Me=Me.replace(n,"").trim()).charCodeAt(0)),d){case z:switch(M>0&&(Me=Me.replace(r,"")),m=Me.charCodeAt(1),m){case fe:case ae:case se:case Z:s=t;break;default:s=Se}if(Be=Ie(t,s,Be,m,a+1),we=Be.length,xe>0&&0===we&&(we=Me.length),_e>0&&(s=Fe(Se,Me,ye),c=Xe($e,Be,s,t,ge,pe,we,m,a,i),Me=s.join(""),void 0!==c&&0===(we=(Be=c.trim()).length)&&(m=0,Be="")),we>0)switch(m){case se:Me=Me.replace(S,He);case fe:case ae:case Z:Be=Me+"{"+Be+"}";break;case ie:Me=Me.replace(p,"$1 $2"+(Ne>0?Pe:"")),Be=Me+"{"+Be+"}",Be=1===be||2===be&&ze("@"+Be,3)?"@"+j+Be+"@"+Be:"@"+Be;break;default:Be=Me+Be,i===de&&(Ve+=Be,Be="")}else Be="";break;default:Be=Ie(t,Fe(t,Me,ye),Be,i,a+1)}Ue+=Be,k=0,X=0,A=0,M=0,ye=0,_=0,Me="",Be="",b=o.charCodeAt(++O);break;case E:case $:if(Me=(M>0?Me.replace(r,""):Me).trim(),(we=Me.length)>1)switch(0===A&&(d=Me.charCodeAt(0),(d===Z||d>96&&d<123)&&(we=(Me=Me.replace(" ",":")).length)),_e>0&&void 0!==(c=Xe(Le,Me,t,e,ge,pe,Ve.length,i,a,i))&&0===(we=(Me=c.trim()).length)&&(Me="\0\0"),d=Me.charCodeAt(0),m=Me.charCodeAt(1),d){case ne:break;case z:if(m===ue||m===he){qe+=Me+o.charAt(O);break}default:if(Me.charCodeAt(we-1)===q)break;Ve+=Ge(Me,d,m,Me.charCodeAt(2))}k=0,X=0,A=0,M=0,ye=0,Me="",b=o.charCodeAt(++O);break}}switch(b){case B:case F:if(u+f+h+l+Ce===0)switch(C){case T:case W:case J:case z:case te:case Q:case Y:case ee:case K:case Z:case q:case U:case $:case N:case E:break;default:A>0&&(X=1)}u===K?u=0:me+k===0&&i!==ie&&Me.length>0&&(M=1,Me+="\0"),_e*Ee>0&&Xe(je,Me,t,e,ge,pe,Ve.length,i,a,i),pe=1,ge++;break;case $:case E:if(u+f+h+l===0){pe++;break}default:switch(pe++,Oe=o.charAt(O),b){case G:case H:if(f+l+u===0)switch(y){case U:case q:case G:case H:Oe="";break;default:b!==H&&(Oe=" ")}break;case ne:Oe="\\0";break;case re:Oe="\\f";break;case oe:Oe="\\v";break;case V:f+u+l===0&&me>0&&(ye=1,M=1,Oe="\f"+Oe);break;case 108:if(f+u+l+ve===0&&A>0)switch(O-A){case 2:y===ce&&o.charCodeAt(O-3)===q&&(ve=y);case 8:w===le&&(ve=w)}break;case q:f+u+l===0&&(A=O);break;case U:u+h+f+l===0&&(M=1,Oe+="\r");break;case J:case W:0===u&&(f=f===b?0:0===f?b:f);break;case D:f+u+h===0&&l++;break;case I:f+u+h===0&&l--;break;case T:f+u+l===0&&h--;break;case P:if(f+u+l===0){if(0===k)switch(2*y+3*w){case 533:break;default:x=0,k=1}h++}break;case z:u+h+f+l+A+_===0&&(_=1);break;case Y:case K:if(f+l+h>0)break;switch(u){case 0:switch(2*b+3*o.charCodeAt(O+1)){case 235:u=K;break;case 220:we=O,u=Y;break}break;case Y:b===K&&y===Y&&we+2!==O&&(33===o.charCodeAt(we+2)&&(Ve+=o.substring(we,O+1)),Oe="",u=0)}}if(0===u){if(me+f+l+_===0&&i!==ie&&b!==$)switch(b){case U:case te:case Q:case ee:case T:case P:if(0===k){switch(y){case G:case H:case F:case B:Oe+="\0";break;default:Oe="\0"+Oe+(b===U?"":"\0")}M=1}else switch(b){case P:A+7===O&&108===y&&(A=0),k=++x;break;case T:0===(k=--x)&&(M=1,Oe+="\0");break}break;case G:case H:switch(y){case ne:case N:case E:case $:case U:case re:case G:case H:case F:case B:break;default:0===k&&(M=1,Oe+="\0")}}Me+=Oe,b!==H&&b!==G&&(C=b)}}w=y,y=b,O++}if(we=Ve.length,xe>0&&0===we&&0===Ue.length&&0===t[0].length===!1&&(i!==ae||1===t.length&&(me>0?Te:De)===t[0])&&(we=t.join(",").length+2),we>0){if(s=0===me&&i!==ie?Ze(t):t,_e>0&&(c=Xe(Re,Ve,s,e,ge,pe,we,i,a,i),void 0!==c&&0===(Ve=c).length))return qe+Ve+Ue;if(Ve=s.join(",")+"{"+Ve+"}",be*ve!==0){switch(2!==be||ze(Ve,2)||(ve=0),ve){case le:Ve=Ve.replace(v,":"+L+"$1")+Ve;break;case ce:Ve=Ve.replace(g,"::"+j+"input-$1")+Ve.replace(g,"::"+L+"$1")+Ve.replace(g,":"+R+"input-$1")+Ve;break}ve=0}}return qe+Ve+Ue}function Fe(e,t,n){var r=t.trim().split(u),o=r,i=r.length,a=e.length;switch(a){case 0:case 1:for(var s=0,c=0===a?"":e[0]+" ";s<i;++s)o[s]=Be(c,o[s],n,a).trim();break;default:s=0;var l=0;for(o=[];s<i;++s)for(var h=0;h<a;++h)o[l++]=Be(e[h]+" ",r[s],n,a).trim()}return o}function Be(e,t,n,r){var o=t,i=o.charCodeAt(0);switch(i<33&&(i=(o=o.trim()).charCodeAt(0)),i){case V:switch(me+r){case 0:case 1:if(0===e.trim().length)break;default:return o.replace(h,"$1"+e.trim())}break;case q:switch(o.charCodeAt(1)){case 103:if(ye>0&&me>0)return o.replace(f,"$1").replace(h,"$1"+De);break;default:return e.trim()+o.replace(h,"$1"+e.trim())}default:if(n*me>0&&o.indexOf("\f")>0)return o.replace(h,(e.charCodeAt(0)===q?"":"$1")+e.trim())}return e+o}function Ge(e,t,n,r){var s,c=0,l=e+";",u=2*t+3*n+4*r;if(944===u)return Ve(l);if(0===be||2===be&&!ze(l,1))return l;switch(u){case 1015:return 97===l.charCodeAt(10)?j+l+l:l;case 951:return 116===l.charCodeAt(3)?j+l+l:l;case 963:return 110===l.charCodeAt(5)?j+l+l:l;case 1009:if(100!==l.charCodeAt(4))break;case 969:case 942:return j+l+l;case 978:return j+l+L+l+l;case 1019:case 983:return j+l+L+l+R+l+l;case 883:return l.charCodeAt(8)===Z?j+l+l:l.indexOf("image-set(",11)>0?l.replace(M,"$1"+j+"$2")+l:l;case 932:if(l.charCodeAt(4)===Z)switch(l.charCodeAt(5)){case 103:return j+"box-"+l.replace("-grow","")+j+l+R+l.replace("grow","positive")+l;case 115:return j+l+R+l.replace("shrink","negative")+l;case 98:return j+l+R+l.replace("basis","preferred-size")+l}return j+l+R+l+l;case 964:return j+l+R+"flex-"+l+l;case 1023:if(99!==l.charCodeAt(8))break;return s=l.substring(l.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),j+"box-pack"+s+j+l+R+"flex-pack"+s+l;case 1005:return i.test(l)?l.replace(o,":"+j)+l.replace(o,":"+L)+l:l;case 1e3:switch(s=l.substring(13).trim(),c=s.indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(c)){case 226:s=l.replace(x,"tb");break;case 232:s=l.replace(x,"tb-rl");break;case 220:s=l.replace(x,"lr");break;default:return l}return j+l+R+s+l;case 1017:if(-1===l.indexOf("sticky",9))return l;case 975:switch(c=(l=e).length-10,s=(33===l.charCodeAt(c)?l.substring(0,c):l).substring(e.indexOf(":",7)+1).trim(),u=s.charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(s.charCodeAt(8)<111)break;case 115:l=l.replace(s,j+s)+";"+l;break;case 207:case 102:l=l.replace(s,j+(u>102?"inline-":"")+"box")+";"+l.replace(s,j+s)+";"+l.replace(s,R+s+"box")+";"+l}return l+";";case 938:if(l.charCodeAt(5)===Z)switch(l.charCodeAt(6)){case 105:return s=l.replace("-items",""),j+l+j+"box-"+s+R+"flex-"+s+l;case 115:return j+l+R+"flex-item-"+l.replace(_,"")+l;default:return j+l+R+"flex-line-pack"+l.replace("align-content","").replace(_,"")+l}break;case 973:case 989:if(l.charCodeAt(3)!==Z||122===l.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?Ge(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):l.replace(s,j+s)+l.replace(s,L+s.replace("fill-",""))+l;break;case 962:if(l=j+l+(102===l.charCodeAt(5)?R+l:"")+l,n+r===211&&105===l.charCodeAt(13)&&l.indexOf("transform",10)>0)return l.substring(0,l.indexOf(";",27)+1).replace(a,"$1"+j+"$2")+l;break}return l}function ze(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),o=e.substring(n+1,e.length-1);return Ae(2!==t?r:r.replace(A,"$1"),o,t)}function He(e,t){var n=Ge(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(k," or ($1)").substring(4):"("+t+")"}function Ve(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),o=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*Ne){case 0:break;case Z:if(110!==e.charCodeAt(10))break;default:var i=o.split((o="",s)),a=0;for(n=0,t=i.length;a<t;n=0,++a){var l=i[a],u=l.split(c);while(l=u[n]){var h=l.charCodeAt(0);if(1===Ne&&(h>z&&h<90||h>96&&h<123||h===X||h===Z&&l.charCodeAt(1)!==Z))switch(isNaN(parseFloat(l))+(-1!==l.indexOf("("))){case 1:switch(l){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:l+=Pe}}u[n++]=l}o+=(0===a?"":",")+u.join(" ")}}return o=r+o+";",1===be||2===be&&ze(o,1)?j+o+o:o}function Ze(e){for(var t,n,o=0,i=e.length,a=Array(i);o<i;++o){for(var s=e[o].split(l),c="",u=0,h=0,f=0,d=0,p=s.length;u<p;++u)if(!(0===(h=(n=s[u]).length)&&p>1)){if(f=c.charCodeAt(c.length-1),d=n.charCodeAt(0),t="",0!==u)switch(f){case Y:case te:case Q:case ee:case H:case P:break;default:t=" "}switch(d){case V:n=t+Te;case te:case Q:case ee:case H:case T:case P:break;case D:n=t+n+Te;break;case q:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(ye>0){n=t+n.substring(8,h-1);break}default:(u<1||s[u-1].length<1)&&(n=t+Te+n)}break;case U:t="";default:n=h>1&&n.indexOf(":")>0?t+n.replace(C,"$1"+Te+"$2"):t+n+Te}c+=n}a[o]=c.replace(r,"").trim()}return a}function Xe(e,t,n,r,o,i,a,s,c,l){for(var u,h=0,f=t;h<_e;++h)switch(u=ke[h].call(Je,e,f,n,r,o,i,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:f=u}if(f!==t)return f}function Ye(e,t,n,r){for(var o=t+1;o<n;++o)switch(r.charCodeAt(o)){case K:if(e===Y&&r.charCodeAt(o-1)===Y&&t+2!==o)return o+1;break;case F:if(e===K)return o+1}return o}function Ue(e){return e.replace(r,"").replace(m,"").replace(b,"$1").replace(y,"$1").replace(w," ")}function qe(e){switch(e){case void 0:case null:_e=ke.length=0;break;default:if("function"===typeof e)ke[_e++]=e;else if("object"===typeof e)for(var t=0,n=e.length;t<n;++t)qe(e[t]);else Ee=0|!!e}return qe}function We(e){for(var t in e){var n=e[t];switch(t){case"keyframe":Ne=0|n;break;case"global":ye=0|n;break;case"cascade":me=0|n;break;case"compress":we=0|n;break;case"semicolon":Ce=0|n;break;case"preserve":xe=0|n;break;case"prefix":Ae=null,n?"function"!==typeof n?be=1:(be=2,Ae=n):be=0}}return We}function Je(t,n){if(void 0!==this&&this.constructor===Je)return e(t);var r=t,o=r.charCodeAt(0);o<33&&(o=(r=r.trim()).charCodeAt(0)),Ne>0&&(Pe=r.replace(d,o===D?"":"-")),o=1,1===me?De=r:Te=r;var i,a=[De];_e>0&&(i=Xe(Me,n,a,a,ge,pe,0,0,0,0),void 0!==i&&"string"===typeof i&&(n=i));var s=Ie(Se,a,n,0,0);return _e>0&&(i=Xe(Oe,s,a,a,ge,pe,s.length,0,0,0),void 0!==i&&"string"!==typeof(s=i)&&(o=0)),Pe="",De="",Te="",ve=0,ge=1,pe=1,we*o===0?s:Ue(s)}return Je["use"]=qe,Je["set"]=We,void 0!==t&&We(t),Je}))})),St=(function(){function e(t,n){Ae(this,e),this.rules=t,this.selector=n}Me(e,[{key:"generateAndInject",value:function(){pt.injected||pt.inject();var e=rt(this.rules).join(""),t=this.selector?"".concat(this.selector," { ").concat(e," }"):e,n=xt("",t,!1,!1);pt.insert(n,{global:!0})}}])}(),Object.prototype),kt=St.hasOwnProperty;function _t(e,t,n){var r=e[t];kt.call(e,t)&&Mt(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function At(e,t,n){var r=-1,o=e.length,i=t.length,a={};while(++r<o){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}function Ot(e,t){return At(e||[],t||[],_t)}function Mt(e,t){return e===t||e!==e&&t!==t}var jt=Ot;function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?jt(e):e}function Rt(e){return e&&("function"===typeof e.render||"string"===typeof e.template)}var $t=function(e){var t=function t(n,r,o,i){var a=i.attrs,s=void 0===a?[]:a,c=new e(r),l=Lt(o),u=Lt(n.props),h={inject:{$theme:{default:function(){return function(){return{}}}}},props:Re({as:[String,Object],value:null},l,{},u),data:function(){return{localValue:this.value}},render:function(e){var t=this,r=[];for(var o in this.$slots)"default"===o?r.push(this.$slots[o]):r.push(e("template",{slot:o},this.$slots[o]));return e(Rt(n)?n:this.$props.as||n,{class:[this.generatedClassName],props:this.$props,domProps:Re({},this.attrs,{value:this.localValue}),on:Re({},this.$listeners,{input:function(e){e&&e.target&&(t.localValue=e.target.value)}}),scopedSlots:this.$scopedSlots},r)},methods:{generateAndInjectStyles:function(e){return c.generateAndInjectStyles(e)}},computed:{generatedClassName:function(){var e=this.context,t=this.attrs,n=Re({},e,{},t);return this.generateAndInjectStyles(n)},theme:function(){return this.$theme()},context:function(){return Re({theme:this.theme},this.$props)},attrs:function(){var e={},t=this.context;return s.forEach((function(n){var r=n;for(var o in"function"===typeof r&&(r=r(t)),r)t[o]=e[o]=r[o]})),e}},watch:{value:function(e){this.localValue=e},localValue:function(){this.$emit("input",this.localValue)}},extend:function(e){for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];var l=ot.apply(void 0,[e].concat(s));return t(n,r.concat(l),o,i)},withComponent:function(e){return t(e,r,o,i)}};return h};return t},Et=function(e){var t={},n=function(){function n(e){Ae(this,n),this.rules=e,xt.set({keyframe:!1}),pt.injected||pt.inject(),this.insertedRule=pt.insert("")}return Me(n,[{key:"generateAndInjectStyles",value:function(n){var r=rt(this.rules,n).join("").replace(/^\s*\/\/.*$/gm,""),o=bt(r);if(!t[o]){var i=e(o);t[o]=i;var a=xt(".".concat(i),r);this.insertedRule.appendRule(a)}return t[o]}}]),n}();return n},Nt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];function Pt(e){if("string"===typeof e)return-1!==Nt.indexOf(e)}function Tt(e){return e&&e.methods&&"function"===typeof e.methods.generateAndInjectStyles}function Dt(e){return Tt(e)||Rt(e)||Pt(e)}var It=function(e){var t=function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Dt(n))throw new Error(n+" is not allowed for styled tag type.");var i=function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return e(n,ot.apply(void 0,[t].concat(a)),r,o)};return i.attrs=function(e){return t(n,r,Re({},o,{attrs:Array.prototype.concat(o.attrs,e).filter(Boolean)}))},i};return Nt.forEach((function(e){t[e]=t(e)})),t},Ft=It($t(Et(ke))),Bt=Ft;const Gt=Ct`
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
`,zt=Ct`
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
`,Ht=Bt.div`
  position: fixed;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  box-shadow: 0 2px 10px 0 rgba(39, 54, 78, 0.08),
    0 12px 40px 0 rgba(39, 54, 78, 0.1);
  background: ${e=>e.menuConfigs.bgColor};
  border-radius: 2px;
  padding: 6px 0;
  transition: opacity 0.2s ease-in-out;
  transform-origin: 0 0;
  animation: ${Gt} 0.2s;
  animation-fill-mode: forwards;
  z-index: 999;
  &.hide-menu {
    animation: ${zt} 0.1s;
    animation-fill-mode: forwards;
    z-index: -9999;
  }
  .divider {
    margin: 4px 12px;
    border-top: 1px solid ${e=>e.menuConfigs.dividerColor};
    min-width: ${e=>"ch"===e.lang?"82%":"87%"};
  }
  .menu-content {
    font-size: 12px;
    font-family: PingFangSC, sans-serif;
    color: ${e=>e.menuConfigs.listItem.textColor};
    background: ${e=>e.menuConfigs.listItem.bgColor};
    width: 100%;
    height: 26px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 12px;
    cursor: pointer;
    svg > path {
      fill: ${e=>e.menuConfigs.listItem.textColor};
    }
    &.disabled {
      color: ${e=>e.menuConfigs.listItem.disabledTextColor};
      &:hover {
        cursor: not-allowed;
        background: none;
        color: ${e=>e.menuConfigs.listItem.disabledTextColor};
      }
    }
  }
  .menu-content:hover {
    background: ${e=>e.menuConfigs.listItem.hoverBgColor};
    cursor: pointer;
    color: ${e=>e.menuConfigs.listItem.hoverTextColor};

    svg > path {
      fill: ${e=>e.menuConfigs.listItem.hoverTextColor};
    }
  }
`,Vt=Bt.div`
  position: absolute;
  width: 100%; /* scrollbar width */
  height: 100%;
  z-index: 3; /* 需要比resizer高 */
  pointer-events: none;
  font-size: 12px;
  overflow: hidden;
  span {
    line-height: 1;
  }

  .corner {
    position: absolute;
    left: 0;
    top: 0;
    width: ${e=>e.thick+"px"};
    height: ${e=>e.thick+"px"};
    border-right: 1px solid ${e=>e.borderColor};
    border-bottom: 1px solid ${e=>e.borderColor};
    pointer-events: auto;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
    box-sizing: content-box;
    &.active {
      background-color: ${e=>e.cornerActiveColor} !important;
    }
  }

  .indicator {
    position: absolute;
    pointer-events: none;
    .value {
      position: absolute;
      background: white;
    }
  }

  .ruler {
    width: 100%;
    height: 100%;
    pointer-events: auto;
  }

  .line {
    position: absolute;
    .action {
      position: absolute;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .value {
      pointer-events: none;
      transform: scale(0.83);
    }
    .del {
      cursor: pointer;
      padding: 3px 5px;
      visibility: hidden;
    }
    &:hover .del {
      visibility: visible;
    }
  }

  .h-container,
  .v-container {
    position: absolute;
    .lines {
      pointer-events: none;
    }
    &:hover .lines {
      pointer-events: auto;
    }
  }

  .h-container {
    left: ${e=>e.thick+"px"};
    top: 0;
    width: calc(100% - ${e=>e.thick+"px"});
    height: ${e=>`${e.thick+1}px`};

    .line {
      height: 100vh;
      top: 0;
      padding-left: 5px;
      border-left: 1px solid ${e=>e.lineColor};
      cursor: ${e=>e.isShowReferLine?"ew-resize":"none"};
      .action {
        top: ${e=>e.thick+"px"};
        transform: translateX(-24px);
        .value {
          margin-left: 4px;
        }
      }
    }

    .indicator {
      top: 0;
      border-left: 1px solid ${e=>e.lineColor};
      height: 100vw;
      .value {
        margin-left: 2px;
        margin-top: 4px;
      }
    }
  }

  .v-container {
    top: ${e=>e.thick+"px"};
    left: 0;
    width: ${e=>`${e.thick+1}px`};
    height: calc(100% - ${e=>e.thick+"px"});

    .line {
      width: 100vw;
      left: 0;
      padding-top: 5px;
      border-top: 1px solid ${e=>e.lineColor};
      cursor: ${e=>e.isShowReferLine?"ns-resize":"none"};
      .action {
        left: ${e=>e.thick+"px"};
        transform: translateY(-24px);
        flex-direction: column;
        .value {
          margin-top: 4px;
        }
      }
    }

    .indicator {
      border-bottom: 1px solid ${e=>e.lineColor};
      width: 100vw;
      .value {
        margin-left: 2px;
        margin-top: -5px;
        transform-origin: 0 0;
        transform: rotate(-90deg);
      }
    }
  }
`;var Zt={name:"RulerContextMenu",data(){return{state:{},el:null}},props:{vertical:Boolean,menuPosition:Object,handleShowRuler:Function,isShowReferLine:Boolean,handleShowReferLine:Function,horLineArr:Array,verLineArr:Array,handleLine:Function,oncloseMenu:Function,lang:String,menuConfigs:Object},created(){this.el=document.createElement("div")},mounted(){document.body.appendChild(this.el),document.addEventListener("click",this.closeMenu),document.addEventListener("mousedown",this.closeMenuMouse)},destroyed(){document.removeEventListener("mousedown",this.closeMenuMouse),document.removeEventListener("click",this.closeMenu),document.body.removeChild(this.el)},closeMenu(){this.oncloseMenu()},closeMenuMouse(e){2===e.button&&this.closeMenu()},onhandleShowRuler(){this.handleShowRuler()},onhandleShowReferLine(){this.handleShowReferLine()},onhandleShowSpecificRuler(){const e=this.vertical?{h:this.horLineArr,v:[]}:{h:[],v:this.verLineArr};this.handleLine(e),this.closeMenu()},render(){const e=arguments[0],{left:t,top:n}=this.menuPosition,r=this.vertical?!this.verLineArr.length:!this.horLineArr.length;return e(Ce,{attrs:{to:this.el}},[e(Ht,{style:{left:t,top:n},attrs:{showReferLine:this.isShowReferLine,lang:this.lang,menuConfigs:this.menuConfigs,id:"contextMenu"}},[e("a",{class:"menu-content",on:{click:this.onhandleShowRuler}},[xe[this.lang].show_ruler,e("svg",{attrs:{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M1 5.066c0 .211.07.39.212.538L3.346 7.78A.699.699 0 0 0 3.872 8a.69.69 0 0 0 .517-.221l4.39-4.49A.731.731 0 0 0 9 2.753a.717.717 0 0 0-.22-.532A.714.714 0 0 0 8.255 2a.714.714 0 0 0-.524.221l-3.86 3.955L2.26 4.528a.714.714 0 0 0-.524-.221.714.714 0 0 0-.524.221.749.749 0 0 0-.212.538z",fill:"#415058",fillRule:"evenodd"}})])]),e("a",{class:"menu-content",on:{click:this.onhandleShowReferLine}},[xe[this.lang].show_refer_line]),e("div",{class:"divider"}),e("a",{class:"menu-content"+(r?" disabled":""),on:{click:this.onhandleShowSpecificRuler}},[xe[this.lang].remove_all,this.vertical?xe[this.lang].horizontal:xe[this.lang].vertical,xe[this.lang].refer_line])])])}};const Xt={bgColor:"#fff",dividerColor:"#DBDBDB",listItem:{textColor:"#415058",hoverTextColor:"#298DF8",disabledTextColor:"rgba(65, 80, 88, 0.4)",bgColor:"#fff",hoverBgColor:"#F2F2F2"}};var Yt={name:"MbRuler",data(){return{state:{isShowMenu:!1,vertical:!1,positionObj:{x:0,y:0}}}},props:{scale:{type:Number,default:1},ratio:{type:Number,default:window.devicePixelRatio||1},thick:{type:Number,default:16},width:{type:Number},height:{type:Number},startX:{type:Number,default:0},startY:{type:Number,default:0},shadow:{type:Object,default:()=>({x:200,y:100,width:200,height:400})},horLineArr:{type:Array,default:()=>[100,200]},verLineArr:{type:Array,default:()=>[100,200]},handleLine:{type:Function,default:()=>{}},cornerActive:{type:Boolean,default:!1},onCornerClick:{type:Function,default:()=>{}},lang:{type:String,default:"zh-CN"},isOpenMenuFeature:{type:Boolean,default:!1},handleShowRuler:{type:Function,default:()=>{}},isShowReferLine:{type:Boolean,default:!1},handleShowReferLine:{type:Function,default:()=>{}},palette:{type:Object,default:()=>({bgColor:"rgba(225,225,225, 0)",longfgColor:"#BABBBC",shortfgColor:"#C8CDD0",fontColor:"#7D8694",shadowColor:"#E8E8E8",lineColor:"#EB5648",borderColor:"#DADADC",cornerActiveColor:"rgb(235, 86, 72, 0.6)",menu:Xt})}},methods:{setState(e={}){for(let t of Object.keys(e))this.$set(this.state,t,e[t])},handleLineChange(e,t){const n=t?{h:this.horLineArr,v:[...e]}:{h:[...e],v:this.verLineArr};this.handleLine(n)},onShowRightMenu(e,t,n){this.setState({isShowMenu:!0,vertical:n,positionObj:{x:e,y:t}})},onhandlecloseMenu(){this.setState({isShowMenu:!1})},preventDefault(e){e.preventDefault()}},mounted(){const{ratio:e,palette:t}={ratio:this.ratio,palette:this.palette},n=t.menu||Xt;this.canvasConfigs={ratio:e,bgColor:t.bgColor,longfgColor:t.longfgColor,shortfgColor:t.shortfgColor,fontColor:t.fontColor,shadowColor:t.shadowColor,lineColor:t.lineColor,borderColor:t.borderColor,cornerActiveColor:t.cornerActiveColor},this.menuConfigs={bgColor:n.bgColor,dividerColor:n.dividerColor,listItem:n.listItem}},render(){const e=arguments[0],{width:t,height:n,scale:r,handleLine:o,thick:i,shadow:a,startX:s,startY:c,cornerActive:l,horLineArr:u,verLineArr:h,onCornerClick:f,palette:{bgColor:d},lang:p,isOpenMenuFeature:g,handleShowRuler:v,isShowReferLine:m,handleShowReferLine:b}=this._props,{positionObj:y,vertical:w,isShowMenu:C}=this.state,{x:x,y:S,width:k,height:_}=a,A={scale:r,canvasConfigs:this.canvasConfigs,onLineChange:this.handleLineChange,onShowRightMenu:this.onShowRightMenu,isShowReferLine:m,handleShowReferLine:b},O={left:y.x,top:y.y};return()=>e(Vt,se()([{attrs:{id:"mb-ruler",className:"mb-ruler",isShowReferLine:m,thick:i}},this.canvasConfigs,{on:{contextMenu:this.preventDefault}}]),[e(me,se()([{attrs:{width:t,height:i,start:s,lines:u,selectStart:x,selectLength:k}},A])),e(me,se()([{attrs:{width:i,height:n,start:c,lines:h,selectStart:S,selectLength:_,vertical:!0}},A])),e("a",{attrs:{className:"corner"+(l?" active":"")},style:{backgroundColor:d},on:{click:f}}),g&&C&&e(Zt,{key:String(O.left)+String(O.top),attrs:{lang:p,vertical:w,handleLine:o,horLineArr:u,verLineArr:h,menuPosition:O,handleShowRuler:v,isShowReferLine:m,handleShowReferLine:b,menuConfigs:this.menuConfigs},on:{closeMenu:this.onhandlecloseMenu}})])}},Ut={name:"MbRulerDemo",mixins:[z.Z],components:{MbRuler:Yt},props:{},data(){return{}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}},qt=Ut,Wt=(0,Z.Z)(qt,oe,ie,!1,null,"35f8e50b",null),Jt=Wt.exports,Kt={name:"RoyEditor",mixins:[z.Z],components:{MbRulerDemo:Jt},props:{},data(){return{}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}},Qt=Kt,en=(0,Z.Z)(Qt,ne,re,!1,null,"c8de9ac6",null),tn=en.exports,nn={name:"DesignerMain",mixins:[z.Z],components:{ToolBar:te,Editor:tn},props:{},data(){return{}},methods:{initMounted(){}},created(){},mounted(){this.initMounted()},watch:{}},rn=nn,on=(0,Z.Z)(rn,U,q,!1,null,null,null),an=on.exports;const sn=a.i8;var cn={name:"RoyPrintDesigner",components:{DesignerAside:Y,DesignerMain:an},props:{},data(){return{}},computed:{isNightMode(){return this.$store.state.printTemplateModule.nightMode.isNightMode}},methods:{...P({initNightMode:"printTemplateModule/nightMode/initNightMode",toggleNightMode:"printTemplateModule/nightMode/toggleNightMode"}),initMounted(){console.log(`\n %c PrintTemplateDesigner® %c v${sn} `,"color:#fff;background:linear-gradient(90deg,#4579e1,#009688);padding:5px 0;","color:#000;background:linear-gradient(90deg,#009688,#ffffff);padding:5px 10px 5px 0px;"),this.initConfig()},initConfig(){this.initNightMode()},dayNightChange(){console.log(!this.isNightMode),this.toggleNightMode(!this.isNightMode)},enterFullScreen(){}},created(){},mounted(){this.initMounted()},watch:{}},ln=cn,un=(0,Z.Z)(ln,o,i,!1,null,"729537d1",null),hn=un.exports;const fn={},dn={},pn={},gn={};var vn={STORAGE_PREFIX:"_ROY_DESIGNER_"};const{STORAGE_PREFIX:mn}=vn;var bn={namespaced:!0,state:()=>({isNightMode:!1}),mutations:{setIsNightMode(e,t){e.isNightMode=t.isNightMode}},actions:{toggleNightMode({commit:e},t){window.localStorage.setItem(`${mn}NIGHT_MODE`,JSON.stringify(t)),document.getElementById("roy-print-template-designer").setAttribute("theme",t?"dark":"day"),e("setIsNightMode",{isNightMode:t})},async initNightMode({dispatch:e}){const t=window.localStorage.getItem(`${mn}NIGHT_MODE`);null!==t&&await e("toggleNightMode",JSON.parse(t))}}},yn={namespaced:!0,state:fn,mutations:pn,actions:gn,getters:dn,modules:{nightMode:bn}};const wn={PtdDesigner:hn},Cn=function(e,t={}){Cn.installed||(t.store?(t.store.registerModule(["printTemplateModule"],yn),Object.keys(wn).forEach((t=>{e.component(t,wn[t])}))):console.warn("[print-template-designer] 请提供store！"))},xn={version:"ROY-PRINT-DESIGNER@0.0.6",install:Cn};"undefined"!==typeof window&&window.Vue&&Cn(window.Vue);var Sn=xn,kn=Sn}(),r}()}));
//# sourceMappingURL=print-template-designer.umd.min.js.map
